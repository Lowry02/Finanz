(this.webpackJsonpnova_investor=this.webpackJsonpnova_investor||[]).push([[0],{278:function(e,t,n){},298:function(e,t,n){},299:function(e,t,n){},302:function(e,t,n){},303:function(e,t,n){},304:function(e,t,n){},305:function(e,t,n){},306:function(e,t,n){},307:function(e,t,n){},308:function(e,t,n){},309:function(e,t,n){},310:function(e,t,n){},311:function(e,t,n){},313:function(e,t,n){},314:function(e,t,n){},315:function(e,t,n){},317:function(e,t,n){},318:function(e,t,n){},319:function(e,t,n){},320:function(e,t,n){},321:function(e,t,n){},322:function(e,t,n){},323:function(e,t,n){},324:function(e,t,n){},325:function(e,t,n){},326:function(e,t,n){},327:function(e,t,n){},328:function(e,t,n){},329:function(e,t,n){},330:function(e,t,n){},331:function(e,t,n){},332:function(e,t,n){},333:function(e,t,n){},334:function(e,t,n){},335:function(e,t,n){},337:function(e,t,n){},342:function(e,t,n){},343:function(e,t,n){},345:function(e,t,n){},346:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n(30),s=n.n(i),r=n(39),c=n(3),o=n(13),l=n(7),u=(n(278),n(428)),d=n(0);var h=function(){var e=Object(o.f)();return Object(d.jsx)("div",{id:"static_home",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("br",{}),Object(d.jsx)("h1",{className:"m-0",children:"Beta testing Finanz v1.4.2"}),Object(d.jsx)("h3",{className:"allert ",children:"Il sito non \xe8 ancora pronto per telefoni e tablet"}),Object(d.jsxs)(u.a,{md:"6",children:[Object(d.jsx)("p",{className:"thin",children:"Per comunicarmi la vostra opinione ho create questo file. Vi baster\xe0 accedere e inserire ci\xf2 che notate nelle apposite tabelle"}),Object(d.jsxs)("p",{children:["-> ",Object(d.jsx)("a",{target:"_blank",href:"https://docs.google.com/document/d/1KVoSZUC17b0TyqphgY5HTvw_ZOwqLpT6i5SjGIIjkso/edit?usp=sharing",children:"Documento Beta testing"})]}),Object(d.jsxs)("p",{children:["-> ",Object(d.jsx)("a",{onClick:function(){return e("/home")},children:"Pagina home statica"})]}),Object(d.jsxs)("p",{children:["-> ",Object(d.jsx)("a",{onClick:function(){return e("/dashboard")},children:"Accedi alla dashboard"})]}),Object(d.jsxs)("p",{children:["-> ",Object(d.jsx)("a",{onClick:function(){return e("/login")},children:"Fai il login o registrati "})]}),Object(d.jsx)("p",{children:"--------------"}),Object(d.jsx)("p",{children:Object(d.jsx)("b",{children:"Creazione e modifica account abilitata"})}),Object(d.jsx)("p",{children:Object(d.jsx)("b",{children:"Creazione e modifica academy abilitata"})}),Object(d.jsx)("p",{children:Object(d.jsx)("b",{children:"Creazione e modifica news abilitata"})}),Object(d.jsx)("p",{children:"--------------"})]})]})})},j=n(9),b=n(4),p=n.n(b),m=n(22),f=n(19),g=n(18),v=n(67),O=n(40),x=n(41),y=Object(g.a)((function e(){Object(f.a)(this,e),this.id="",this.name=""})),w=n(10),k=n.n(w),N=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(f.a)(this,n),(e=t.call(this)).state=void 0,e.overrideState=void 0,e}return Object(g.a)(n,[{key:"setState",value:function(e){this.state=e}},{key:"setOverrideState",value:function(e){this.overrideState=e}},{key:"updateInfo",value:function(){if(void 0!=this.state){var e=new n;Object.assign(e,this),this.state(e)}else void 0!=this.overrideState&&this.overrideState()}},{key:"getName",value:function(){return this.name}},{key:"getId",value:function(){return this.id}},{key:"setName",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.name=e,t&&this.updateInfo()}},{key:"setId",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.id=e,t&&this.updateInfo()}},{key:"linkFieldToTag",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),e.next=3,k.a.ajax({type:"POST",url:sr+"/field_of_interest/"+t+"/tag/"+this.id,contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(e){return console.log(e)}});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unlinkFieldToTag",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),e.next=3,k.a.ajax({type:"DELETE",url:sr+"/field_of_interest/"+t+"/tag/"+this.id,contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(e){return console.log(e)}});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkTagToArg",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),e.next=3,k.a.ajax({type:"POST",url:sr+"/academy/argument/"+t+"/tag/"+this.id,contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(e){return console.log(e)}});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unlinkTagToArg",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),e.next=3,k.a.ajax({type:"DELETE",url:sr+"/academy/argument/"+t+"/tag/"+this.id,contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(e){return console.log(e)}});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkTagToNews",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),e.next=3,k.a.ajax({type:"POST",url:sr+"/news/"+t+"/tag/"+this.id,contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(e){return console.log(e)}});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unlinkTagToNews",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),e.next=3,k.a.ajax({type:"DELETE",url:sr+"/news/"+t+"/tag/"+this.id,contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(e){return console.log(e)}});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(y),I=N,C=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){return Object(f.a)(this,n),t.call(this)}return Object(g.a)(n,[{key:"updateInfo",value:function(){if(void 0!=this.state){var e=new n;Object.assign(e,this),this.state(e)}else void 0!=this.overrideState&&this.overrideState()}}]),n}(I),_=function(){function e(){Object(f.a)(this,e),this.field_of_interest=[],this.user_interests=[],this.state=void 0,this.overrideState=void 0}return Object(g.a)(e,[{key:"setState",value:function(e){this.state=e}},{key:"setOverrideState",value:function(e){this.overrideState=e}},{key:"updateInfo",value:function(){if(void 0!=this.state){var t=new e;Object.assign(t,this),this.state(t)}else void 0!=this.overrideState&&this.overrideState()}},{key:"getUserInterests",value:function(){return this.user_interests}},{key:"getFieldOfInterest",value:function(){return this.field_of_interest}},{key:"setUserInterests",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.user_interests=e,t&&this.updateInfo()}},{key:"setFieldOfInterest",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.field_of_interest=e,t&&this.updateInfo()}},{key:"loadUserFieldsOfInterest",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("accessToken"),e.next=3,k.a.ajax({type:"GET",url:sr+"user/fields_of_interest",accepts:"json",contentType:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)},success:function(e){var t=e.interests;n.setUserInterests(t.map((function(e){return e.slug})))}});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loadFields",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.localStorage.getItem("accessToken"),0!=this.field_of_interest.length){e.next=4;break}return e.next=4,k.a.ajax({type:"GET",url:sr+"fields_of_interest",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)},success:function(e){var t,a=e.fieldsOfInterest,i=Object(m.a)(a);try{for(i.s();!(t=i.n()).done;){var s=t.value,r=new C;r.setId(s.slug),r.setName(s.name),n.field_of_interest.push(r)}}catch(c){i.e(c)}finally{i.f()}n.updateInfo(),console.log(n.getFieldOfInterest())}});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),e.next=3,k.a.ajax({type:"POST",url:sr+"fields_of_interest",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},data:JSON.stringify({name:t}),success:function(e){var t=e.fieldOfInterest,n=new C;n.setName(t.name),n.setId(t.slug),a.field_of_interest.push(n),a.updateInfo(),console.log(a.field_of_interest)}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),e.next=3,k.a.ajax({type:"DELETE",url:sr+"field_of_interest/"+t,accepts:"json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(e){var n=a.field_of_interest.map((function(e){return e.getId()})).indexOf(t);n>=0&&(a.field_of_interest.splice(n,1),a.updateInfo())}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addUserFieldOfInterest",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),e.next=3,k.a.ajax({type:"POST",url:sr+"/field_of_interest/"+t+"/user_link",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(){a.user_interests.push(t),a.updateInfo()}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeUserFieldOfInterest",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),e.next=3,k.a.ajax({type:"DELETE",url:sr+"/field_of_interest/"+t+"/user_link",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(){var e=a.user_interests.indexOf(t);e>=0&&(a.user_interests.splice(e,1),a.updateInfo())}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTagPerField",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),a=[],e.next=4,k.a.ajax({type:"GET",url:sr+"/field_of_interest/"+t+"/tags",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(e){a=e.tags.map((function(e){var t=new I;return t.setName(e.name),t.setId(e.slug),t}))}});case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),S=_,T=function(){function e(){Object(f.a)(this,e),this.accessToken="",this.refreshToken="",this.name="",this.surname="",this.birthday="",this.email="",this.username="",this.password="",this.codice_invito="",this.avatar=null,this.xp="",this.consecutiveDaysJoin="",this.league="",this.language="",this.role=[],this.createdCodes=[],this.interests_field=new S,this.isPremium=!1}return Object(g.a)(e,[{key:"setAccessToken",value:function(e){this.accessToken=e}},{key:"setRefreshToken",value:function(e){this.refreshToken=e}},{key:"setName",value:function(e){this.name=e}},{key:"setSurname",value:function(e){this.surname=e}},{key:"setBirthday",value:function(e){this.birthday=e}},{key:"setEmail",value:function(e){this.email=e}},{key:"setUsername",value:function(e){this.username=e}},{key:"setPassword",value:function(e){this.password=e}},{key:"setCodiceInvito",value:function(e){this.codice_invito=e}},{key:"setAvatar",value:function(e){this.avatar=e}},{key:"setXP",value:function(e){this.xp=e}},{key:"setLanguage",value:function(e){this.language=e}},{key:"setLeague",value:function(e){this.league=e}},{key:"setConsecutiveDaysJoin",value:function(e){this.consecutiveDaysJoin=e}},{key:"setRole",value:function(e){this.role=e}},{key:"setCreatedCodes",value:function(e){this.createdCodes=e}},{key:"setInterestsField",value:function(e){this.interests_field=e}},{key:"setIsPremium",value:function(e){this.isPremium=e}},{key:"getAccessToken",value:function(){return this.accessToken}},{key:"getRefreshToken",value:function(){return this.refreshToken}},{key:"getName",value:function(){return this.name}},{key:"getSurname",value:function(){return this.surname}},{key:"getBirthday",value:function(){return this.birthday}},{key:"getEmail",value:function(){return this.email}},{key:"getUsername",value:function(){return this.username}},{key:"getPassword",value:function(){return this.password}},{key:"getCodiceInvito",value:function(){return this.codice_invito}},{key:"getAvatar",value:function(){return this.avatar}},{key:"getXP",value:function(){return this.xp}},{key:"getLanguage",value:function(){return this.language}},{key:"getLeague",value:function(){return this.league}},{key:"getConsecutiveDaysJoin",value:function(){return this.consecutiveDaysJoin}},{key:"getRole",value:function(){return this.role}},{key:"getCreatedCodes",value:function(){return this.createdCodes}},{key:"getInterestsField",value:function(){return this.interests_field}},{key:"getIsPremium",value:function(){return this.isPremium}}]),e}(),z=T,A=Object(g.a)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";Object(f.a)(this,e),this.id=t,this.title=n,this.author=a,this.date=i,this.content=s,this.author_username=r})),P=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(f.a)(this,n),(e=t.call(this)).state=void 0,e.overrideState=void 0,e}return Object(g.a)(n,[{key:"load",value:function(e){var t=e.id,n=void 0===t?"":t,a=e.title,i=void 0===a?"":a,s=e.author,r=void 0===s?"":s,c=e.date,o=void 0===c?"":c,l=e.content,u=void 0===l?"":l,d=e.author_username,h=void 0===d?"":d;this.id=n,this.title=i,this.author=r,this.date=o,this.content=u,this.author_username=h}},{key:"updateInfo",value:function(){if(void 0!=this.state){var e=new n;Object.assign(e,this),this.state(e)}else void 0!=this.overrideState&&this.overrideState()}},{key:"setState",value:function(e){this.state=e}},{key:"setOverrideState",value:function(e){this.overrideState=e}},{key:"getId",value:function(){return this.id}},{key:"getTitle",value:function(){return this.title}},{key:"getAuthor",value:function(){return this.author}},{key:"getDate",value:function(){return this.date}},{key:"getContent",value:function(){return this.content}},{key:"getAuthorUsername",value:function(){return this.author_username}},{key:"setId",value:function(e,t){this.id=e,t&&this.updateInfo()}},{key:"setTitle",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.title=e,t&&this.updateInfo()}},{key:"setAuthor",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.author=e,t&&this.updateInfo()}},{key:"setDate",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.date=e,t&&this.updateInfo()}},{key:"setContent",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.content=e,t&&this.updateInfo()}},{key:"setAuthorUsername",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.author_username=e,t&&this.updateInfo()}},{key:"exportInfo",value:function(){return{id:this.getId(),title:this.getTitle(),content:this.getContent(),date:this.getDate(),author:this.getAuthor(),author_username:this.getAuthorUsername()}}}]),n}(A),L=P,E=n.p+"static/media/draghi.16263d22.jpeg",q=new L;q.load({id:"CA532",title:"Come fai a fare cose cos\xec interessanti",author:"Pino Daniele",data:"21/01/2021",content:"Lorem Ipsum \xe8 un testo segnaposto utilizzato nel settore della tipografia e della stampa. Lorem Ipsum \xe8 considerato il testo segnaposto standard sin dal sedicesimo secolo, quando un anonimo tipografo prese una cassetta di caratteri e li assembl\xf2 per preparare un testo campione."});var D={id:"CA534",title:"Lorem Ipsum is simply dummy text of the printing and typesetting industry.",description:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries.",publishDate:"3 ore fa",author:"Gino Pauli",content:"# asdasdsadsa",wallpaper:E,category:"Economia",comments:[q,q]},R=Object(g.a)((function e(){Object(f.a)(this,e),this.id="",this.title="",this.description="",this.publishDate="",this.author="",this.category={},this.content="",this.wallpaper="",this.socialPage="",this.comments=[],this.comment_page_index=1,this.isSaved=!1,this.isLiked=!1})),M=n(43),F=n.n(M),B=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(f.a)(this,n),(e=t.call(this)).state=void 0,e.overrideState=void 0,e}return Object(g.a)(n,[{key:"setState",value:function(e){this.state=e}},{key:"setOverrideState",value:function(e){this.overrideState=e}},{key:"updateState",value:function(){if(void 0!=this.state){var e=new n;Object.assign(e,this),this.state(e)}else void 0!=this.overrideState&&this.overrideState()}},{key:"loadInfo",value:function(e){var t=e.id,n=void 0===t?"":t,a=e.title,i=void 0===a?"":a,s=e.description,r=void 0===s?"":s,c=e.publishDate,o=void 0===c?"":c,l=e.author,u=void 0===l?"":l,d=e.category,h=void 0===d?{}:d,j=e.content,b=void 0===j?"":j,p=e.wallpaper,m=void 0===p?"":p,f=e.socialPage,g=void 0===f?"":f,v=e.comments,O=void 0===v?[]:v,x=e.comment_page_index,y=void 0===x?1:x,w=e.isSaved,k=void 0!==w&&w,N=e.isLiked,I=void 0!==N&&N;this.id=n,this.title=i,this.description=r,this.publishDate=o,this.author=u,this.category=h,this.content=b,this.wallpaper=m,this.socialPage=g,this.comments=O,this.comment_page_index=y,this.isSaved=k,this.isLiked=I}},{key:"load",value:function(e){this.loadInfo(e),this.updateState()}},{key:"loadById",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),e.abrupt("return",k.a.ajax({type:"GET",url:sr+"news/article/"+t,accepts:"application/json",contentType:"application/json",beforeSend:function(e){return void 0!=n?e.setRequestHeader("Authorization","Bearer "+n):function(){}},success:function(e){var t=e.news,n=!1,i=e.news.author.personalData;a.setAuthor(i.surname+" "+i.name,n),a.setCategory(t.categories,n),a.setTitle(t.title,n),a.setWallpaper(t.coverImageLink),a.setDescription(t.description,n),a.setContent(t.content,n),a.setId(t.slug,n),a.setPublishDate(F()(t.uploadDate).format("DD-MM-YYYY HH:mm"),n),a.setIsLiked(e.isLiked,n),a.setIsSaved(e.isSaved,n),a.updateState()},error:function(e){return console.log(e)}}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadComments",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n,a=this,i=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i.length>0&&void 0!==i[0]?i[0]:this.id,n=window.localStorage.getItem("accessToken"),null!=this.getCommentPageIndex()&&k.a.ajax({type:"GET",url:sr+"/news/article/"+t+"/comments",accepts:"json",contentType:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},data:{page:this.getCommentPageIndex()},success:function(e){var t=e.next_page;a.setCommentPageIndex(t);var n,i=e.comment_list,s=Object(m.a)(i);try{for(s.s();!(n=s.n()).done;){var r=n.value,c=r.comment_id,o=r.comment,l=r.author.personalData,u=l.surname,d=l.name,h=r.author.username,j=new L;j.setId(c),j.setContent(o),j.setAuthor(u+" "+d),j.setAuthorUsername(h),a.comments.push(j)}}catch(b){s.e(b)}finally{s.f()}a.updateState()}});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"saveNews",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=window.localStorage.getItem("accessToken"),k.a.ajax({type:"POST",url:sr+"/news/article/"+this.getId()+"/save",accepts:"json",contentType:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)}});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"unsaveNews",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=window.localStorage.getItem("accessToken"),k.a.ajax({type:"DELETE",url:sr+"/news/article/"+this.getId()+"/save",accepts:"json",contentType:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)}});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"likedNews",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=window.localStorage.getItem("accessToken"),k.a.ajax({type:"POST",url:sr+"/news/article/"+this.getId()+"/like",accepts:"json",contentType:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)}});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"unlikeNews",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=window.localStorage.getItem("accessToken"),k.a.ajax({type:"DELETE",url:sr+"/news/article/"+this.getId()+"/like",accepts:"json",contentType:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)}});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getId",value:function(){return this.id}},{key:"getTitle",value:function(){return this.title}},{key:"getDescription",value:function(){return this.description}},{key:"getPublishDate",value:function(){return this.publishDate}},{key:"getAuthor",value:function(){return this.author}},{key:"getCategory",value:function(){return this.category}},{key:"getContent",value:function(){return this.content}},{key:"getWallpaper",value:function(){return this.wallpaper}},{key:"getSocialPage",value:function(){return this.socialPage}},{key:"getComments",value:function(){return this.comments}},{key:"getIsLiked",value:function(){return this.isLiked}},{key:"getIsSaved",value:function(){return this.isSaved}},{key:"getCommentPageIndex",value:function(){return this.comment_page_index}},{key:"setId",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.id=e,t&&this.updateState()}},{key:"setTitle",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.title=e,t&&this.updateState()}},{key:"setDescription",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.description=e,t&&this.updateState()}},{key:"setPublishDate",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.publishDate=e,t&&this.updateState()}},{key:"setAuthor",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.author=e,t&&this.updateState()}},{key:"setCategory",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.category=e,t&&this.updateState()}},{key:"setWallpaper",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.wallpaper=e,t&&this.updateState()}},{key:"setSocialPage",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.socialPage=e,t&&this.updateState()}},{key:"setComments",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.comments=e,t&&this.updateState()}},{key:"setContent",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.content=e,t&&this.updateState()}},{key:"setIsLiked",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.isLiked=e,t&&this.updateState()}},{key:"setIsSaved",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.isSaved=e,t&&this.updateState()}},{key:"setCommentPageIndex",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.comment_page_index=e,t&&this.updateState()}},{key:"exportInfo",value:function(){return{id:this.getId(),title:this.getTitle(),description:this.getDescription(),publishDate:this.getPublishDate(),author:this.getAuthor(),category:this.getCategory(),content:this.getContent(),wallpaper:this.getWallpaper(),socialPage:this.getSocialPage()}}},{key:"addComment",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=window.localStorage.getItem("accessToken"),k.a.ajax({type:"POST",url:sr+"/news/article/"+this.getId()+"/comments",accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},data:JSON.stringify({content:t.content}),success:function(e){var n=e.comment.comment_id;t.id=n;var i=new L;i.load(Object(l.a)({},t));var s=a.getComments();s.push(i),a.setComments(s)}});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeComment",value:function(e){var t=this,n=window.localStorage.getItem("accessToken");k.a.ajax({type:"DELETE",url:sr+"/news/articles/comment/"+e,accepts:"json",contentType:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(){var n=t.getComments(),a=n.map((function(e){return e.getId()})).indexOf(e);a>-1&&n.splice(a,1),t.updateState()}})}},{key:"getComment",value:function(e){return this.comments.map((function(t){if(t.getId()==e)return t}))}}]),n}(R),W=B,V=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:void 0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{},d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:{},h=arguments.length>11&&void 0!==arguments[11]?arguments[11]:1;Object(f.a)(this,e),this.generalNews=t,this.personalNews=n,this.savedNews=a,this.createdNews=i,this.dailiNews=s,this.categories=r,this.overrideState=l,this.state=o,this.created_news_index=c,this.GENERAL_NEWS_TAG="general",this.PERSONAL_NEWS="personal",this.SAVED_NEWS_TAG="saved",this.CREATED_NEWS_TAG="created",this.saved_news_index=h,this.index_per_category=u,this.news_per_category=d}return Object(g.a)(e,[{key:"setState",value:function(e){this.state=e,this.updateInfo()}},{key:"setOverrideState",value:function(e){this.overrideState=e}},{key:"updateInfo",value:function(){void 0!=this.state?this.state(new e(this.generalNews,this.personalNews,this.savedNews,this.createdNews,this.dailiNews,this.categories,this.created_news_index,this.state,this.overrideState,this.index_per_category,this.news_per_category,this.saved_news_index)):void 0!=this.overrideState&&this.overrideState()}},{key:"loadNewsPerCategory",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n,a,i,s=this,r=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.length>0&&void 0!==r[0]?r[0]:"general",n=window.localStorage.getItem("accessToken"),null!=(a=void 0!==this.index_per_category[t]?this.index_per_category[t]:1)&&(i={page:a},""!=t&&"general"!=t&&(i.category=t),k.a.ajax({type:"GET",url:sr+"news/articles",accepts:"application/json",contentType:"json",beforeSend:function(e){return void 0!=n?e.setRequestHeader("Authorization","Bearer "+n):function(){}},data:i,success:function(e){var n=e.next_page;s.index_per_category[t]=n,void 0==s.news_per_category[t]&&(s.news_per_category[t]=[]);for(var a=e.news_list,i=0,r=Object.values(a);i<r.length;i++){var c=r[i].content,o=new W;o.setOverrideState(function(){return s.updateInfo()}.bind(s)),o.setAuthor(c.author.personalData.surname+" "+c.author.personalData.name),o.setId(c.slug),o.setWallpaper(c.coverImageLink),o.setTitle(c.title),s.news_per_category[t].push(o)}s.updateInfo()}}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"load",value:function(e){var t=e.generalNews,n=e.personalNews,a=e.savedNews,i=e.createdNews,s=e.dailiNews,r=e.categories,c=e.created_news_index,o=e.state,l=e.overrideState,u=e.index_per_category,d=e.news_per_category,h=e.saved_news_index;this.generalNews=t,this.personalNews=n,this.savedNews=a,this.createdNews=i,this.dailiNews=s,this.categories=r,this.created_news_index=c,this.state=o,this.overrideState=l,this.index_per_category=u,this.news_per_category=d,this.saved_news_index=h}},{key:"getGeneralNews",value:function(){return this.generalNews}},{key:"getPersonalNews",value:function(){return this.personalNews}},{key:"getSavedNews",value:function(){return this.savedNews}},{key:"getCreatedNews",value:function(){return this.createdNews}},{key:"getDailyNews",value:function(){return this.dailiNews}},{key:"getCategories",value:function(){return this.categories}},{key:"getNewsPerCategory",value:function(e){return void 0!=this.news_per_category[e]?this.news_per_category[e]:[]}},{key:"getSavedNewsIndex",value:function(){return this.saved_news_index}},{key:"setGeneralNews",value:function(e){this.generalNews=Object(l.a)(Object(l.a)({},this.generalNews),e),this.updateInfo()}},{key:"setPersonalNews",value:function(e){this.personalNews=Object(l.a)(Object(l.a)({},this.personalNews),e),this.updateInfo()}},{key:"setSavedNews",value:function(e){this.savedNews=Object(l.a)(Object(l.a)({},this.savedNews),e),this.updateInfo()}},{key:"setCreatedNews",value:function(e){this.createdNews=Object(l.a)(Object(l.a)({},this.createdNews),e),this.updateInfo()}},{key:"setDailiNews",value:function(e){this.dailiNews=Object(l.a)(Object(l.a)({},this.dailiNews),e),this.updateInfo()}},{key:"setCategories",value:function(e){this.categories=e,this.updateInfo()}},{key:"setSavedNewsIndex",value:function(e){this.saved_news_index=e,this.updateInfo()}},{key:"__getNewsList",value:function(e,t){for(var n=this,a={},i=Object.keys(e).length,s=i;s<i+t;s++){var r=new W;r.setOverrideState(function(){return n.updateInfo()}.bind(this)),r.load(D),r.setId(s),a[s]=r}return a}},{key:"loadGeneralNews",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=this.__getNewsList(this.generalNews,e);this.setGeneralNews(t)}},{key:"loadPersonalNews",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=this.__getNewsList(this.personalNews,e);this.setPersonalNews(t)}},{key:"loadSavedNews",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n=this,a=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.length>0&&void 0!==a[0]?a[0]:10,t=window.localStorage.getItem("accessToken"),null!=this.saved_news_index&&k.a.ajax({type:"GET",url:sr+"news/article/saves",accepts:"json",contentType:"json",beforeSend:function(e){return void 0!=t?e.setRequestHeader("Authorization","Bearer "+t):function(){}},data:{page:this.saved_news_index},success:function(e){n.saved_news_index=e.next_page;var t,a=e.news_list,i=Object(l.a)({},n.getSavedNews()),s=Object(m.a)(a);try{for(s.s();!(t=s.n()).done;){var r=t.value,c=new W;c.setId(r.slug),c.setTitle(r.title),c.setOverrideState(function(){return n.updateInfo()}.bind(n)),i[r.slug]=c}}catch(o){s.e(o)}finally{s.f()}n.setSavedNews(i)},error:function(e){return console.log(e)}});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadCreatedNews",value:function(){var e=this,t=window.localStorage.getItem("accessToken");null!=this.created_news_index&&k.a.ajax({type:"GET",url:sr+"news/articles/modifiable",accepts:"json",contentType:"json",beforeSend:function(e){return void 0!=t?e.setRequestHeader("Authorization","Bearer "+t):function(){}},data:{page:this.created_news_index},success:function(t){e.created_news_index=t.next_page;var n,a=t.news_list,i=Object(l.a)({},e.getCreatedNews()),s=Object(m.a)(a);try{for(s.s();!(n=s.n()).done;){var r=n.value,c=new W;c.setId(r.slug),c.setTitle(r.title),c.setOverrideState(function(){return e.updateInfo()}.bind(e)),i[r.slug]=c}}catch(o){s.e(o)}finally{s.f()}e.setCreatedNews(i)},error:function(e){return console.log(e)}})}},{key:"loadDailyNews",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=this.__getNewsList(this.createdNews,e);this.setDailiNews(t)}},{key:"loadCategories",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("accessToken"),e.abrupt("return",k.a.ajax({type:"GET",url:sr+"news/categories",accepts:"json",contentType:"json",beforeSend:function(e){return void 0!=t?e.setRequestHeader("Authorization","Bearer "+t):function(){}},success:function(e){var t=e.categories;if(void 0!=t){for(var a=0,i=Object.values(t);a<i.length;a++){var s=i[a],r=s.title,c=s.slug;n.categories[c]=r}n.updateInfo()}}}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"removeNews",value:function(e,t){t==this.CREATED_NEWS_TAG?(delete this.generalNews[e],delete this.savedNews[e],delete this.createdNews[e],delete this.personalNews[e]):t==this.GENERAL_NEWS_TAG?delete this.generalNews[e]:t==this.SAVED_NEWS_TAG?delete this.savedNews[e]:t==this.PERSONAL_NEWS&&delete this.personalNews[e],this.updateInfo();var n=window.localStorage.getItem("accessToken");k.a.ajax({type:"DELETE",url:sr+"news/article/"+e,accepts:"json",contentType:"json",beforeSend:function(e){return void 0!=n?e.setRequestHeader("Authorization","Bearer "+n):function(){}},success:function(){return console.log("ciao")}})}},{key:"getNewsById",value:function(e){var t=this,n=new W;return n.setOverrideState(function(){return t.updateInfo}.bind(this)),n.load(D),n}},{key:"moreNews",value:function(e){return null!=this.index_per_category[e]}}]),e}(),H=V,U=n(24),G=(n.p,Object(g.a)((function e(){Object(f.a)(this,e),this.id="",this.title="",this.argument="",this.wallpaper="",this.description="",this.presentationVideo="",this.presentationVideoId="",this.professors=[],this.offeredBy=[],this.syllabus="",this.publishDate="",this.content={},this.time="",this.star="",this.author="",this.n_video=0,this.comments=[],this.quiz_type="course",this.priority=1}))),Y=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(f.a)(this,n),(e=t.call(this)).selectedChoices=[],e.state=void 0,e.overrideUpdateInfo=void 0,e}return Object(g.a)(n,[{key:"loadInfo",value:function(e){var t=e.id,n=void 0===t?"":t,a=e.title,i=void 0===a?"":a,s=e.image,r=void 0===s?"":s,c=e.choices,o=void 0===c?{}:c,l=e.acceptedChoices,u=void 0===l?[]:l,d=e.type,h=void 0===d?void 0:d;this.id=n,this.title=i,this.image=r,this.choices=o,this.acceptedChoices=u,this.type=h}},{key:"load",value:function(e){var t=e.id,n=e.title,a=e.image,i=e.choices,s=e.acceptedChoices,r=void 0===s?1:s,c=e.selectedChoices,o=void 0===c?[]:c,l=e.type;this.loadInfo({id:t,title:n,image:a,choices:i,acceptedChoices:r,type:l}),this.selectedChoices=o,this.updateInfo()}},{key:"loadById",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a,i,s,r=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:"academy",["academy","course","school"].includes(n)){e.next=5;break}throw console.warn("quizType is not valid - "+n),Error("Internal error");case 5:return a=window.localStorage.getItem("accessToken"),i={},s="","course"==n?s="course/quiz/"+t:"academy"==n?s="/quiz/"+t:"school"==n&&(s="school/quiz/"+t),e.next=11,k.a.ajax({type:"GET",url:sr+s,accepts:"json",contentType:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+a)},success:function(e){i=e.quiz}});case 11:return e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendUserAnswer",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=window.localStorage.getItem("accessToken"),a={isCorrect:!1,xp:void 0},i="","course"==this.getType()?i="/course/lesson/answer/"+t+"/user_answer":"academy"==this.getType()&&(i="/quiz/answer/"+t+"/user_answer"),""==i){e.next=9;break}return e.next=7,k.a.ajax({type:"POST",url:sr+i,accepts:"json",contentType:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(e){a.isCorrect=e.message.isCorrect,a.xp=e.xp}});case 7:e.next=10;break;case 9:a=void 0;case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setOverrideUpdateInfo",value:function(e){this.overrideUpdateInfo=e}},{key:"updateInfo",value:function(){void 0!=this.state?this.state(new n(this.question,this.selectedChoices,this.state,this.overrideUpdateInfo)):void 0!=this.overrideUpdateInfo&&this.overrideUpdateInfo()}},{key:"getId",value:function(){return this.id}},{key:"getTitle",value:function(){return this.title}},{key:"getChoices",value:function(){return this.choices}},{key:"getImage",value:function(){return this.image}},{key:"getAcceptedChoices",value:function(){return this.acceptedChoices}},{key:"getSelectedChoices",value:function(){return this.selectedChoices}},{key:"getType",value:function(){return this.type}},{key:"setId",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.id=e,t&&this.updateInfo()}},{key:"setTitle",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.title=e,t&&this.updateInfo()}},{key:"setChoices",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.choices=e,t&&this.updateInfo()}},{key:"setImage",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.image=e,t&&this.updateInfo()}},{key:"setAcceptedChoices",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.acceptedChoices=e,t&&this.updateInfo()}},{key:"setSelectedChoices",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.selectedChoices=e,t&&this.updateInfo()}},{key:"setType",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.type=e,t&&this.updateInfo()}},{key:"setState",value:function(e){this.state=e}},{key:"addChoice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n="";if(void 0==t)for(n="_0";Object.keys(this.getChoices()).includes(n);)n="_"+10*Math.random();else n=t;var a=this.getChoices();a[n]=e,this.updateInfo()}},{key:"addSelectedChoice",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0!=e){var n=this.getSelectedChoices();this.getAcceptedChoices()&&this.getSelectedChoices().length+1>this.getAcceptedChoices()&&(n=n.slice(1)),n.includes(e)||n.push(e),this.setSelectedChoices(n,t)}t&&this.updateInfo()}},{key:"removeSelectedChoice",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.selectedChoices.indexOf(e);n>-1&&this.selectedChoices.splice(n,1),t&&this.updateInfo()}},{key:"isChoiceSelected",value:function(e){return this.getSelectedChoices().includes(e)}},{key:"exportQuestion",value:function(){return{title:this.getTitle(),image:this.getImage(),choices:this.getChoices(),acceptedChoices:this.getAcceptedChoices(),selectedChoices:this.getSelectedChoices()}}},{key:"areChoicesSelected",value:function(){return this.getSelectedChoices().length==this.getAcceptedChoices()}}]),n}(Object(g.a)((function e(){Object(f.a)(this,e),this.id="",this.title="",this.image="",this.choices={},this.acceptedChoices=1,this.type=void 0}))),Q=Y;function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_name_.jpg",n=e.split(",");if(n.length>1){for(var a=n[0].match(/:(.*?);/)[1],i=atob(n[1]),s=i.length,r=new Uint8Array(s);s--;)r[s]=i.charCodeAt(s);return console.log(new File([r],t,{type:a})),new File([r],t,{type:a})}return""}var K=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Q,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;Object(f.a)(this,e),this.question=n,n.setOverrideUpdateInfo(function(){return t.updateInfo()}.bind(this)),this.correctChoices=a,this.state=i,this.overrideState=s}return Object(g.a)(e,[{key:"setState",value:function(e){this.state=e}},{key:"load",value:function(e){var t=e.question,n=e.correctChoices;void 0!=t&&this.question.load(t),void 0!=n&&this.setCorrectChoices(n),this.updateInfo()}},{key:"setOverrideState",value:function(e){this.overrideState=e}},{key:"updateInfo",value:function(){void 0!=this.state?this.state(new e(this.question,this.correctChoices,this.state,this.overrideState)):void 0!=this.overrideState&&this.overrideState()}},{key:"getCorrectChoices",value:function(){return this.correctChoices}},{key:"getQuestion",value:function(){return this.question}},{key:"setCorrectChoices",value:function(e,t){this.correctChoices=e,t&&this.updateInfo()}},{key:"setQuestion",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.question=e,t&&this.updateInfo()}},{key:"addCorrectChoice",value:function(e){var t=this.getCorrectChoices();t.push(e),this.setCorrectChoices(t)}},{key:"removeCorrectChoice",value:function(e){var t=this.getCorrectChoices(),n=t.indexOf(e);n>-1&&t.splice(n,1),this.setCorrectChoices(t)}},{key:"deleteItem",value:function(e){var t=this.question.getChoices();delete t[e],this.question.setChoices(t)}},{key:"addItem",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=this.question.getChoices();(t=void 0==n?Math.max.apply(Math,Object(U.a)(Object.keys(a).map((function(e){return Number(e)}))))+1:n)==-1/0&&(t=0),a[t]=e,console.log(t),this.question.setChoices(a)}},{key:"postQuestion",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a,i,s,r,c,o,l=this,u=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:"academy",a=window.localStorage.getItem("accessToken"),i=void 0,s="",r="",t?(s="PUT","course"==n?r="course/quiz/"+this.question.getId():"academy"==n?r="quiz/"+this.question.getId():"school"==n&&(r="school/quiz/"+this.question.getId())):(s="POST","course"==n?r="/course/quiz":"academy"==n?r="quiz":"school"==n&&(r="school/quiz")),(c=new FormData).append("question",this.question.getTitle()),this.question.getImage()&&"https"!=this.question.getImage().slice(0,5)&&c.append("picture",J(this.question.getImage())),""==this.question.getImage()&&t&&(o="","course"==n?o="course/quiz/"+this.question.getId()+"/image":"academy"==n?o="/quiz/"+this.question.getId()+"/image":"school"==n&&(o="school/quiz/"+this.question.getId()+"/image"),k.a.ajax({type:"DELETE",url:sr+o,accepts:"application/json",contentType:!1,processData:!1,beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+a)}})),e.next=12,k.a.ajax({type:s,url:sr+r,accepts:"application/json",contentType:!1,processData:!1,beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+a)},data:c,success:function(e){i=void 0==e.quiz?e.slug:e.quiz.slug,l.question.setId(i)},error:function(e){return console.log(e)}});case 12:return e.abrupt("return",i);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"postAnswer",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n,a){var i,s,r,c,o,l=this,u=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]?u[3]:"academy",s=window.localStorage.getItem("accessToken"),r=void 0,c="",o="",a?(c="PUT","course"==i?o="course/quiz/answer/"+n:"academy"==i?o="quiz/answer/"+n:"school"==i&&(o="/school/quiz/answer/"+n)):(c="POST","course"==i?o="course/quiz/"+t+"/answer":"academy"==i?o="quiz/"+t+"/answers":"school"==i&&(o="/school/quiz/"+t+"/answers")),e.next=8,k.a.ajax({type:c,url:sr+o,accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+s)},data:JSON.stringify({answer:this.question.getChoices()[n].title,isCorrect:this.question.getSelectedChoices().includes(n),description:this.question.getChoices()[n].description}),success:function(e){if(r=e.slug,l.question.getSelectedChoices().includes(n)){l.question.getSelectedChoices().indexOf(n);l.question.removeSelectedChoice(n),l.question.addSelectedChoice(r)}},error:function(e){return console.log(e)}});case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"publish",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n,a,i,s,r,c,o,l,u,d,h,j,b,f,g=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=g.length>0&&void 0!==g[0]?g[0]:"academy",["academy","course","school"].includes(t)){e.next=5;break}throw console.warn("quizType is not valid - "+t),Error("Internal error");case 5:return n=""!=this.question.getId(),e.next=8,this.postQuestion(n,t);case 8:if(void 0!=(a=e.sent)){e.next=11;break}throw Error();case 11:i=0,s=Object.keys(this.question.getChoices());case 12:if(!(i<s.length)){e.next=25;break}return r=s[i],n=!("_"==r[0]||!n),e.next=17,this.postAnswer(a,r,n,t);case 17:if(void 0!=(c=e.sent)){e.next=20;break}throw Error();case 20:this.question.getChoices()[c]=this.question.getChoices()[r],r!=c&&delete this.question.getChoices()[r];case 22:i++,e.next=12;break;case 25:return o=window.localStorage.getItem("accessToken"),e.next=28,this.question.loadById(this.question.getId(),t);case 28:l=e.sent,u=Object.keys(this.question.getChoices()),d=Object.values(l.answers).map((function(e){return null===e||void 0===e?void 0:e.slug})),h="","academy"==t?h="quiz/answer/":"course"==t?h="course/quiz/answer/":"school"==t&&(h="school/quiz/answer/"),j=Object(m.a)(d),e.prev=34,j.s();case 36:if((b=j.n()).done){e.next=45;break}if(f=b.value,u.includes(f)){e.next=43;break}return e.next=41,k.a.ajax({type:"DELETE",url:sr+h+f,accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+o)},error:function(){return a=void 0}});case 41:if(void 0!=a){e.next=43;break}throw Error();case 43:e.next=36;break;case 45:e.next=50;break;case 47:e.prev=47,e.t0=e.catch(34),j.e(e.t0);case 50:return e.prev=50,j.f(),e.finish(50);case 53:return e.abrupt("return",a);case 54:case"end":return e.stop()}}),e,this,[[34,47,50,53]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Z=K,X=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(f.a)(this,n),(e=t.call(this)).state=void 0,e.overrideState=void 0,e}return Object(g.a)(n,[{key:"setState",value:function(e){this.state=e}},{key:"setOverrideState",value:function(e){this.overrideState=e}},{key:"loadInfo",value:function(e){var t=e.id,n=void 0===t?"":t,a=e.title,i=void 0===a?"":a,s=e.argument,r=void 0===s?"":s,c=e.description,o=void 0===c?"":c,l=e.presentationVideo,u=void 0===l?"":l,d=e.presentationVideoId,h=void 0===d?"":d,j=e.professors,b=void 0===j?"":j,p=e.syllabus,m=void 0===p?"":p,f=e.publishDate,g=void 0===f?"":f,v=e.content,O=void 0===v?{}:v,x=e.time,y=void 0===x?"":x,w=e.star,k=void 0===w?"":w,N=e.wallpaper,I=void 0===N?"":N,C=e.offeredBy,_=void 0===C?"":C,S=e.author,T=void 0===S?"":S,z=e.n_video,A=void 0===z?0:z,P=e.comments,L=void 0===P?[]:P,E=e.quiz_type,q=void 0===E?"course":E,D=e.priority,R=void 0===D?1:D;this.id=n,this.title=i,this.argument=r,this.presentationVideo=u,this.presentationVideoId=h,this.professors=b,this.syllabus=m,this.description=o,this.publishDate=g,this.time=y,this.star=k,this.wallpaper=I,this.offeredBy=_,this.author=T,this.n_video=A,this.content=O,this.comments=L,this.quiz_type=q,this.priority=R}},{key:"load",value:function(e){var t=this,n=JSON.parse(JSON.stringify(e.content));if(this.loadInfo(e),void 0!=(n=e.content))for(var a in n)for(var i in this.getLessonsByChapter(a))for(var s in this.getLessonQuiz(a,i)){var r=this.getSpecificQuiz(a,i,s);void 0==r.selectedChoices&&(r=r.question);var c=void 0;(c=new Z).setOverrideState(function(){return t.updateInfo()}.bind(this)),c.question.setId(r.id),c.question.setTitle(r.title),c.question.setImage(r.image);for(var o=0,l=Object.keys(r.choices);o<l.length;o++){var u=l[o];c.question.addChoice(r.choices[u],u)}c.question.setSelectedChoices(r.selectedChoices),n[a].lessons[i].quiz[s]=c}this.setContent(n),this.updateInfo()}},{key:"loadById",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a,i,s,r,c,o,l,u,d,h,j,b,f,g,v,O,x=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(x.length>1&&void 0!==x[1])||x[1],e.next=3,this.getGeneralInfo(t);case 3:if(void 0!=(a=e.sent)){e.next=6;break}throw Error();case 6:i=a.course,s=a.chapters,r={id:i.argument.slug,title:i.argument.title,description:i.argument.description},this.setArgument(r),this.setId(i.slug),this.setWallpaper(i.coverImageLink),this.setTitle(i.title),this.setDescription(i.description),this.setPresentationVideo(i.trailerIframe),this.setPresentationVideoId(i.trailerId),this.setPriority(i.priority),this.setOfferedBy(i.authors),c=Object(m.a)(s),e.prev=19,c.s();case 21:if((o=c.n()).done){e.next=52;break}if(l=o.value,this.addChapter(l),u=Object.values(l.lessons),!n){e.next=48;break}d=Object(m.a)(u),e.prev=27,d.s();case 29:if((h=d.n()).done){e.next=38;break}return j=h.value,b=j.slug,e.next=34,this.getLessonFromServer(b);case 34:f=e.sent,this.addLesson(l.slug,f);case 36:e.next=29;break;case 38:e.next=43;break;case 40:e.prev=40,e.t0=e.catch(27),d.e(e.t0);case 43:return e.prev=43,d.f(),e.finish(43);case 46:e.next=50;break;case 48:g=Object(m.a)(u);try{for(g.s();!(v=g.n()).done;)O=v.value,this.addLesson(l.slug,O)}catch(p){g.e(p)}finally{g.f()}case 50:e.next=21;break;case 52:e.next=57;break;case 54:e.prev=54,e.t1=e.catch(19),c.e(e.t1);case 57:return e.prev=57,c.f(),e.finish(57);case 60:case"end":return e.stop()}}),e,this,[[19,54,57,60],[27,40,43,46]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getGeneralInfo",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),a=void 0,e.next=4,k.a.ajax({type:"GET",url:sr+"course/"+t,accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(e){return a=e}});case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLessonFromServer",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),a=void 0,e.next=4,k.a.ajax({type:"GET",url:sr+"course/lesson/"+t,accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(e){return a=e.lesson}});case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadLessonFromServer",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getLessonFromServer(n);case 2:a=e.sent,this.addLesson(t,a);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setReadLesson",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n){var a,i=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.localStorage.getItem("accessToken"),e.next=3,k.a.ajax({type:"POST",url:sr+"/course/lesson/"+n+"/finish",accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+a)},success:function(){i.getLesson(t,n).isFinished=!0,i.updateInfo()}});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getThumbnail",value:function(){var e=Object(j.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.ajax({type:"GET",url:"https://vimeo.com/api/oembed.json?url=https://vimeo.com/"+t,success:function(e){return console.log(e)}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateInfo",value:function(){if(void 0!=this.state){var e=new n;Object.assign(e,this),this.state(e)}else void 0!=this.overrideState&&this.overrideState()}},{key:"setId",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.id=e,t&&this.updateInfo()}},{key:"setTitle",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.title=e,t&&this.updateInfo()}},{key:"setArgument",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.argument=e,t&&this.updateInfo()}},{key:"setPresentationVideo",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.presentationVideo=e,t&&this.updateInfo()}},{key:"setPresentationVideoId",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.presentationVideoId=e,t&&this.updateInfo()}},{key:"setProfessors",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.professors=e,t&&this.updateInfo()}},{key:"setSyllabus",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.syllabus=e,t&&this.updateInfo()}},{key:"setDescription",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.description=e,t&&this.updateInfo()}},{key:"setPublishDate",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.publishDate=e,t&&this.updateInfo()}},{key:"setContent",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.content=e,t&&this.updateInfo()}},{key:"setTime",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.time=e,t&&this.updateInfo()}},{key:"setStar",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.star=e,t&&this.updateInfo()}},{key:"setWallpaper",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.wallpaper=e,t&&this.updateInfo()}},{key:"setOfferedBy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.offeredBy=e,t&&this.updateInfo()}},{key:"setAuthor",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.author=e,t&&this.updateInfo()}},{key:"setNVideo",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.n_video=e,t&&this.updateInfo()}},{key:"setComments",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.comments=e,t&&this.updateInfo()}},{key:"setPriority",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.priority=e,t&&this.updateInfo()}},{key:"getTitle",value:function(){return this.title}},{key:"getArgument",value:function(){return this.argument}},{key:"getPresentationVideo",value:function(){return this.presentationVideo}},{key:"getPresentationVideoId",value:function(){return this.presentationVideoId}},{key:"getProfessors",value:function(){return this.professors}},{key:"getSyllabus",value:function(){return this.syllabus}},{key:"getDescription",value:function(){return this.description}},{key:"getPublishDate",value:function(){return this.publishDate}},{key:"getContent",value:function(){return this.content}},{key:"getTime",value:function(){return this.time}},{key:"getStar",value:function(){return this.star}},{key:"getWallpaper",value:function(){return this.wallpaper}},{key:"getOfferedBy",value:function(){return this.offeredBy}},{key:"getAuthor",value:function(){return this.author}},{key:"getNVideo",value:function(){return this.n_video}},{key:"getId",value:function(){return this.id}},{key:"getComments",value:function(){return this.comments}},{key:"getPriority",value:function(){return this.priority}},{key:"addChapter",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this.getContent(),n="_0";Object.keys(t).includes(n);)n="_"+10*Math.random();var a="Capitolo "+n,i={},s=Object.keys(t).length+1;void 0!=e&&(n=e.slug,a=e.title,s=e.order),t[n]={id:n,title:a,lessons:i,position:s},this.setContent(t)}},{key:"getChapter",value:function(e){return this.getContent()[e]}},{key:"getChapterTitle",value:function(e){return void 0!=this.getChapter(e)?this.getChapter(e).title:""}},{key:"setChapterTitle",value:function(e,t){var n=this.getChapter(e);n.title=t;var a=this.getContent();a[e]=n,this.setContent(a)}},{key:"getLessonsByChapter",value:function(e){return void 0!=this.getChapter(e)?this.getChapter(e).lessons:{}}},{key:"addLesson",value:function(e){for(var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=this.getChapter(e),i="_0";Object.keys(a.lessons).includes(i);)i="_"+10*Math.random();var s="Lezione "+i,r="",c="",o="",l="",u=Object.keys(a.lessons).length+1,d={},h=!1,j=!1;if(void 0!=n){i=n.slug,s=n.title,r=n.description,c=n.videoIframe,o=n.videoId,l=n.text,u=n.order,h=n.isFree,j=n.isFinished;var b,p=n.quiz?n.quiz:[],f=Object(m.a)(p);try{for(f.s();!(b=f.n()).done;){var g=b.value,v=new Z;v.setOverrideState(function(){return t.updateInfo()}.bind(this)),v.question.setType(this.quiz_type),v.question.setId(g.slug),v.question.setTitle(g.question);var O,x=g.answers,y=Object(m.a)(x);try{for(y.s();!(O=y.n()).done;){var w=O.value;v.question.addChoice({title:w.answer,description:w.description},w.slug),void 0!=w.isCorrect&&w.isCorrect&&v.question.addSelectedChoice(w.slug)}}catch(N){y.e(N)}finally{y.f()}d[g.slug]=v}}catch(N){f.e(N)}finally{f.f()}}a.lessons[i]={id:i,title:s,description:r,video:c,videoId:o,text:l,position:u,quiz:d,isFree:h,isFinished:j};var k=this.getContent();k[e]=a,this.setContent(k)}},{key:"removeLesson",value:function(e,t){var n=this.getLessonsByChapter(e);delete n[t],this.setLessons(e,n)}},{key:"removeChapter",value:function(e){var t=this.getContent();delete t[e],this.setContent(t)}},{key:"setLesson",value:function(e,t,n){var a=this.getLessonsByChapter(e);a[t]=n,this.setLessons(e,a)}},{key:"setLessons",value:function(e,t){var n=this.getChapter(e);n.lessons=t;var a=this.getContent();a[e]=n,this.setContent(a)}},{key:"getLesson",value:function(e,t){return void 0!=this.getLessonsByChapter(e)?this.getLessonsByChapter(e)[t]:{}}},{key:"getLessonTitle",value:function(e,t){return void 0!=this.getLesson(e,t)?this.getLesson(e,t).title:""}},{key:"getLessonDescription",value:function(e,t){return void 0!=this.getLesson(e,t)?this.getLesson(e,t).description:""}},{key:"getLessonVideo",value:function(e,t){return void 0!=this.getLesson(e,t)?this.getLesson(e,t).video:""}},{key:"getLessonVideoId",value:function(e,t){return console.log(this.getLesson(e,t)),void 0!=this.getLesson(e,t)?this.getLesson(e,t).videoId:""}},{key:"getLessonText",value:function(e,t){return void 0!=this.getLesson(e,t)?this.getLesson(e,t).text:""}},{key:"getLessonPosition",value:function(e,t){return void 0!=this.getLesson(e,t)?this.getLesson(e,t).position:""}},{key:"getLessonQuiz",value:function(e,t){return void 0!=this.getLesson(e,t)?this.getLesson(e,t).quiz:""}},{key:"getSpecificQuiz",value:function(e,t,n){return void 0!=this.getLessonQuiz(e,t)?this.getLessonQuiz(e,t)[n]:""}},{key:"setLessonContent",value:function(e,t,n,a){var i=this.getChapter(e),s=this.getLessonsByChapter(e),r=this.getLesson(e,t),c=this.getContent();r[n]=a,s[t]=r,i.lessons=s,c[e]=i,this.setContent(c)}},{key:"setLessonTitle",value:function(e,t,n){this.setLessonContent(e,t,"title",n)}},{key:"setLessonDescription",value:function(e,t,n){this.setLessonContent(e,t,"description",n)}},{key:"setLessonVideo",value:function(e,t,n){this.setLessonContent(e,t,"video",n)}},{key:"setLessonVideoId",value:function(e,t,n){this.setLessonContent(e,t,"videoId",n)}},{key:"setLessonText",value:function(e,t,n){this.setLessonContent(e,t,"text",n)}},{key:"setQuiz",value:function(e,t,n){var a=this.getLesson(e,t);a.quiz=n,this.setLesson(e,t,a)}},{key:"getQuiz",value:function(e,t){return this.getLesson(e,t).quiz}},{key:"addQuiz",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=new Z;i.setOverrideState(function(){return n.updateInfo()}.bind(this)),void 0==a?i.load({question:{title:"Nuova domanda",acceptedChoices:void 0}}):i.load({question:a}),console.log(i);var s=this.getChapter(e),r=this.getLessonsByChapter(e),c=this.getLesson(e,t),o=this.getContent(),l="_0";if(void 0!=a)l=a[l];else for(;Object.keys(c.quiz).includes(l);)l="_"+10*Math.random();c.quiz[l]=i,r[t]=c,s.lessons=r,o[e]=s,this.setContent(o)}},{key:"removeQuiz",value:function(e,t,n){var a=this.getQuiz(e,t);delete a[n],this.setQuiz(e,t,a)}},{key:"getQuizById",value:function(e,t,n){return this.getQuiz(e,t)[n]}},{key:"loadComments",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t={title:"Titolo bello",content:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum"},n=[],a=0;a<e;a++)n.push(t);this.setComments(n)}},{key:"exportInfo",value:function(){var e=JSON.parse(JSON.stringify(this.getContent()));return{id:this.getId(),title:this.getTitle(),argument:this.getArgument(),wallpaper:this.getWallpaper(),description:this.getDescription(),presentationVideo:this.getPresentationVideo(),presentationVideoId:this.getPresentationVideoId(),professors:this.getProfessors(),offeredBy:this.getOfferedBy(),syllabus:this.getSyllabus(),publishDate:this.getPublishDate(),content:e,time:this.getTime(),star:this.getStar(),author:this.getAuthor(),n_video:this.getNVideo(),comments:this.getComments(),priority:this.getPriority()}}}]),n}(G),$=X,ee=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0;Object(f.a)(this,e),this.allCourses=t,this.savedCourses=n,this.coursesInProgress=a,this.createdCourses=i,this.coursesPerCategory=s,this.categories=r,this.state=c,this.overrideState=o,this.ALL_COURSES_TAG="all",this.SAVED_COURSES_TAG="saved",this.IN_PROGRESS_COURSE="in_progress",this.CREATED_COURSES="created"}return Object(g.a)(e,[{key:"setState",value:function(e){this.state=e}},{key:"setOverrideState",value:function(e){this.overrideState=e}},{key:"load",value:function(e){var t=e.allCourses,n=e.savedCourses,a=e.coursesInProgress,i=e.createdCourses,s=e.coursesPerCategory,r=e.categories,c=e.state,o=e.overrideState;this.allCourses=t,this.savedCourses=n,this.coursesInProgress=a,this.createdCourses=i,this.coursesPerCategory=s,this.state=c,this.overrideState=o,this.categories=r}},{key:"updateInfo",value:function(){void 0!=this.state?this.state(new e(this.allCourses,this.savedCourses,this.coursesInProgress,this.createdCourses,this.coursesPerCategory,this.categories,this.state,this.overrideState)):void 0!=this.overrideState&&this.overrideState()}},{key:"getAllCourses",value:function(){return this.allCourses}},{key:"getSavedCourses",value:function(){return this.savedCourses}},{key:"getCoursesInProgress",value:function(){return this.coursesInProgress}},{key:"getCreatedCourse",value:function(){return this.createdCourses}},{key:"getCoursesPerCategory",value:function(){return this.coursesPerCategory}},{key:"getCategories",value:function(){return this.categories}},{key:"setAllCourses",value:function(e){this.allCourses=Object(l.a)(Object(l.a)({},this.allCourses),e),this.updateInfo()}},{key:"setSavedCourses",value:function(e){this.savedCourses=Object(l.a)(Object(l.a)({},this.savedCourses),e),this.updateInfo()}},{key:"setCoursesInProgress",value:function(e){this.coursesInProgress=Object(l.a)(Object(l.a)({},this.coursesInProgress),e),this.updateInfo()}},{key:"setCreatedCourses",value:function(e){this.createdCourses=Object(l.a)(Object(l.a)({},this.createdCourses),e),this.updateInfo()}},{key:"setCoursesPerCategory",value:function(e){this.coursesPerCategory=e,this.updateInfo()}},{key:"setCategories",value:function(e){this.categories=e,this.updateInfo()}},{key:"__getCoursesList",value:function(e,t){for(var n=this,a={},i=Object.keys(e).length,s=i;s<i+t;s++){var r=new $;r.setOverrideState(function(){return n.updateInfo()}.bind(this)),r.setId(s),a[s]=r}return a}},{key:"loadAllCourses",value:function(){var e=this,t=window.localStorage.getItem("accessToken");return k.a.ajax({type:"GET",url:sr+"courses",accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)},success:function(t){var n=t.courses;e.coursesPerCategory={};var a,i=Object(m.a)(n);try{for(i.s();!(a=i.n()).done;){var s=a.value,r=s.slug,c=s.argument.slug,o=s.coverImageLink,l=s.title,u=s.description,d=new $;d.setId(r),d.setArgument(c),d.setWallpaper(o),d.setTitle(l),d.setDescription(u),void 0!=e.coursesPerCategory[c]?e.coursesPerCategory[c].push(d):e.coursesPerCategory[c]=[d]}}catch(h){i.e(h)}finally{i.f()}e.updateInfo()}})}},{key:"loadSavedCourses",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=this.__getCoursesList(this.savedCourses,e);this.setSavedCourses(t)}},{key:"loadCoursesInProgress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=this.__getCoursesList(this.coursesInProgress,e);this.setCoursesInProgress(t)}},{key:"loadCreatedCourses",value:function(){var e=this,t=window.localStorage.getItem("accessToken");k.a.ajax({type:"GET",url:sr+"courses",accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)},success:function(t){var n,a=t.courses,i={},s=Object(m.a)(a);try{for(s.s();!(n=s.n()).done;){var r=n.value,c=new $;c.setOverrideState(function(){return e.updateInfo()}.bind(e)),c.setTitle(r.title),c.setId(r.slug),i[r.slug]=c}}catch(o){s.e(o)}finally{s.f()}e.setCreatedCourses(i)}})}},{key:"loadCoursesPerCategory",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1?arguments[1]:void 0,n=Object.values(this.__getCoursesList({},e)),a=this.coursesPerCategory[t]?Object.values(this.coursesPerCategory[t]):[];n=[].concat(Object(U.a)(a),[n]),this.coursesPerCategory[t]=n,this.updateInfo()}},{key:"loadCategories",value:function(){var e=this,t=window.localStorage.getItem("accessToken");return k.a.ajax({type:"GET",url:sr+"course/arguments",accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)},success:function(t){var n,a=t.arguments,i={},s=Object(m.a)(a);try{for(s.s();!(n=s.n()).done;){var r=n.value,c=r.slug,o=r.title;i[c]=o}}catch(l){s.e(l)}finally{s.f()}e.setCategories(i)}})}},{key:"removeCourse",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n==this.CREATED_COURSES?(delete this.allCourses[t],delete this.savedCourses[t],delete this.coursesInProgress[t],delete this.createdCourses[t]):n==this.ALL_COURSES_TAG?delete this.allCourses[t]:n==this.SAVED_COURSES_TAG?delete this.savedCourses[t]:n==this.IN_PROGRESS_COURSE&&delete this.coursesInProgress[t],a=window.localStorage.getItem("accessToken"),k.a.ajax({type:"DELETE",url:sr+"course/"+t,accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+a)}}),this.updateInfo();case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),te=ee,ne={title:"Primo modulo",pages:{1:{type:"page",title:"Nuova lezione",content:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries."},2:{type:"page",title:"Nuova lezione",content:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries."},3:{type:"page",title:"Nuova lezione",content:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries."},4:{type:"page",title:"Nuova lezione",content:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries."},5:{type:"page",title:"Nuova lezione",content:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries."},7:{type:"page",title:"Nuova lezione",content:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries."},6:{type:"page",title:"Nuova lezione",content:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries."}}},ae={id:"BALUBBO",title:"Lorem Ipsum is simply dummy text of the printing and typesetting industry.",description:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries.",publishDate:"3 ore fa",author:"Gino Pauli",argument:"Argomento",n_modules:5,time:30,difficultyLevel:"media",modules:{1:ne,2:ne,3:ne,4:ne,5:ne,6:ne,7:ne},wallpaper:E},ie=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(f.a)(this,n),(e=t.call(this)).state=void 0,e.overrideState=void 0,e}return Object(g.a)(n,[{key:"setState",value:function(e){this.state=e}},{key:"loadInfo",value:function(e){var t=e.id,n=void 0===t?"":t,a=e.author,i=void 0===a?"":a,s=e.socialPage,r=void 0===s?"":s,c=e.argument,o=void 0===c?"":c,l=e.wallpaper,u=void 0===l?"":l,d=e.title,h=void 0===d?"":d,j=e.description,b=void 0===j?"":j,p=e.difficultyLevel,m=void 0===p?"":p,f=e.position,g=void 0===f?1:f,v=e.modules,O=void 0===v?{}:v,x=e.publishDate,y=void 0===x?"":x,w=e.n_modules,k=void 0===w?"":w,N=e.time,I=void 0===N?30:N,C=e.completedNotes,_=void 0===C?[]:C,S=e.quiz_type,T=void 0===S?"academy":S;this.id=n,this.author=i,this.socialPage=r,this.argument=o,this.wallpaper=u,this.title=h,this.description=b,this.difficultyLevel=m,this.position=g,this.modules=O,this.publishDate=y,this.n_modules=k,this.time=I,this.position=g,this.completedNotes=_,this.quiz_type=T}},{key:"load",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.loadInfo(Object(l.a)({},e));for(var a=this.getModules(),i=0,s=Object.keys(a);i<s.length;i++)for(var r=s[i],c=0,o=Object.keys(this.getAllPages(r));c<o.length;c++){var u=o[c];if("quiz"==this.getPageType(r,u)){var d=this.getPageContent(r,u),h=void 0;n?((h=new Z).question.setAcceptedChoices(1),h.setOverrideState(function(){return t.updateInfo()}.bind(this)),h.load({question:Object(l.a)(Object(l.a)({},d.question.question),{},{selectedChoices:Object(U.a)(d.question.selectedChoices)}),correctChoices:void 0})):((h=new Q).setAcceptedChoices(1),h.setOverrideUpdateInfo(function(){return t.updateInfo()}.bind(this)),h.load(Object(l.a)({},d.question))),a[r].pages[u].content=h}}this.updateInfo()}},{key:"loadById",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a,i,s,r,c=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(c.length>1&&void 0!==c[1])||c[1],this.getModuleInfo(t),e.next=4,this.getNotes(t);case 4:if(a=e.sent,n){i=Object(m.a)(a);try{for(i.s();!(s=i.n()).done;)r=s.value,this.loadNote(r)}catch(o){i.e(o)}finally{i.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getModuleInfo",value:function(e){var t=this,n=window.localStorage.getItem("accessToken");k.a.ajax({type:"GET",url:sr+"academy/module/"+e,accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(n){var a=n.title,i=n.description,s=n.argument_slug,r=void 0==n.difficulty?"":n.difficulty,c=n.coverImageLink,o=n.order;t.setId(e),t.setTitle(a),t.setDescription(i),t.setArgument(s),t.setDifficultyLevel(r),t.setWallpaper(c),t.setPosition(o),t.setAuthor()},error:function(e){return console.log(e)}})}},{key:"getNotes",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a,i,s=this,r=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],a=window.localStorage.getItem("accessToken"),i=[],e.next=5,k.a.ajax({type:"GET",url:sr+"academy/module/"+t+"/notes",accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+a)},success:function(e){var t,a=e.notes,r=Object(m.a)(a);try{for(r.s();!(t=r.n()).done;){var c=t.value,o=c.title,l=c.slug,u=c.isLiked,d=c.isSaved;i.push(l),n&&s.addModule({id:l,title:o,position:Object.keys(s.getModules()).length+1,pages:{},isLiked:u,isSaved:d})}}catch(h){r.e(h)}finally{r.f()}},error:function(e){return console.log(e)}});case 5:return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPageFromServer",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n){var a,i,s,r=this,c=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(c.length>2&&void 0!==c[2])||c[2],i=window.localStorage.getItem("accessToken"),s=!1,e.next=5,k.a.ajax({type:"GET",url:sr+"academy/note/"+t+"/pages",accepts:"json",contentType:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+i)},data:{page:n},success:function(e){if(s=a?void 0!=e.next_page:null===e||void 0===e?void 0:e.page,null!=e.page&&a){var n={pageId:e.page.id,content:e.page.content,quiz:e.page.quiz,position:e.page.order,wallpaper:null==e.page.coverImageLink?"":e.page.coverImageLink};null==n.quiz?r.addPage(t,n):r.addQuiz(t,n)}}});case 5:return e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"loadNote",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a,i,s=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=s.length>1&&void 0!==s[1]&&s[1],a=1,i=!0;case 3:if(!i){e.next=10;break}return e.next=6,this.getPageFromServer(t,a);case 6:i=e.sent,a++,e.next=3;break;case 10:n&&this.updateInfo();case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setChapterFinished",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=window.localStorage.getItem("accessToken"),k.a.ajax({type:"POST",url:sr+"academy/note/"+t+"/finish",accepts:"json",contentType:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateInfo",value:function(){if(void 0!=this.state){var e=new n;Object.assign(e,this),this.state(e)}else void 0!=this.overrideState&&this.overrideState()}},{key:"loadCompletedNotes",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n,a,i=this,s=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:this.getId(),n=window.localStorage.getItem("accessToken"),a=[],e.next=5,k.a.ajax({type:"GET",url:sr+"academy/module/"+t+"/notes/finished",accepts:"json",contentType:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(e){var t=e.notes.sort((function(e,t){return e.position>t.position?-1:1})).map((function(e){return e.slug}));i.setCompletedNotes(t)}});case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"likeNote",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),e.next=3,k.a.ajax({type:"POST",url:sr+"academy/note/"+t+"/like",accepts:"json",contentType:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"unlikeNote",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),e.next=3,k.a.ajax({type:"DELETE",url:sr+"academy/note/"+t+"/like",accepts:"json",contentType:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"saveNote",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),e.next=3,k.a.ajax({type:"POST",url:sr+"academy/note/"+t+"/save",accepts:"json",contentType:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"unsaveNote",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),e.next=3,k.a.ajax({type:"DELETE",url:sr+"academy/note/"+t+"/save",accepts:"json",contentType:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getId",value:function(){return this.id}},{key:"getAuthor",value:function(){return this.author}},{key:"getSocialPage",value:function(){return this.socialPage}},{key:"getArgument",value:function(){return this.argument}},{key:"getWallpaper",value:function(){return this.wallpaper}},{key:"getTitle",value:function(){return this.title}},{key:"getDescription",value:function(){return this.description}},{key:"getDifficultyLevel",value:function(){return this.difficultyLevel}},{key:"getPosition",value:function(){return this.position}},{key:"getModules",value:function(){return this.modules}},{key:"getPublishDate",value:function(){return this.publishDate}},{key:"getNModules",value:function(){return this.n_modules}},{key:"getTime",value:function(){return this.time}},{key:"getCompletedNotes",value:function(){return this.completedNotes}},{key:"setId",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.id=e,t&&this.updateInfo()}},{key:"setAuthor",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.author=e,t&&this.updateInfo()}},{key:"setSocialPage",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.socialPage=e,t&&this.updateInfo()}},{key:"setArgument",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.argument=e,t&&this.updateInfo()}},{key:"setWallpaper",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.wallpaper=e,t&&this.updateInfo()}},{key:"setTitle",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.title=e,t&&this.updateInfo()}},{key:"setDescription",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.description=e,t&&this.updateInfo()}},{key:"setDifficultyLevel",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.difficultyLevel=e,t&&this.updateInfo()}},{key:"setPosition",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.position=e,t&&this.updateInfo()}},{key:"setModules",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.modules=e,t&&this.updateInfo()}},{key:"setPublishDate",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.publishDate=e,t&&this.updateInfo()}},{key:"setNModules",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.n_modules=e,t&&this.updateInfo()}},{key:"setTime",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.time=e,t&&this.updateInfo()}},{key:"setOverrideState",value:function(e){this.overrideState=e}},{key:"setPageContent",value:function(e,t,n){this.getPage(e,t).content=n,this.updateInfo()}},{key:"setPageWallpaper",value:function(e,t,n){this.getPage(e,t).wallpaper=n,this.updateInfo()}},{key:"setCompletedNotes",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.completedNotes=e,t&&this.updateInfo()}},{key:"getModuleById",value:function(e){return this.getModules()[e]}},{key:"getAllPages",value:function(e){return void 0!=this.getModuleById(e)?this.getModuleById(e).pages:{}}},{key:"getPage",value:function(e,t){return this.getAllPages(e)[t]}},{key:"getModuleTitle",value:function(e){return void 0!=this.getModuleById(e)?this.getModuleById(e).title:""}},{key:"setModuleTitle",value:function(e,t){var n=this.getModules();n[e].title=t,this.setModules(n),this.updateInfo()}},{key:"addModule",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t={},n="",a=this.getModules();if(void 0==e)for(t={title:"Nuovo Modulo",position:Object.keys(this.getModules()).length+1,pages:{},isLiked:!1,isSaved:!1},n="_0";Object.keys(a).includes(n);)n="_"+10*Math.random();else n=e.id,t=e;a[n]=t,this.setModules(a),console.log(t),this.updateInfo()}},{key:"addPageObj",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n){var a,i,s,r,c,o,l,u,d,h,j,b,f,g,v,O,x,y,w,k=this,N=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=N.length>2&&void 0!==N[2]?N[2]:void 0,i=this.getModuleById(t),s="_0",r=Object.keys(i.pages).length+1,"Nuova Pagina",c="",o="",(l=new Z).setOverrideState(function(){return k.updateInfo()}.bind(this)),l.question.setAcceptedChoices(void 0),l.question.setType(this.quiz_type),void 0==a){e.next=37;break}if(a.title,s=a.pageId,r=a.position,c=a.wallpaper,"quiz"!=n){e.next=34;break}u=a.quiz,d=u.question,h=u.slug,j=u.answers,b=null==u.coverImageLink?"":u.coverImageLink,l.question.setId(h),l.question.setTitle(d),l.question.setImage(b),l.question.setAcceptedChoices(1),f=Object(m.a)(j);try{for(f.s();!(g=f.n()).done;)v=g.value,O=v.slug,x=v.answer,y=v.description,l.addItem({title:x,description:y},O)}catch(p){f.e(p)}finally{f.f()}return e.next=30,l.question.loadById(h);case 30:null===(w=e.sent)||void 0===w||w.answers.forEach((function(e){null!==e&&void 0!==e&&e.isCorrect&&l.question.addSelectedChoice(null===e||void 0===e?void 0:e.slug)})),e.next=35;break;case 34:o=a.content;case 35:e.next=38;break;case 37:for(;Object.keys(i.pages).includes(s);)s="_"+10*Math.random();case 38:i.pages[s]={id:s,wallpaper:c,type:n,position:r,title:"Nuova pagina",content:"page"==n?o:l},this.updateInfo();case 40:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.addPageObj(e,"page",t)}},{key:"addQuiz",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.addPageObj(e,"quiz",t)}},{key:"getPageType",value:function(e,t){return void 0!=this.getModuleById(e)&&void 0!=this.getModuleById(e).pages&&void 0!=this.getModuleById(e).pages[t]?this.getModuleById(e).pages[t].type:""}},{key:"getPageTitle",value:function(e,t){return this.getModuleById(e).pages[t].title}},{key:"getPageWallpaper",value:function(e,t){return this.getModuleById(e).pages[t].wallpaper}},{key:"getPageContent",value:function(e,t){return void 0!=this.getPage(e,t)?this.getPage(e,t).content:""}},{key:"exportInfo",value:function(){var e=JSON.parse(JSON.stringify(this.getModules()));return{id:this.getId(),author:this.getAuthor(),socialPage:this.getSocialPage(),argument:this.getArgument(),wallpaper:this.getWallpaper(),title:this.getTitle(),description:this.getDescription(),difficultyLevel:this.getDifficultyLevel(),position:this.getPosition(),modules:e}}}]),n}(Object(g.a)((function e(){Object(f.a)(this,e),this.id="",this.author="",this.socialPage="",this.argument="",this.difficultyLevel="",this.position=1,this.n_modules=0,this.time=30,this.wallpaper="",this.title="",this.description="",this.modules={},this.publishDate="",this.completedNotes=[],this.quiz_type="academy"}))),se=ie,re=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:void 0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:void 0,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:1,h=arguments.length>11&&void 0!==arguments[11]?arguments[11]:1;Object(f.a)(this,e),this.personalModules=t,this.allModules=n,this.savedNotes=a,this.createdModules=i,this.modulesInProgress=s,this.infoPersonalModules=c,this.modulesPerCategory=r,this.categories=o,this.state=l,this.overrideState=u,this.created_modules_index=d,this.saved_notes_index=h,this.PERSONAL_MODULES_TAG="personal",this.ALL_MODULES_TAG="all",this.SAVED_MODULES_TAG="saved",this.CREATED_MODULES_TAG="created",this.IN_PROGRESS_MODULE_TAG="in_progress"}return Object(g.a)(e,[{key:"setState",value:function(e){this.state=e,this.updateInfo()}},{key:"setOverrideState",value:function(e){this.overrideState=e}},{key:"load",value:function(e){var t=e.personalModules,n=e.allModules,a=e.savedNotes,i=e.createdModules,s=e.modulesInProgress,r=e.infoPersonalModules,c=e.modulesPerCategory,o=e.categories,l=e.state,u=e.overrideState,d=e.created_modules_index,h=e.saved_notes_index;this.personalModules=t,this.allModules=n,this.savedNotes=a,this.createdModules=i,this.modulesInProgress=s,this.infoPersonalModules=r,this.modulesPerCategory=c,this.categories=o,this.state=l,this.overrideState=u,this.created_modules_index=d,this.saved_notes_index=h}},{key:"updateInfo",value:function(){void 0!=this.state?this.state(new e(this.personalModules,this.allModules,this.savedNotes,this.createdModules,this.modulesInProgress,this.infoPersonalModules,this.modulesPerCategory,this.categories,this.state,this.overrideState,this.created_modules_index,this.saved_notes_index)):void 0!=this.overrideState&&this.overrideState()}},{key:"getPersonalModules",value:function(){return this.personalModules}},{key:"getAllModules",value:function(){return this.allModules}},{key:"getSavedNotes",value:function(){return this.savedNotes}},{key:"getCreatedModules",value:function(){return this.createdModules}},{key:"getModulesInProgress",value:function(){return this.modulesInProgress}},{key:"getInfoPersonalModules",value:function(){return this.infoPersonalModules}},{key:"getModulesPerCategory",value:function(){return this.modulesPerCategory}},{key:"getCategories",value:function(){return this.categories}},{key:"setPersonalModules",value:function(e){this.personalModules=Object(l.a)(Object(l.a)({},this.personalModules),e),this.updateInfo()}},{key:"setAllModules",value:function(e){this.allModules=Object(l.a)(Object(l.a)({},this.allModules),e),this.updateInfo()}},{key:"setSavedNotes",value:function(e){this.savedNotes=Object(U.a)(e),this.updateInfo()}},{key:"setCreatedModules",value:function(e){this.createdModules=Object(l.a)(Object(l.a)({},this.createdModules),e),this.updateInfo()}},{key:"setModulesInProgress",value:function(e){this.modulesInProgress=Object(l.a)(Object(l.a)({},this.modulesInProgress),e),this.updateInfo()}},{key:"setInfoPersonalModules",value:function(e){this.infoPersonalModules=e,this.updateInfo()}},{key:"setModulesPerCategory",value:function(e){this.modulesPerCategory=e,this.updateInfo()}},{key:"setCategories",value:function(e){this.categories=e,this.updateInfo()}},{key:"__getModulesList",value:function(e,t){for(var n=this,a={},i=Object.keys(e).length,s=i;s<i+t;s++){var r=new se;r.setOverrideState(function(){return n.updateInfo()}.bind(this)),r.load(ae),r.setId(s),a[s]=r}return a}},{key:"loadPersonalModules",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=this.__getModulesList(this.personalModules,e);this.setPersonalModules(t)}},{key:"loadSavedNotes",value:function(){var e=this,t=window.localStorage.getItem("accessToken");if(null!=this.saved_notes_index)return k.a.ajax({type:"GET",url:sr+"academy/note/saves",accepts:"json",contentType:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)},data:{page:this.saved_notes_index},success:function(t){e.saved_notes_index=t.next_page;var n,a=t.note_list,i=e.getSavedNotes(),s=Object(m.a)(a);try{for(s.s();!(n=s.n()).done;){var r=n.value;i.push({id:r.slug,title:r.title,module_id:r.module_slug})}}catch(c){s.e(c)}finally{s.f()}e.setSavedNotes(i)},error:function(e){return console.log(e)}})}},{key:"loadAllModules",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=this.__getModulesList(this.allModules,e);this.setAllModules(t)}},{key:"loadCreatedModules",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n=this,a=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.length>0&&void 0!==a[0]?a[0]:10,t=window.localStorage.getItem("accessToken"),null==this.created_modules_index){e.next=4;break}return e.abrupt("return",k.a.ajax({type:"GET",url:sr+"academy/modules/modifiable",accepts:"json",contentType:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)},data:{page:this.created_modules_index},success:function(e){var t,a=e.module_list,i={},s=Object(m.a)(a);try{for(s.s();!(t=s.n()).done;){var r=t.value,c=new se;c.setOverrideState(function(){return n.updateInfo()}.bind(n)),c.setId(r.slug),c.setTitle(r.title),i[r.slug]=c}}catch(o){s.e(o)}finally{s.f()}n.created_modules_index=e.next_page,n.setCreatedModules(i)},error:function(e){return console.log(e)}}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadModulesInProgress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=this.__getModulesList(this.modulesInProgress,e);this.setModulesInProgress(t)}},{key:"loadInfoPersonalModules",value:function(){this.setInfoPersonalModules({time:"15 giorni",args:"Economia, Finanza, Python per la Finanza, Finanza, Economia, Python per la Finanza, Finanza, Python per la Finanza, Finanza, Python per la Finanza, Economia, Finanza, Python per la Finanza, Finanza, Python per la Finanza, "})}},{key:"loadModulesPerCategory",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a,i,s,r=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.getModulesPerCategory(),a=n[t],i=!1,void 0!=a||void 0==t){e.next=13;break}return s=window.localStorage.getItem("accessToken"),e.prev=5,e.next=8,k.a.ajax({type:"GET",url:sr+"/academy/argument/"+t+"/modules",accepts:"json",contentType:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+s)},success:function(e){console.log(e);var n=e.module_list;if(void 0!=n){var a,i={},s=Object(m.a)(n);try{for(s.s();!(a=s.n()).done;){var c=a.value,o=new se;o.setId(c.slug),o.setTitle(c.title),o.setWallpaper(c.coverImageLink),o.setNModules(c.completed_percentage),o.setAuthor(c.author.personalData.surname+" "+c.author.personalData.name),o.setDifficultyLevel(c.difficulty),i[c.slug]=o}}catch(l){s.e(l)}finally{s.f()}r.modulesPerCategory[t]=i,console.log(r.modulesPerCategory),r.updateInfo()}else console.warn("list not found in response")}});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),i=!0;case 13:return e.abrupt("return",i);case 14:case"end":return e.stop()}}),e,this,[[5,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"loadCategories",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("accessToken"),n=!1,e.prev=2,e.next=5,k.a.ajax({type:"GET",url:sr+"/academy/arguments",accepts:"json",contentType:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)},success:function(e){var t=e.arguments;if(console.log(t),void 0!=t){var n,i={},s=Object(m.a)(t);try{for(s.s();!(n=s.n()).done;){var r=n.value,c=r.slug,o=r.title,l=r.description;i[c]={title:o,description:l},a.setCategories(i)}}catch(u){s.e(u)}finally{s.f()}}else console.warn("No arguments in request")},error:function(e){return console.log(e)}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),n=!0;case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"removeModule",value:function(e,t){t==this.CREATED_MODULES_TAG?(delete this.personalModules[e],delete this.allModules[e],delete this.createdModules[e],delete this.modulesInProgress[e]):t==this.PERSONAL_MODULES_TAG?delete this.personalModules[e]:t==this.SAVED_MODULES_TAG?delete this.savedNotes[e]:t==this.ALL_MODULES_TAG?delete this.allModules[e]:t==this.IN_PROGRESS_MODULE_TAG&&delete this.modulesInProgress[e];var n=window.localStorage.getItem("accessToken");k.a.ajax({type:"DELETE",url:sr+"academy/module/"+e,accepts:"json",contentType:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(e){return console.log(e)},error:function(e){return console.log(e)}}),this.updateInfo()}},{key:"isLastPageLoaded",value:function(){return null==this.created_modules_index}}]),e}(),ce=re,oe=(n(282),function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(f.a)(this,n),(e=t.call(this)).state=void 0,e.overrideState=void 0,e}return Object(g.a)(n,[{key:"setState",value:function(e){this.state=e,this.updateInfo()}},{key:"setOverrideState",value:function(e){this.overrideState=e,this.updateInfo()}},{key:"updateInfo",value:function(){if(void 0!=this.state){var e=new n;Object.assign(e,this),this.state(e)}void 0!=this.overrideState&&this.overrideState()}},{key:"loadById",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),e.next=3,k.a.ajax({type:"GET",url:sr+"webinar/"+t,accepts:"json",contentType:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(e){var t=!1;a.setId(e.slug,t),a.setWallpaper(e.coverImage,t),a.setDescription(e.description,t),a.setEventChatIframe(e.eventChatIframe,t),a.setEventId(e.eventId,t),a.setEventVideoIframe(e.eventVideoIframe,t),a.setFInalVideoId(e.finalVideoId,t),a.setFinalVideoIFrame(e.finalVideoIframe,t),a.setGuest(e.guest,t),a.setGuestLink(e.guestLink,t),a.setIsFree(e.isFree,t),a.setDate(e.liveDatetime.replaceAll(" ","T").slice(0,a.getDate().length-3),t),a.setSociety(e.society,t),a.setSocietyLink(e.societyLink,t),a.setTitle(e.title,t),a.updateInfo(),console.log()}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getId",value:function(){return this.id}},{key:"getTitle",value:function(){return this.title}},{key:"getDescription",value:function(){return this.description}},{key:"getDate",value:function(){return this.date}},{key:"getAuthors",value:function(){return this.authors}},{key:"getWallpaper",value:function(){return this.wallpaper}},{key:"getSociety",value:function(){return this.society}},{key:"getSocietyLink",value:function(){return this.societyLink}},{key:"getGuest",value:function(){return this.guest}},{key:"getGuestLink",value:function(){return this.guestLink}},{key:"getIsFree",value:function(){return this.isFree}},{key:"getEventId",value:function(){return this.eventId}},{key:"getEventVideoIframe",value:function(){return this.eventVideoIframe}},{key:"getEventChatIframe",value:function(){return this.eventChatIframe}},{key:"getFinalVideoIframe",value:function(){return this.finalVideoIframe}},{key:"getFinalVideoId",value:function(){return this.finalVideoId}},{key:"setId",value:function(e){this.id=e,this.updateInfo()}},{key:"setTitle",value:function(e){this.title=e,this.updateInfo()}},{key:"setDescription",value:function(e){this.description=e,this.updateInfo()}},{key:"setDate",value:function(e){this.date=e,this.updateInfo()}},{key:"setAuthors",value:function(e){this.authors=e,this.updateInfo()}},{key:"setWallpaper",value:function(e){this.wallpaper=e,this.updateInfo()}},{key:"setSociety",value:function(e){this.society=e,this.updateInfo()}},{key:"setSocietyLink",value:function(e){this.societyLink=e,this.updateInfo()}},{key:"setGuest",value:function(e){this.guest=e,this.updateInfo()}},{key:"setGuestLink",value:function(e){this.guestLink=e,this.updateInfo()}},{key:"setIsFree",value:function(e){this.isFree=e,this.updateInfo()}},{key:"setEventId",value:function(e){this.eventId=e,this.updateInfo()}},{key:"setEventVideoIframe",value:function(e){this.eventVideoIframe=e,this.updateInfo()}},{key:"setEventChatIframe",value:function(e){this.eventChatIframe=e,this.updateInfo()}},{key:"setFinalVideoIFrame",value:function(e){this.finalVideoIframe=e,this.updateInfo()}},{key:"setFInalVideoId",value:function(e){this.finalVideoId=e,this.updateInfo()}},{key:"checkContentValidity",value:function(){return""==this.getWallpaper().replaceAll(" ","")?{error:!0,message:"Wallpaper non inserito"}:""==this.getDate()?{error:!0,message:"Data non inserita"}:""==this.getTitle().replaceAll(" ","")?{error:!0,message:"Titolo non inserito"}:""==this.getDescription().replaceAll(" ","")?{error:!0,message:"Descrizione non inserita"}:""==this.getSociety().replaceAll(" ","")?{error:!0,message:"Societ\xe0 non inserita"}:""==this.getSocietyLink().replaceAll(" ","")?{error:!0,message:"Link Societ\xe0 non inserito"}:""==this.getEventId().replaceAll(" ","")?{error:!0,message:"Id evento non inserito"}:""==this.getGuest().replaceAll(" ","")?{error:!0,message:"Guest non inserito"}:""==this.getGuestLink().replaceAll(" ","")?{error:!0,message:"Link Guest non inserito"}:""==this.getGuestLink().replaceAll(" ","")?{error:!0,message:"Id evento non inserito"}:""==this.getEventVideoIframe().replaceAll(" ","")?{error:!0,message:"Iframe del video dell'evento non inserito"}:""==this.getEventChatIframe().replaceAll(" ","")?{error:!0,message:"Iframe della chat non inserito"}:{error:!1,message:"Tutto apposto"}}}]),n}(Object(g.a)((function e(t,n,a,i,s,r){Object(f.a)(this,e),this.id=void 0!=t?t:"",this.title=void 0!=n?n:"",this.description=void 0!=a?a:"",this.date=void 0!=i?i:"",this.authors=void 0!=s?s:"",this.wallpaper=void 0!=r?r:"",this.society="",this.societyLink="",this.guest="",this.guestLink="",this.isFree=!1,this.eventId="",this.eventVideoIframe="",this.eventChatIframe="",this.finalVideoIframe="",this.finalVideoId=""})))),le=oe,ue={id:"1",title:"Lorem ipsum dolor sit amet",description:"Lorem Ipsum \xe8 un testo segnaposto utilizzato nel settore della tipografia e della stampa. Lorem Ipsum \xe8 considerato il testo segnaposto standard sin dal sedicesimo secolo, quando un anonimo tipografo prese una cassetta di caratteri e li assembl\xf2 per preparare un testo campione.",date:"10/02/1932",authors:["Piero Angela","Gino il Grande"],wallpaper:n.p+"static/media/webinar.d91d00ba.jpeg"},de=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;Object(f.a)(this,e),this.list=t,this.createdWebinar=n,this.savedWebinar=a,this.state=i,this.overrideState=s}return Object(g.a)(e,[{key:"setState",value:function(e){this.state=e,this.updateInfo()}},{key:"setOverrideState",value:function(e){this.overrideState=e,this.updateInfo()}},{key:"updateInfo",value:function(){void 0!=this.state&&this.state(new e(this.list,this.createdWebinar,this.savedWebinar,this.state,this.overrideState)),void 0!=this.overrideState&&this.overrideState()}},{key:"getList",value:function(){return this.list}},{key:"getCreatedWebinar",value:function(){return this.createdWebinar}},{key:"getSavedWebinar",value:function(){return this.savedWebinar}},{key:"setList",value:function(e){this.list=e,this.updateInfo()}},{key:"setCreatedWebinar",value:function(e){this.createdWebinar=e,this.updateInfo()}},{key:"setSavedWebinar",value:function(e){this.savedWebinar=e,this.updateInfo()}},{key:"getDate",value:function(){var e=[];return this.getList().forEach((function(t){return e.push(t.getDate())})),e.sort((function(e,t){return F()(e).diff(F()(t))})),e=e.map((function(e){return F()(e).format("DD/MM/YYYY")}))}},{key:"loadWebinar",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n=this,a=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.length>0&&void 0!==a[0]?a[0]:10,t=window.localStorage.getItem("accessToken"),0!=this.list.length){e.next=4;break}return e.abrupt("return",k.a.ajax({type:"GET",url:sr+"webinars",accepts:"json",contentType:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)},success:function(e){var t,a=e.webinar,i=Object(m.a)(a);try{for(i.s();!(t=i.n()).done;){var s=t.value,r=s.slug,c=s.coverImage,o=s.isFree,l=s.description,u=s.title,d=s.liveDatetime;console.log(e);var h=new le;h.setId(r),h.setTitle(u),h.setWallpaper(c),h.setIsFree(o),h.setDescription(l),h.setDate(d),n.list.push(h)}}catch(j){i.e(j)}finally{i.f()}n.updateInfo()}}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadSavedWebinar",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=[],n=0;n<e;n++){var a=new le;a.setId(ue.id),a.setTitle(ue.title),a.setDescription(ue.description),a.setDate(ue.date),a.setAuthors(ue.authors),a.setWallpaper(ue.wallpaper),t.push(a)}this.savedWebinar=t,this.updateInfo()}},{key:"loadCreatedWebinar",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n,a,i,s,r,c,o=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>0&&void 0!==o[0]?o[0]:10,t=window.localStorage.getItem("accessToken"),n=!1,a=void 0,e.next=6,k.a.ajax({type:"GET",url:sr+"webinars",accepts:"json",contentType:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)},success:function(e){return a=e.webinar},error:function(){return n=!0}});case 6:if(!n){e.next=8;break}throw Error("Errore nell'ottenere i webinar creati");case 8:this.createdWebinar=[],i=Object(m.a)(a);try{for(i.s();!(s=i.n()).done;)r=s.value,(c=new le).setId(r.slug),c.setTitle(r.title),this.createdWebinar.push(c)}catch(l){i.e(l)}finally{i.f()}this.updateInfo();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteWebinar",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),a=!1,console.log(t),e.next=5,k.a.ajax({type:"DELETE",url:sr+"webinar/"+t.getId(),accepts:"json",contentType:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},error:function(){return a=!0}});case 5:if(!a){e.next=7;break}throw Error("Errore nell'eliminazione");case 7:i=this.createdWebinar.indexOf(t),this.createdWebinar.splice(i,1),this.updateInfo();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),he=de,je=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(f.a)(this,n),(e=t.call(this)).news=new H,e.news.setOverrideState(function(){return e.updateState()}.bind(Object(v.a)(e))),e.courses=new te,e.courses.setOverrideState(function(){return e.updateState()}.bind(Object(v.a)(e))),e.modules=new ce,e.modules.setOverrideState(function(){return e.updateState()}.bind(Object(v.a)(e))),e.webinar=new he,e.webinar.setOverrideState(function(){return e.updateState()}.bind(Object(v.a)(e))),e.getInterestsField().setOverrideState(function(){return e.updateState()}.bind(Object(v.a)(e))),e.justLogged=!1,e.state=void 0,e}return Object(g.a)(n,[{key:"setState",value:function(e){this.state=e,this.updateState()}},{key:"loadInfo",value:function(e){var t=e.accessToken,n=e.refreshToken,a=e.name,i=e.surname,s=e.birthday,r=e.email,c=e.username,o=e.password,l=e.codice_invito,u=e.avatar,d=e.xp,h=e.language,j=e.league,b=e.consecutiveDaysJoin,p=e.role,m=e.createdCodes,f=e.interests_field,g=e.isPremium;this.accessToken=void 0!=t?t:this.accessToken,this.refreshToken=void 0!=n?n:this.refreshToken,this.name=void 0!=a?a:this.name,this.surname=void 0!=i?i:this.surname,this.birthday=void 0!=s?s:this.birthday,this.email=void 0!=r?r:this.email,this.username=void 0!=c?c:this.username,this.password=void 0!=o?o:this.password,this.codice_invito=void 0!=l?l:this.codice_invito,this.avatar=void 0!=u?u:this.avatar,this.xp=void 0!=d?d:this.xp,this.language=void 0!=h?h:this.language,this.league=void 0!=j?j:this.league,this.consecutiveDaysJoin=void 0!=b?b:this.consecutiveDaysJoin,this.role=void 0!=p?p:this.role,this.createdCodes=void 0!=m?m:this.createdCodes,this.interests_field=void 0!=f?f:this.interests_field,this.isPremium=void 0!=g?g:this.isPremium}},{key:"load",value:function(e){this.loadInfo(e),this.updateState()}},{key:"updateState",value:function(){if(void 0!=this.state){var e=new n;Object.assign(e,this),this.state(e)}}},{key:"capitalizeFirstLetter",value:function(e){return""!=e?e[0].toUpperCase()+e.slice(1,e.length):e}},{key:"getAccessToken",value:function(){return this.accessToken}},{key:"getRefreshToken",value:function(){return this.refreshToken}},{key:"getName",value:function(){return this.name}},{key:"getSurname",value:function(){return this.surname}},{key:"getBirthday",value:function(){return this.birthday}},{key:"getEmail",value:function(){return this.email}},{key:"getUsername",value:function(){return this.username}},{key:"getPassword",value:function(){return this.password}},{key:"getCodiceInvito",value:function(){return this.codice_invito}},{key:"getAvatar",value:function(){return this.avatar}},{key:"getXP",value:function(){return this.xp}},{key:"getLanguage",value:function(){return this.language}},{key:"getLeague",value:function(){return this.league}},{key:"getConsecutiveDaysJoin",value:function(){return this.consecutiveDaysJoin}},{key:"getRole",value:function(){return this.role}},{key:"getCreatedCodes",value:function(){return this.createdCodes}},{key:"getInterestsField",value:function(){return this.interests_field}},{key:"getIsPremium",value:function(){return this.isPremium}},{key:"setAccessToken",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.accessToken=e,window.localStorage.setItem("accessToken",e),t&&this.updateState()}},{key:"setRefreshToken",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.refreshToken=e,window.localStorage.setItem("refreshToken",e),t&&this.updateState()}},{key:"setName",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e=this.capitalizeFirstLetter(e),this.name=e,t&&this.updateState()}},{key:"setSurname",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e=this.capitalizeFirstLetter(e),this.username=e,t&&this.updateState()}},{key:"setBirthday",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.birthday=e,t&&this.updateState()}},{key:"setEmail",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.email=e,t&&this.updateState()}},{key:"setUsername",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.username=e,t&&this.updateState()}},{key:"setPassword",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.password=e,t&&this.updateState()}},{key:"setCodiceInvito",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.codice_invito=e,t&&this.updateState()}},{key:"setAvatar",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.avatar=e,t&&this.updateState()}},{key:"setXP",value:function(e){this.xp=e,this._auto_save&&this.updateState()}},{key:"setLanguage",value:function(e){this.language=e,this._auto_save&&this.updateState()}},{key:"setLeague",value:function(e){this.league=e,this._auto_save&&this.updateState()}},{key:"setConsecutiveDaysJoin",value:function(e){this.consecutiveDaysJoin=e,this._auto_save&&this.updateState()}},{key:"setRole",value:function(e){this.role=e,this._auto_save&&this.updateState()}},{key:"setCreatedCodes",value:function(e){this.createdCodes=e,this._auto_save&&this.updateState()}},{key:"setInterestsField",value:function(e){this.interests_field=e,this._auto_save&&this.updateState()}},{key:"setIsPremium",value:function(e){this.isPremium=e,this._auto_save&&this.updateState()}},{key:"isValidBirthday",value:function(){return new Date>new Date(this.getBirthday())}},{key:"isValidEmail",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getEmail();return String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}},{key:"isValidUsername",value:function(){return!0}},{key:"exportInfo",value:function(){var e=new z;return e.loadInfo(this),e}},{key:"makeUserFieldEmpty",value:function(){Object.assign(this,new z),this.updateInfo()}},{key:"isLogged",value:function(){var e=window.localStorage.getItem("accessToken"),t=window.localStorage.getItem("refreshToken");return void 0!=e&&void 0!=t&&(this.setAccessToken(e),this.setRefreshToken(t),!0)}},{key:"getUserInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;void 0!=e&&e()}},{key:"canI",value:function(e){if(console.log(this.getRole().filter((function(e){return"super-admin-news"==e.slug}))),0!=this.getRole().filter((function(e){return"super-admin"==e.slug})).length)return!0;switch(e){case"create_academy":if(0!=this.getRole().filter((function(e){return"super-admin-academy"==e.slug})).length)return!0;if(0!=this.getRole().filter((function(e){return"admin-academy"==e.slug})).length)return!0;break;case"create_news":if(0!=this.getRole().filter((function(e){return"super-admin-news"==e.slug})).length)return!0;if(0!=this.getRole().filter((function(e){return"admin-news"==e.slug})).length)return!0;break;case"create_course":if(0!=this.getRole().filter((function(e){return"admin-course"==e.slug})).length)return!0;break;case"create_school":if(0!=this.getRole().filter((function(e){return"admin-school"==e.slug})).length)return!0;break;case"create_tag":if(0!=this.getRole().filter((function(e){return"admin-tag"==e.slug})).length)return!0;break;case"create_webinar":if(0!=this.getRole().filter((function(e){return"admin-webinar"==e.slug})).length)return!0;break;case"create_academy_category":if(0!=this.getRole().filter((function(e){return"super-admin-academy"==e.slug})).length)return!0;break;case"create_news_category":if(0!=this.getRole().filter((function(e){return"super-admin-news"==e.slug})).length)return!0;break;case"manage_roles":if(0!=this.getRole().filter((function(e){return"admin-roles"==e.slug})).length)return!0}return!1}},{key:"isUsernameValid",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n,a,i=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:this.getUsername(),n=this.getAccessToken(),a=!1,e.next=5,k.a.ajax({type:"POST",url:sr+"check_username",accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},data:JSON.stringify({username:t}),success:function(e){return a=e.isValid}});case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isPasswordValid",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n,a,i=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:this.getPassword(),n=this.getAccessToken(),a=!1,e.next=5,k.a.ajax({type:"POST",url:sr+"check_password",accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},data:JSON.stringify({password:t}),success:function(e){return a=e.isPasswordValid}});case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"areCredentialsCorrect",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n,a){var i=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.a.ajax({type:"POST",url:sr+"/login",xhrFields:{withCredentials:!0},cache:!1,crossDomain:!0,data:{username:t,password:n},success:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,s,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),n=!1,void 0==t.emailVerification||t.emailVerification){e.next=7;break}return a(n=!0,t="Account non ancora attivato"),e.abrupt("return");case 7:return s=t.access_token,r=t.refresh_token,!1,i.setAccessToken(s,false),i.setRefreshToken(r,false),e.next=14,i.setInfo((function(){return a(n,t)}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),error:function(e){a(!0,"Username o password errati")}}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"activateUser",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getAccessToken(),a=!1,e.prev=2,e.next=5,k.a.ajax({type:"POST",url:sr+"user/activate_user/"+t,accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(){return a=!1},error:function(){return a=!0}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),a=!0;case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"putInfo",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.getAccessToken(),k.a.ajax({type:"PUT",url:sr+"user",accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)},data:JSON.stringify({name:this.getName(),surname:this.getSurname(),birthDay:this.getBirthday()})});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setInfo",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getAccessToken(),this.getRefreshToken(),e.next=4,k.a.ajax({type:"GET",url:sr+"user",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(e){var n={username:e.username,name:e.personalData.name,surname:e.personalData.surname,email:e.personalData.emailAddress,birthday:e.personalData.birthDay,language:e.personalData.language,xp:e.gamificationData.xp,league:e.gamificationData.league,consecutiveDaysJoin:e.gamificationData.consecutiveDaysJoin,role:e.roles,isPremium:e.subscription.isPremium};a.load(n),void 0!=t&&t()},error:function(e){401==e.status&&a.refreshToken(t)}});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"refreshToken",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=window.localStorage.getItem("refreshToken"),k.a.ajax({type:"POST",url:sr+"refreshToken",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(e){a.setAccessToken(e.access_token),a.setInfo(t)},error:function(e){return console.log(e)}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){window.localStorage.removeItem("accessToken"),window.localStorage.removeItem("refreshToken")}},{key:"signIn",value:function(){var e=Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.ajax({type:"POST",url:sr+"signin",accepts:"application/json",contentType:"application/json",data:JSON.stringify({username:this.getUsername(),password:this.getPassword(),name:this.getName(),surname:this.getSurname(),birthDay:this.getBirthday(),emailAddress:this.getEmail(),language:"IT"})});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"generateCode",value:function(e){var t=this;return k.a.ajax({type:"POST",url:sr+"code/invitation_codes",accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t.getAccessToken())},data:JSON.stringify({roles_slug:e}),success:function(e){return t.setCodiceInvito(e.code.code)}})}},{key:"redeemCode",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.a.ajax({type:"POST",url:sr+"code/redeem_code",accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t.getAccessToken())},data:JSON.stringify({code:this.getCodiceInvito()})}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCreatedCodesFromServer",value:function(){var e=this,t=window.localStorage.getItem("accessToken");k.a.ajax({type:"GET",url:sr+"code/invitation_codes",accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)},success:function(t){var n,a=[],i=Object(m.a)(t.codes);try{for(i.s();!(n=i.n()).done;){var s=n.value;if(0!=s.oneTimeCode){var r,c=s.code,o=s.roles,l="",u=Object(m.a)(o);try{for(u.s();!(r=u.n()).done;){l+=r.value.name+", "}}catch(h){u.e(h)}finally{u.f()}var d=s.usages;a.push({code:c,roles:l.slice(0,-2),usages:d})}}}catch(h){i.e(h)}finally{i.f()}e.setCreatedCodes(a),e.updateState()}})}},{key:"deleteCode",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=window.localStorage.getItem("accessToken"),k.a.ajax({type:"DELETE",url:sr+"/code/invitation_code/"+t,accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(){return a.getCreatedCodesFromServer()}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllRoles",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("accessToken"),n=[],e.next=4,k.a.ajax({type:"GET",url:sr+"roles",accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)},success:function(e){return n=e.roles}});case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"sendMail",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),e.abrupt("return",k.a.ajax({type:"POST",url:sr+"recover_password/send_mail",accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},data:JSON.stringify({email:t})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"recoverPassword",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n,a){var i,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=window.localStorage.getItem("accessToken"),s=!1,e.prev=2,e.next=5,k.a.ajax({type:"POST",url:sr+"recover_password/"+a,accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+i)},data:JSON.stringify({password:t,confirm_password:n})});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),s=!0;case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,n,a){return e.apply(this,arguments)}}()}]),n}(z),be=je,pe=(n.p,n.p,n.p,n.p,n.p,n.p,n(217)),me=n.n(pe),fe=n(218),ge=n.n(fe),ve=n(219),Oe=n.n(ve),xe=n(220),ye=n.n(xe),we=n(221),ke=n.n(we);var Ne=function(e){var t=e.content,n=e.onClick,a=e.selected;return Object(d.jsxs)("div",{onClick:n,className:"news-card c_rectangular bounce "+(a?"selected":""),children:[Object(d.jsx)("p",{className:"title",children:t.getTitle()}),Object(d.jsxs)("div",{className:"justify-content-between",children:[Object(d.jsxs)("p",{children:["Di ",t.getAuthor()]}),Object(d.jsxs)("p",{children:["Pubblicato ",t.getPublishDate()]})]})]})},Ie=n(429);var Ce=function(e){var t=e.content,n=e.onClick,a=(e.windowInfo,e.selected);return Object(d.jsx)("div",{onClick:n,className:"news-card rectangular bounce "+(a?"selected":""),children:Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{xs:"4",children:Object(d.jsx)("div",{className:"image",children:Object(d.jsx)("img",{src:t.getWallpaper()})})}),Object(d.jsxs)(u.a,{xs:"8",children:[Object(d.jsx)("h6",{className:"title",children:t.getTitle()}),Object(d.jsxs)("p",{className:"author",children:["Di ",t.getAuthor()]})]})]})})};var _e=function(e){var t=e.content,n=e.onClick;return Object(d.jsxs)("div",{onClick:n,className:"news-card squared bounce",children:[Object(d.jsx)("img",{src:t.getWallpaper()}),Object(d.jsx)("div",{className:"gradient_effect"}),Object(d.jsxs)("div",{className:"info",children:[Object(d.jsx)("h4",{className:"title",children:t.getTitle()}),Object(d.jsxs)("div",{className:"space_between",children:[Object(d.jsxs)("p",{children:["Di ",t.getAuthor()]}),Object(d.jsx)("p",{children:t.getPublishDate()})]})]})]})};n(298);var Se=function(e){var t=Object(o.f)(),n=e.customRedirectUrl,a=e.layout,i=e.content,s=e.windowInfo,r=e.selected,c={squared:function(e){return Object(d.jsx)(_e,Object(l.a)({},e))},rectangular_img:function(e){return Object(d.jsx)(Ce,Object(l.a)({},e))},rectangular:function(e){return Object(d.jsx)(Ne,Object(l.a)({},e))}};return Object(d.jsx)(d.Fragment,{children:void 0!=i?Object.keys(c).includes(a)?c[a]({content:i,onClick:function(){t(void 0!=n?n+i.getId():Li.single_news.path+i.getId())},windowInfo:s,selected:r}):"ERRORE: non ho trovato alcun layout per la news":""})};n(299);var Te=function(e){var t=e.content,n=(e.windowInfo,Object(o.f)());return console.log(t),Object(d.jsxs)("div",{onClick:function(){n(Li.single_course.path+t.getId())},className:"course_card bounce",children:[Object(d.jsx)("img",{src:t.getWallpaper(),className:"img-fluid wallpaper"}),Object(d.jsx)("div",{className:"space_between date_author"}),Object(d.jsx)("h5",{className:"title m-0",children:t.getTitle()}),Object(d.jsx)("p",{className:"description",children:t.getDescription()})]})};var ze=function(e){var t=e.content;return Object(d.jsxs)("div",{className:"accademy_card compact_accademy_card block bounce",children:[Object(d.jsx)("p",{className:"title",children:t.getTitle()}),Object(d.jsxs)("p",{className:"m-0 author",children:["Di ",t.getAuthor()]})]})};var Ae=function(e){var t=e.content,n=e.windowInfo;return Object(d.jsx)("div",{className:"accademy_card bounce",children:Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{xs:"3",id:"wallpaper_container",children:Object(d.jsx)("img",{src:t.getWallpaper(),className:"img-fluid wallpaper"})}),Object(d.jsxs)(u.a,{children:[Object(d.jsx)("h6",{className:"title",children:t.getTitle()}),Object(d.jsx)("p",{className:"description",children:t.getDescription()}),Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{children:Object(d.jsx)("div",{className:"orange_rect",children:Object(d.jsxs)("h6",{children:[t.getNModules()," completato"]})})}),Object(d.jsx)(u.a,{children:Object(d.jsx)("div",{className:"orange_rect",children:Object(d.jsxs)("h6",{children:["Difficolt\xe0 ",t.getDifficultyLevel()]})})})]})]}),Object(d.jsx)(u.a,{md:"1",id:"arrow_container",className:n&&n.mobileMode?"mt-3":"",children:Object(d.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAMbmlDQ1BJQ0MgUHJvZmlsZQAASImVVwdYU8kWnluSkJDQQpcSehOkE0BKCC2A9CLYCEkgocSYEFTsZVHBtYsI2NBVEcW2AmLHriyKvS8WVJR1URcbKm9CArruK9+b75s7/z1z5j/lztx7DwCaH7gSST6qBUCBuFCaGBHCGJ2ewSB1AjLQAACYAwMuTyZhxcfHwDswOP69vbsBEMV41VnB9c/5/9p0+AIZDwBkLMRZfBmvAOLjAODVPIm0EACiQm41uVCiwLMh1pVCByFepcA5SrxdgbOU+PCATnIiG+LLAKhRuVxpDgAa96CcUcTLgTwanyF2FfNFYgA0h0McyBNy+RArfB9eUDBRgSsgtof6EoihP4CZ9R1nzt/4s4b4udycIayMa6CphYpkknzu1P8zNf+7FeTLB23Ywk4VSiMTFfHDHN7KmxitwFSIu8VZsXGKXEP8QcRX5h0AlCKUR6Yo9VETnowN8wf0IXblc0OjITaBOFycHxujkmdli8I5EMPdgk4RFXKSITaEeKFAFpak0tkonZiosoU2ZEvZLJX8HFc6YFdh64E8L4Wl4n8jFHBU/JhGsTA5DWIKxNZFotRYiOEuxFxkeUnRKp2RxUJ27KCOVJ6o8N8a4kSBOCJEyY8VZUvDE1X6pQWywXixjUIRJ1aF9xUKkyOV+cFO8bgD/sNYsMsCMStlkEcgGx0zGAtfEBqmjB17LhCnJKl4PkgKQxKVa3GKJD9epY9bCvIjFHJLiD1lRUmqtXhqIdycSn48W1IYn6z0Ey/O5UbFK/3Bl4EYwAahgAHksGeBiSAXiNq6G7vhnXImHHCBFOQAAXBWSQZXpA3MiOE1CRSDPyASANnQupCBWQEogvIvQ1Ll1RlkD8wWDazIA08hLgDRIB/eywdWiYespYInUCL6h3Uu7Dzobz7sivl/Lx+UfpOwoCRGJZEPWmRoDmoSw4ihxEhiONEBN8YDcX88Bl6DYXfHmbjvYBzf9AlPCe2ER4TrhA7C7QmiudIfvBwFOiB/uCoXWd/nAreFnF54CB4A2SEzro8bA2fcE9ph4UHQsheUslV+K7LC+IH7bxF89zRUemRXMko2IAeT7X9cqeGo4TXEosj19/lR+po1lG/20MyP9tnfZZ8Px+gfNbGF2H7sLHYCO48dxhoBAzuGNWGt2BEFHtpdTwZ216C1xAF/8iCP6B/2uCqbikzKXOtcu1w/K+cKBVMKFQePPVEyVSrKERYyWPDrIGBwxDyX4Qx3V3c3ABTfGuXr623CwDcE0W/9Jpv3OwABx/r7+w99k0UdA2CvDzz+B7/J7JkAaKsDcO4gTy4tUspwxYUA3xKa8KQZATNgBexhPO7AG/iDYBAGokAcSAbpYDzMshDucymYDKaDOaAElIFlYDWoBBvAZrAd7AL7QCM4DE6AM+AiuAyug7tw93SCl6AHvAN9CIKQEBpCR4wQc8QGcULcESYSiIQhMUgiko5kIjmIGJEj05F5SBmyAqlENiG1yF7kIHICOY+0I7eRh0gX8gb5hGIoFdVFTVFbdATKRFloNJqMjkNz0EloMTofXYJWoDXoTrQBPYFeRK+jHehLtBcDmDqmj1lgzhgTY2NxWAaWjUmxmVgpVo7VYPVYM3zOV7EOrBv7iBNxOs7AneEOjsRTcB4+CZ+JL8Yr8e14A34Kv4o/xHvwrwQawYTgRPAjcAijCTmEyYQSQjlhK+EA4TQ8S52Ed0QiUZ9oR/SBZzGdmEucRlxMXEfcTTxObCc+JvaSSCQjkhMpgBRH4pIKSSWktaSdpGOkK6RO0gc1dTVzNXe1cLUMNbHaXLVytR1qR9WuqD1T6yNrkW3IfuQ4Mp88lbyUvIXcTL5E7iT3UbQpdpQASjIllzKHUkGpp5ym3KO8VVdXt1T3VU9QF6nPVq9Q36N+Tv2h+keqDtWRyqaOpcqpS6jbqMept6lvaTSaLS2YlkErpC2h1dJO0h7QPmjQNVw0OBp8jVkaVRoNGlc0XmmSNW00WZrjNYs1yzX3a17S7NYia9lqsbW4WjO1qrQOat3U6tWma7tpx2kXaC/W3qF9Xvu5DknHVidMh68zX2ezzkmdx3SMbkVn03n0efQt9NP0Tl2irp0uRzdXt0x3l26bbo+ejp6nXqreFL0qvSN6HfqYvq0+Rz9ff6n+Pv0b+p8MTA1YBgKDRQb1BlcM3hsOMww2FBiWGu42vG74yYhhFGaUZ7TcqNHovjFu7GicYDzZeL3xaePuYbrD/IfxhpUO2zfsjglq4miSaDLNZLNJq0mvqZlphKnEdK3pSdNuM32zYLNcs1VmR826zOnmgeYi81Xmx8xfMPQYLEY+o4JxitFjYWIRaSG32GTRZtFnaWeZYjnXcrflfSuKFdMq22qVVYtVj7W59Sjr6dZ11ndsyDZMG6HNGpuzNu9t7WzTbBfYNto+tzO049gV29XZ3bOn2QfZT7Kvsb/mQHRgOuQ5rHO47Ig6ejkKHascLzmhTt5OIqd1Tu3DCcN9h4uH1wy/6Ux1ZjkXOdc5P3TRd4lxmevS6PJqhPWIjBHLR5wd8dXVyzXfdYvrXTcdtyi3uW7Nbm/cHd157lXu1zxoHuEeszyaPF57OnkKPNd73vKie43yWuDV4vXF28db6l3v3eVj7ZPpU+1zk6nLjGcuZp7zJfiG+M7yPez70c/br9Bvn9+f/s7+ef47/J+PtBspGLll5OMAywBuwKaAjkBGYGbgxsCOIIsgblBN0KNgq2B+8NbgZywHVi5rJ+tViGuINORAyHu2H3sG+3goFhoRWhraFqYTlhJWGfYg3DI8J7wuvCfCK2JaxPFIQmR05PLImxxTDo9Ty+mJ8omaEXUqmhqdFF0Z/SjGMUYa0zwKHRU1auWoe7E2seLYxjgQx4lbGXc/3i5+UvyhBGJCfEJVwtNEt8TpiWeT6EkTknYkvUsOSV6afDfFPkWe0pKqmTo2tTb1fVpo2oq0jtEjRs8YfTHdOF2U3pRBykjN2JrROyZszOoxnWO9xpaMvTHObtyUcefHG4/PH39kguYE7oT9mYTMtMwdmZ+5cdwabm8WJ6s6q4fH5q3hveQH81fxuwQBghWCZ9kB2Suyn+cE5KzM6RIGCcuF3SK2qFL0Ojcyd0Pu+7y4vG15/flp+bsL1AoyCw6KdcR54lMTzSZOmdgucZKUSDom+U1aPalHGi3dKkNk42RNhbrwp75Vbi//Sf6wKLCoqujD5NTJ+6doTxFPaZ3qOHXR1GfF4cW/TMOn8aa1TLeYPmf6wxmsGZtmIjOzZrbMspo1f1bn7IjZ2+dQ5uTN+W2u69wVc/+alzaveb7p/NnzH/8U8VNdiUaJtOTmAv8FGxbiC0UL2xZ5LFq76Gspv/RCmWtZednnxbzFF352+7ni5/4l2UvalnovXb+MuEy87MbyoOXbV2ivKF7xeOWolQ2rGKtKV/21esLq8+We5RvWUNbI13RUxFQ0rbVeu2zt50ph5fWqkKrd1SbVi6rfr+Ovu7I+eH39BtMNZRs+bRRtvLUpYlNDjW1N+Wbi5qLNT7ekbjn7C/OX2q3GW8u2ftkm3taxPXH7qVqf2todJjuW1qF18rqunWN3Xt4Vuqup3rl+02793WV7wB75nhd7M/fe2Be9r2U/c3/9rza/Vh+gHyhtQBqmNvQ0Chs7mtKb2g9GHWxp9m8+cMjl0LbDFoerjugdWXqUcnT+0f5jxcd6j0uOd5/IOfG4ZULL3ZOjT147lXCq7XT06XNnws+cPMs6e+xcwLnD5/3OH7zAvNB40ftiQ6tX64HfvH470Obd1nDJ51LTZd/Lze0j249eCbpy4mro1TPXONcuXo+93n4j5catm2Nvdtzi33p+O//26ztFd/ruzr5HuFd6X+t++QOTBzW/O/y+u8O748jD0Ietj5Ie3X3Me/zyiezJ5875T2lPy5+ZP6t97v78cFd41+UXY150vpS87Osu+UP7j+pX9q9+/TP4z9ae0T2dr6Wv+98sfmv0dttfnn+19Mb3PnhX8K7vfekHow/bPzI/nv2U9ulZ3+TPpM8VXxy+NH+N/nqvv6C/X8KVcgd+BTDY0exsAN5sA4CWDgAd1m2UMcpacKAhyvp1AIH/hJX14kDzBqAe/r8ndMO/m5sA7NkCyy/Irwlr1XgaAMm+APXwGOqqJsv2cFdyUWGdQnjQ3/8W1myklQB8Wdbf31fT3/9lM3QW1o7HxcoaVNGIsGbYGPYlqyAL/JumrE+/i/HHESg88AQ/jv8Cf3eQsJGe4yYAAAA4ZVhJZk1NACoAAAAIAAGHaQAEAAAAAQAAABoAAAAAAAKgAgAEAAAAAQAAABigAwAEAAAAAQAAABgAAAAAwf1XlwAAAqlJREFUSA21lU1oU0EQx2dfnonEoBKKFD8OFSmCTYUW/LgIPQjm4MGjIB49eEkFQUSPigiC7aWHHkXw6MFDvBW81A8q2FqQIHpRCVKDSizmmWSc/76dxzN5ryo0C8nszs7+Znd2dh7RgJvZiP/pwuhQNp89a4w5RUyHic2wtTdcJ0OvmPlxsB482D1fW0vjJDqoXx7flm13rzKZiiwspC12+qYhng1879bwneUfvbZ9Dr5eKu1vM1VlYtQZV42h+17GLL79vuUDdAe2/9rb7fBxZjonwzJ0TFTzDZV33l15h7G2PxwA3mF6IpN7sEBCcn5odvmZGifJtcr4UTJ8z23oY8bQibiTyAHC4rf5JQwltgve1tyZ4u2lb0nQXl3jyuSO7s/WQ7mrKWys7ZsJDZenxoi5hYvB/8CxHhvBGsDBAEu59gTIllw+916UBWZzLC0sXyqlRcmeQifontw1t1pXiEqEyxh+KuNma701guyyJ0AqAi6/ahrcQgz5IscyOW/h88VDYcraifDPra3KqOCYZB3YPBctsiVm39eVnZ+WE7yRlDmY5kQZygzvAI9IGlKxjxpTICydVndqIycRwzFxZElieaGGSfNcmY3p0pJc3ISOIylK23CSrPdC+vucxjJG8kHIFGWURWqw2TI8AWqLPC68UJHIJtuKMyuT2leJy0X8cQ8IlQ2ZTooEo9OWTsh0J5DCBRs8f8i0lgTvTdeI4Zg2RKiKgLraksYnifej+M574XGGMq0DlFyZbMqvbGtLmgsmKVW0irAkwd1aFL+mY0oUXWtMj92Q8nxNADUvlz3yr3UoWo961Aqeo1RI+b5ZnHl9HXNRFqGeAw4DFC4UMF38NxkVOxRKYYCla6ITQDHQcq0eB/rBUScD/WSqE8jN+OjHeQPp/wY5q2cvgxi5dwAAAABJRU5ErkJggg=="})})]})})},Pe=n(478),Le=n(477);var Ee=function(e){var t=e.content;return Object(d.jsxs)("div",{className:"squared_accademy_card bounce",children:[Object(d.jsx)(Le.a,{component:"img",height:"100",image:t.getWallpaper(),alt:"green iguana"}),Object(d.jsxs)(Pe.a,{children:[Object(d.jsx)("h5",{className:"title",children:t.getTitle()}),Object(d.jsx)("div",{className:"chip_container",children:Object(d.jsxs)("p",{className:"p-1 m-0",children:[t.getNModules()+" Moduli \xb7"," ",t.getTime()+" Minuti \xb7"," ","Difficolt\xe0 "+t.getDifficultyLevel()]})})]})]})};n(302);var qe=function(e){var t=e.content;return Object(d.jsx)("div",{className:"accademy_card design bounce",children:Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{xs:"4",className:"wallpaper_container",children:Object(d.jsx)("img",{src:t&&t.getWallpaper(),className:"img-fluid wallpaper"})}),Object(d.jsxs)(u.a,{xs:"8",className:"info_container",children:[Object(d.jsx)("h5",{className:"title",children:t&&t.getTitle()}),Object(d.jsxs)("p",{className:"difficulty mb-1",children:["Difficolt\xe0 ",t&&t.getDifficultyLevel()]}),Object(d.jsxs)("p",{className:"modules_number mb-1",children:[t&&t.getNModules()," moduli"]}),Object(d.jsxs)("p",{className:"time mb-1",children:[t&&t.getTime()," minuti"]})]})]})})};var De=function(e){var t=e.content,n=e.layout,a=e.windowInfo,i=Object(o.f)(),s={compact:function(e){return Object(d.jsx)(ze,Object(l.a)({},e))},default:function(e){return Object(d.jsx)(Ae,Object(l.a)({},e))},squared:function(e){return Object(d.jsx)(Ee,Object(l.a)({},e))},design:function(e){return Object(d.jsx)(qe,Object(l.a)({},e))}};return Object(d.jsx)("div",{onClick:function(){i(Li.single_module.path+t.getId())},children:Object.keys(s).includes(n)?s[n]({content:t,windowInfo:a}):"ERRORE: non ho trovato nessun"})},Re=n(433),Me=n(141),Fe=n.n(Me);n(303);function Be(e){var t=e.content,n=e.setRef,i=e.style,s=Object(a.useRef)();return Object(a.useEffect)((function(){null!=s&&n(s.current)}),[s]),Object(d.jsx)("div",{className:"item",ref:s,style:i,children:t})}var We=function(e){var t=Object(d.jsx)(Fe.a,{className:"bounce orange_icon",style:{transform:"rotate(180deg)"}}),n=Object(d.jsx)(Fe.a,{className:"bounce orange_icon"}),i=Object(d.jsx)(Fe.a,{className:"bounce orange_icon",style:{transform:"rotate(90deg)"}}),s=Object(d.jsx)(Fe.a,{className:"bounce orange_icon",style:{transform:"rotate(-90deg)"}}),r=e.isMobile,o=e.children,l=e.style;o=Array.isArray(o)?o:[o];var u=e.direction,h=void 0!=e.margin?e.margin:0,j=e.mustVisible,b=e.leftArrow,p=e.rightArrow,f=e.arrowClickFunction;b=void 0==b?"horizontal"==u?i:t:b,p=void 0==p?"horizontal"==u?s:n:p;var g=Object(a.useRef)(),v=Object(a.useState)([]),O=Object(c.a)(v,2),x=O[0],y=O[1],w=Object(a.useState)(void 0),N=Object(c.a)(w,2),I=N[0],C=N[1],_=Object(a.useState)(void 0),S=Object(c.a)(_,2),T=S[0],z=S[1];function A(e){var t=x;t.push(e),y(t)}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=L(),a=Object(c.a)(n,2),i=a[0],s=a[1];if(e){for(var r=s+t>x.length-1?x.length-1:s+t,o=0,l=s+1;l<=r;l++)o+="horizontal"==u?x[l].clientWidth:x[l].clientHeight,o+=h;"horizontal"==u?k()(g.current).animate({scrollLeft:g.current.scrollLeft+o}):k()(g.current).animate({scrollTop:g.current.scrollTop+o}),s<r&&C(i+t),z(r)}else{for(var d=i-t<0?0:i-t,j=0,b=i;b>=d;b--)j+="horizontal"==u?x[b].clientWidth:x[b].clientHeight,j+=h;"horizontal"==u?k()(g.current).animate({scrollLeft:g.current.scrollLeft-j}):k()(g.current).animate({scrollTop:g.current.scrollTop-j}),C(d),i>d&&z(s-t)}void 0!=f&&f(e)}function L(){var e,t=void 0,n=void 0,a="horizontal"==u?g.current.clientWidth:g.current.clientHeight,i="horizontal"==u?g.current.scrollLeft:g.current.scrollTop,s=0,r=Object(m.a)(x);try{for(r.s();!(e=r.n()).done;){var c=e.value;if(s+="horizontal"==u?c.clientWidth:c.clientHeight,s+=h,void 0==t&&s>=i&&(t=c,C(x.indexOf(t))),!(s<=a+i)){z(x.indexOf(n));break}n=c}}catch(o){r.e(o)}finally{r.f()}return[x.indexOf(t),x.indexOf(n)]}return Object(a.useEffect)((function(){void 0!=o&&x.length==o.length&&L()}),[x,o]),Object(a.useEffect)((function(){void 0!=j&&void 0!=o&&(j<I?P(!1,I-j):j>T&&P(!0,j-T))}),[j,o]),Object(d.jsxs)("div",{style:l,className:"horizontal"==u?"scroll_container horizontal":"scroll_container vertical",children:[Object(d.jsx)("div",{style:{display:r?"none":""},onClick:function(){return P(!1)},className:0==I?"arrow disabled":"arrow",children:b}),Object(d.jsx)("div",{className:"horizontal"==u?"list horizontal":"list vertical",ref:g,children:o&&o.map((function(e,t){return Object(d.jsx)(Be,{useRef:x[t],content:e,setRef:A,style:"horizontal"==u?{marginLeft:h/2,marginRight:h/2}:{marginTop:h/2,marginBottom:h/2}})}))}),Object(d.jsx)("div",{style:{display:r?"none":""},onClick:function(){return P(!0)},className:T==x.length-1?"arrow disabled":"arrow",children:p})]})};n(304);var Ve=n(110),He=n.n(Ve),Ue=n(472);function Ge(e){var t=e.content,n=e.windowInfo,a=e.scrollTo,i="general";return Object(d.jsxs)("div",{id:"news-home",children:[Object(d.jsxs)("div",{className:"centered",children:[Object(d.jsx)("h1",{className:"text-shadow text-center",children:"News"}),Object(d.jsxs)("div",{className:"search_bar text-center",children:[Object(d.jsx)("input",{placeholder:"Cerca..."}),n.mobileMode?"":Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(He.a,{className:"orange_icon"}),Object(d.jsx)("br",{})]})]}),Object(d.jsxs)("div",{className:"text-center",children:[Object(d.jsx)("button",{className:"button",onClick:function(){return a("daily")},children:"Del giorno"}),Object(d.jsx)("button",{className:"button",onClick:function(){return a("for_you")},children:"Per i tuoi gusti"}),Object(d.jsx)("button",{className:"button",onClick:function(){return a("categories")},children:"Per categoria"})]})]}),Object(d.jsx)("div",{className:"small_news_container",children:0==t.getNewsPerCategory(i).length?Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"1"}),Object(d.jsxs)(u.a,{md:"4",children:[Object(d.jsx)(Ue.a,{height:"200px"}),Object(d.jsx)("br",{}),Object(d.jsx)(Ue.a,{height:"200px"})]}),Object(d.jsxs)(u.a,{md:"2",children:[Object(d.jsx)(Ue.a,{height:"200px"}),Object(d.jsx)("br",{}),Object(d.jsx)(Ue.a,{height:"200px"})]}),Object(d.jsxs)(u.a,{md:"4",children:[Object(d.jsx)(Ue.a,{height:"200px"}),Object(d.jsx)("br",{}),Object(d.jsx)(Ue.a,{height:"200px"})]}),Object(d.jsx)(u.a,{md:"1"})]}):Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"2"}),Object(d.jsxs)(u.a,{md:"4",children:[Object(d.jsx)(Se,{content:t.getNewsPerCategory(i)[0],windowInfo:n,layout:"squared",selected:!0}),Object(d.jsx)(Se,{content:t&&t.getNewsPerCategory(i)[1],windowInfo:n,layout:"squared",selected:!0})]}),Object(d.jsxs)(u.a,{md:"4",children:[Object(d.jsx)(Se,{content:t&&t.getNewsPerCategory(i)[2],windowInfo:n,layout:"squared",selected:!0}),Object(d.jsx)(Se,{content:t&&t.getNewsPerCategory(i)[3],windowInfo:n,layout:"squared",selected:!0})]}),Object(d.jsx)(u.a,{md:"2"})]})})]})}function Ye(e){var t=e.content,n=e.windowInfo;e.scrollTo;return Object(d.jsxs)("div",{id:"news-home",children:[Object(d.jsxs)("div",{className:"search_bar text-center",children:[Object(d.jsx)("input",{placeholder:"Cerca..."}),n.mobileMode?"":Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(He.a,{className:"orange_icon"}),Object(d.jsx)("br",{})]})]}),Object(d.jsx)("h6",{className:"section_title",children:"Panoramica"}),t&&Object.values(t.getNewsPerCategory("general")).map((function(e){return Object(d.jsx)(Se,{content:e,windowInfo:n,layout:"rectangular"})}))]})}var Qe=function(e){var t=e.content,n=e.windowInfo,i=e.scrollTo;return Object(a.useEffect)((function(){t.loadNewsPerCategory()}),[]),Object(d.jsx)(d.Fragment,{children:n.mobileMode?Object(d.jsx)(Ye,{content:t,windowInfo:n,scrollTo:i}):Object(d.jsx)(Ge,{content:t,windowInfo:n,scrollTo:i})})},Je=n(137),Ke=n.n(Je);function Ze(e){var t=e.windowInfo,n=e.content,i=Object(a.useState)(!0),s=Object(c.a)(i,2),r=s[0],o=s[1],l=Object(a.useState)(null),h=Object(c.a)(l,2),j=h[0],b=h[1],p=Object(a.useState)("auto"),m=Object(c.a)(p,2),f=m[0],g=m[1],v=Object(a.useState)(!1),O=Object(c.a)(v,2),x=O[0],y=O[1],w=Object(a.useState)(!0),k=Object(c.a)(w,2),N=k[0],I=k[1],C=Object(a.useState)(!0),_=Object(c.a)(C,2),S=_[0],T=_[1];return Object(a.useEffect)((function(){n&&r&&Object.values(n.getDailyNews()).length>0&&(T(!1),b(Object.values(n.getDailyNews())[0]),o(!1)),null==j&&0!=n.getNewsPerCategory("economia").length&&(T(!1),b(n.getNewsPerCategory("economia")[0]))}),[n]),Object(a.useEffect)((function(){t.mobileMode?g("auto"):g(t.dashboardContainerHeight+"px")}),[t.dashboardContainerHeight]),Object(a.useEffect)((function(){var e=setInterval((function(){}),3e3);return null!=j&&(e=setInterval((function(){var e=n.getNewsPerCategory("economia").findIndex((function(e){return e===j}));e=(e+1)%n.getNewsPerCategory("economia").length,x?I(!N):(T(!1),setTimeout((function(){return b(n.getNewsPerCategory("economia")[e])}),200))}),3e3)),function(){return clearInterval(e)}}),[j,N]),Object(a.useEffect)((function(){T(!1),setTimeout((function(){return T(!0)}),500)}),[j]),Object(d.jsx)("div",{id:"daily_news",style:{height:t.dashboardContainerHeight},children:Object(d.jsxs)(Ie.a,{className:"content",children:[Object(d.jsx)(u.a,{md:"8",className:"p-0",children:Object(d.jsxs)("div",{className:"daily_news_info",children:[Object(d.jsx)("div",{className:"vertical_gradient"}),Object(d.jsx)("div",{className:"horizontal_gradient"}),j?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Re.a,{in:S,children:Object(d.jsx)("img",{src:j.getWallpaper()})}),Object(d.jsxs)("div",{className:"info",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{className:"text-center",children:j.getTitle()}),Object(d.jsx)("div",{className:"separator"}),Object(d.jsxs)("h6",{className:"text-center author",children:[j.getPublishDate()," - Di ",j.getAuthor()]}),Object(d.jsx)("div",{className:"text-center read_news bounce",children:Object(d.jsx)(Ke.a,{})})]}),Object(d.jsx)("br",{})]})]}):""]})}),Object(d.jsxs)(u.a,{md:"4",className:"sidebar",style:{height:f},children:[Object(d.jsx)("br",{}),Object(d.jsx)("h4",{className:"text-center",children:"News del giorno"}),Object(d.jsx)("div",{id:"list",children:0==n.getNewsPerCategory("economia")?Object(d.jsxs)("div",{children:[Object(d.jsx)(Ue.a,{sx:{bgcolor:"grey.900"},variant:"rectangular",height:"150px"}),Object(d.jsx)("br",{}),Object(d.jsx)(Ue.a,{sx:{bgcolor:"grey.900"},variant:"rectangular",height:"150px"}),Object(d.jsx)("br",{}),Object(d.jsx)(Ue.a,{sx:{bgcolor:"grey.900"},variant:"rectangular",height:"150px"}),Object(d.jsx)("br",{}),Object(d.jsx)(Ue.a,{sx:{bgcolor:"grey.900"},variant:"rectangular",height:"150px"}),Object(d.jsx)("br",{})]}):Object(d.jsx)(We,{isMobile:t.mobileMode,direction:t.mobileMode?"horizontal":"vertical",margin:15,mustVisible:n.getNewsPerCategory("economia").indexOf(j),children:n.getNewsPerCategory("economia").map((function(e,n){return Object(d.jsx)("div",{id:n,onMouseEnter:function(){T(!1),setTimeout((function(){return b(e)}),200),y(!0)},onMouseLeave:function(){return y(!1)},children:Object(d.jsx)(Se,{layout:"rectangular_img",content:e,windowInfo:t,selected:j==e})},n)}))})})]})]})})}function Xe(e){var t=e.windowInfo,n=e.content;return Object(d.jsxs)("div",{children:[Object(d.jsx)("h6",{className:"section_title mb-1 mt-1",children:"Notizie del giorno"}),Object(d.jsx)("div",{className:"mobile_news_list",children:n&&Object.values(n.getNewsPerCategory("economia")).map((function(e){return Object(d.jsx)(Se,{layout:"rectangular_img",content:e,windowInfo:t})}))})]})}var $e=function(e){var t=e.windowInfo,n=e.content;return Object(a.useEffect)((function(){n.loadNewsPerCategory("economia")}),[]),Object(d.jsx)(d.Fragment,{children:t.mobileMode?Object(d.jsx)(Xe,{windowInfo:t,content:n}):Object(d.jsx)(Ze,{windowInfo:t,content:n})})},et=n(479);function tt(e){var t=e.content,n=e.windowInfo,i=Object(a.useState)(!1),s=Object(c.a)(i,2),r=(s[0],s[1]),o=Object(a.useState)("auto"),l=Object(c.a)(o,2),h=l[0],b=l[1],m=Object(a.useState)(0),f=Object(c.a)(m,2),g=f[0],v=f[1],O=Object(a.useRef)(),x=Object(a.useRef)(),y=Object(a.useRef)(new IntersectionObserver((function(){})));return Object(a.useEffect)((function(){y.current.disconnect(),y.current=new IntersectionObserver(function(){var e=Object(j.a)(p.a.mark((function e(n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n[0],!a.isIntersecting){e.next=6;break}return e.next=5,t.loadNewsPerCategory(g);case 5:r(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),void 0!=O.current&&y.current.observe(O.current)}),[t.getNewsPerCategory(g)]),Object(a.useEffect)((function(){t&&0!=Object.values(t.getCategories()).length&&0==g&&v(Object.keys(t.getCategories())[0])}),[t]),Object(a.useEffect)((function(){0!=g&&void 0==O.current&&t.loadNewsPerCategory(g)}),[g]),Object(a.useEffect)((function(){function e(){var e=document.getElementById("content_container").offsetHeight;n.mobileMode?b("auto"):b(e)}window.addEventListener("resize",e),e()}),[]),Object(d.jsxs)("div",{id:"news_categories",style:{height:h},children:[Object(d.jsx)("div",{id:"gradient_effect"}),Object(d.jsx)("div",{className:"content_container",children:Object(d.jsxs)(Ie.a,{className:"content_row",children:[Object(d.jsx)(u.a,{md:"4",className:"sidebar",style:{height:h},children:Object(d.jsxs)("div",{className:"centered",children:[Object(d.jsx)("h3",{children:"Categorie"}),Object(d.jsxs)("div",{className:"search_bar text-center",children:[Object(d.jsx)("input",{placeholder:"Cerca..."}),Object(d.jsx)("br",{})]}),Object(d.jsx)("div",{className:"list",children:t&&Object.keys(t.getCategories()).map((function(e){return Object(d.jsx)("div",{className:g==e?"bounce category_item selected":"bounce category_item",onClick:function(){return v(e)},children:t.getCategories()[e]})}))})]})}),Object(d.jsx)(u.a,{md:"8",style:{display:"grid"},children:0!=t.getNewsPerCategory(g).length?Object(d.jsx)(We,{style:{marginTop:"auto",marginBottom:"auto"},direction:"horizontal",children:Object(U.a)(Array(Math.trunc(t.getNewsPerCategory(g).length/8)+1)).map((function(e,a){return Object(d.jsxs)("div",{style:{padding:20},ref:a==Math.trunc(t.getNewsPerCategory(g).length/8)?O:x,children:[Object(d.jsx)(u.a,{md:"12",children:Object(d.jsx)(Se,{content:t.getNewsPerCategory(g)[8*a+0],windowInfo:n,layout:"squared"})}),Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"6",children:Object(d.jsx)(Se,{content:t.getNewsPerCategory(g)[8*a+1],windowInfo:n,layout:"squared"})}),Object(d.jsx)(u.a,{md:"6",children:Object(d.jsx)(Se,{content:t.getNewsPerCategory(g)[8*a+2],windowInfo:n,layout:"squared"})})]}),Object(d.jsxs)(Ie.a,{children:[Object(d.jsxs)(u.a,{md:"4",children:[Object(d.jsx)(Se,{content:t.getNewsPerCategory(g)[8*a+3],windowInfo:n,layout:"rectangular"}),Object(d.jsx)(Se,{content:t.getNewsPerCategory(g)[8*a+4],windowInfo:n,layout:"rectangular"})]}),Object(d.jsxs)(u.a,{md:"4",children:[Object(d.jsx)(Se,{content:t.getNewsPerCategory(g)[8*a+5],windowInfo:n,layout:"rectangular"}),Object(d.jsx)(Se,{content:t.getNewsPerCategory(g)[8*a+6],windowInfo:n,layout:"rectangular"})]}),Object(d.jsxs)(u.a,{md:"4",children:[Object(d.jsx)(Se,{content:t.getNewsPerCategory(g)[8*a+7],windowInfo:n,layout:"rectangular"}),Object(d.jsx)(Se,{content:t.getNewsPerCategory(g)[8*a+8],windowInfo:n,layout:"rectangular"})]})]})]})}))}):Object(d.jsxs)("div",{className:"p-5",children:[Object(d.jsx)(u.a,{md:"12",children:Object(d.jsx)(Ue.a,{height:"200px"})}),Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"6",children:Object(d.jsx)(Ue.a,{height:"200px"})}),Object(d.jsx)(u.a,{md:"6",children:Object(d.jsx)(Ue.a,{height:"200px"})})]}),Object(d.jsxs)(Ie.a,{children:[Object(d.jsxs)(u.a,{md:"4",children:[Object(d.jsx)(Ue.a,{height:"200px"}),Object(d.jsx)(Ue.a,{height:"200px"})]}),Object(d.jsxs)(u.a,{md:"4",children:[Object(d.jsx)(Ue.a,{height:"200px"}),Object(d.jsx)(Ue.a,{height:"200px"})]}),Object(d.jsxs)(u.a,{md:"4",children:[Object(d.jsx)(Ue.a,{height:"200px"}),Object(d.jsx)(Ue.a,{height:"200px"})]})]})]})})]})})]})}function nt(e){var t=e.content,n=e.windowInfo,i=Object(a.useState)(-1),s=Object(c.a)(i,2),r=s[0],o=s[1],l=Object(a.useRef)(new IntersectionObserver((function(){}))),u=Object(a.useRef)();return Object(a.useEffect)((function(){l.current.disconnect(),l.current=new IntersectionObserver((function(e){e[0].isIntersecting&&t.loadNewsPerCategory(r)}));var e=u.current.children[u.current.children.length-1];void 0!=e&&l.current.observe(e)}),[t.getNewsPerCategory(r)]),Object(a.useEffect)((function(){0!=Object.values(t.getCategories()).length&&-1==r&&o(Object.keys(t.getCategories())[0])}),[t]),Object(d.jsxs)("div",{id:"news_categories_mobile",children:[Object(d.jsx)("h6",{className:"section_title mb-1 mt-3",children:"Per categoria"}),Object(d.jsx)("div",{className:"categories_container",children:Object.keys(t.getCategories()).map((function(e){return Object(d.jsx)(et.a,{className:"my_chip m-2 "+(r==e?"orange":""),label:t.getCategories()[e],onClick:function(){return o(e)}})}))}),Object(d.jsx)("div",{className:"mobile_news_list",ref:u,children:t&&Object.values(t.getNewsPerCategory(r)).map((function(e){return Object(d.jsx)(Se,{layout:"rectangular_img",content:e,windowInfo:n})}))})]})}var at=function(e){var t=e.content,n=e.windowInfo;return Object(a.useEffect)((function(){void 0!=t&&t.loadCategories()}),[]),Object(d.jsx)(d.Fragment,{children:n.mobileMode?Object(d.jsx)(nt,{windowInfo:n,content:t}):Object(d.jsx)(tt,{windowInfo:n,content:t})})},it=n(160),st=n.n(it);function rt(e){var t=e.windowInfo,n=e.content,i=Object(a.useState)(!0),s=Object(c.a)(i,2),r=s[0],o=s[1],l=Object(a.useState)("auto"),h=Object(c.a)(l,2),j=h[0],b=h[1],p=Object(a.useState)(void 0),m=Object(c.a)(p,2),f=m[0],g=m[1],v=Object(a.useState)(!1),O=Object(c.a)(v,2),x=O[0],y=O[1],w=Object(a.useState)(!0),k=Object(c.a)(w,2),N=k[0],I=k[1],C=Object(a.useState)(!0),_=Object(c.a)(C,2),S=_[0],T=_[1];return Object(a.useEffect)((function(){if(r&&void 0!=n){var e=Object.values(n.getPersonalNews());e.length>0&&(T(!1),g(e[0]),o(!1))}null==f&&0!=n.getNewsPerCategory("finanza").length&&(T(!1),g(n.getNewsPerCategory("finanza")[0]))}),[n]),Object(a.useEffect)((function(){void 0!=t&&(t.mobileMode?b("auto"):b(t.dashboardContainerHeight))}),[t.dashboardContainerHeight]),Object(a.useEffect)((function(){var e=setInterval((function(){}),3e3);return null!=f&&(e=setInterval((function(){var e=n.getNewsPerCategory("finanza").findIndex((function(e){return e===f}));e=(e+1)%n.getNewsPerCategory("finanza").length,x?I(!N):(T(!1),setTimeout((function(){return g(n.getNewsPerCategory("finanza")[e])}),200))}),3e3)),function(){return clearInterval(e)}}),[f,N]),Object(a.useEffect)((function(){T(!1),setTimeout((function(){return T(!0)}),400)}),[f]),Object(d.jsxs)("div",{id:"for_you_section",style:{height:j},children:[Object(d.jsx)("div",{className:"top_gradient"}),Object(d.jsx)("div",{className:"bottom_gradient"}),Object(d.jsx)("div",{className:"wallpaper_container",children:f&&""!=f.getWallpaper()?Object(d.jsx)(Re.a,{timeout:300,in:S,children:Object(d.jsx)("img",{className:"wallpaper",src:f&&f.getWallpaper()})}):""}),Object(d.jsxs)("div",{className:"content",children:[Object(d.jsx)("div",{className:"section_title_container p-5",children:Object(d.jsx)("h1",{className:"section_title",children:"Per i tuoi gusti"})}),Object(d.jsxs)(u.a,{md:"4",className:"info_container m-5",children:[Object(d.jsxs)("div",{className:"space_between",children:[Object(d.jsx)("h2",{className:"title space_between",children:f&&f.getTitle()}),Object(d.jsx)("p",{children:f&&f.getDescription()}),Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)(st.a,{className:"orange_icon bounce"})})]}),Object(d.jsx)("div",{className:"separator"}),Object(d.jsxs)("h6",{className:"author",children:["Di ",f&&f.getAuthor()]}),Object(d.jsx)("h6",{className:"time",children:f&&f.getPublishDate()})]}),0==n.getNewsPerCategory("finanza").length?Object(d.jsxs)("div",{className:"display_inline",children:[Object(d.jsx)(Ue.a,{width:"200px",height:"100px",className:"m-2"}),Object(d.jsx)(Ue.a,{width:"200px",height:"100px",className:"m-2"}),Object(d.jsx)(Ue.a,{width:"200px",height:"100px",className:"m-2"}),Object(d.jsx)(Ue.a,{width:"200px",height:"100px",className:"m-2"})]}):Object(d.jsx)(We,{direction:"horizontal",margin:15,mustVisible:n.getNewsPerCategory("finanza").indexOf(f),children:n&&n.getNewsPerCategory("finanza").map((function(e){return Object(d.jsx)("div",{style:{width:400},className:"m-2",onMouseEnter:function(){T(!1),setTimeout((function(){return g(e)}),200),y(!0)},onMouseLeave:function(){return y(!1)},children:Object(d.jsx)(Se,{layout:"rectangular",content:e,windowInfo:t,selected:f&&e.getId()==f.getId()})})}))})]})]})}function ct(e){var t=e.windowInfo,n=e.content;return Object(d.jsxs)("div",{children:[Object(d.jsx)("h6",{className:"section_title mb-1 mt-3",children:"Scelte per te"}),Object(d.jsx)("div",{className:"mobile_news_list",children:n&&Object.values(n.getNewsPerCategory("finanza")).map((function(e){return Object(d.jsx)(Se,{layout:"rectangular_img",content:e,windowInfo:t})}))})]})}var ot=function(e){var t=e.windowInfo,n=e.content,i=Object(a.useState)(!0),s=Object(c.a)(i,2),r=s[0],o=s[1];return Object(a.useEffect)((function(){r&&void 0!=n&&(n.loadNewsPerCategory("finanza"),o(!1))}),[n]),Object(d.jsx)(d.Fragment,{children:t.mobileMode?Object(d.jsx)(ct,{windowInfo:t,content:n}):Object(d.jsx)(rt,{windowInfo:t,content:n})})};n(305);var lt=function(e){var t=e.windowInfo,n=Object(a.useState)(new H),i=Object(c.a)(n,2),s=i[0],r=i[1],o=Object(a.useRef)(),u=Object(a.useRef)(),h=Object(a.useRef)(),j=Object(a.useRef)(),b=Object(a.useRef)(),p=Object(a.useRef)(0);function m(e){var t,n;"home"==e&&(n=0,b.current.section=o,t=o.current),"daily"==e&&(b.current.section=u,t=u.current),"for_you"==e&&(b.current.section=j,t=j.current),"categories"==e&&(b.current.section=h,t=h.current),n=0!=n?k()("#content_container").scrollTop()+k()(t).offset().top:0,console.log(k()(t).offset().top),k()("#content_container").animate({scrollTop:n})}return Object(a.useEffect)((function(){return s.setState(r),b.current={section:o,isScrolling:!1},function(){var e=document.querySelector("#content_container");void 0!=e&&(e.style.overflow="")}}),[]),Object(a.useEffect)((function(){console.log("ciao"),t.mobileMode?document.querySelector("#content_container").style.overflowY="auto":document.querySelector("#content_container").style.overflowY="hidden",document.querySelector("#content_container").style.overflowX="hidden"}),[Object(l.a)({},t)]),Object(d.jsx)(Re.a,{in:!0,children:Object(d.jsxs)("div",{id:"news_page",onWheel:function(e){if(t.mobileMode)document.querySelector("#content_container").style.overflowY="auto";else{var n=e.timeStamp;if(console.log(e),n-p.current>100){e.currentTarget;var a=[o,u,j,h];if(!b.current.isScrolling){var i=e.deltaY>0,s=a.indexOf(b.current.section);i?s<3&&(s+=1):s>0&&(s-=1),b.current.section=a[s],b.current.isScrolling=!0,0==s&&m("home"),1==s&&m("daily"),2==s&&m("for_you"),3==s&&m("categories"),setTimeout((function(){b.current.isScrolling=!1}),800)}}p.current=n}},children:[Object(d.jsxs)("div",{ref:o,children:[Object(d.jsx)(Qe,{content:s,windowInfo:t,scrollTo:m}),Object(d.jsx)("br",{})]}),Object(d.jsx)("div",{ref:u,children:Object(d.jsx)($e,{content:s,windowInfo:t,useRef:o})}),Object(d.jsx)("div",{ref:j,children:Object(d.jsx)(ot,{content:s,windowInfo:t,useRef:o})}),Object(d.jsx)("div",{ref:h,children:Object(d.jsx)(at,{content:s,windowInfo:t,useRef:o})})]})})};n(306);function ut(e){var t=e.modulesList,n=e.modulesInfo,i=e.windowInfo,s=Object(a.useState)(null),r=Object(c.a)(s,2),o=r[0],l=r[1];return Object(d.jsx)(Re.a,{in:!0,children:t&&Object.keys(t).length?Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(Ie.a,{className:"mt-3",children:[Object(d.jsxs)(u.a,{md:"5",id:"right_bar",className:"order-md-2",children:[Object(d.jsxs)("div",{className:"program_info block",children:[Object(d.jsx)("h1",{children:"Informazioni sul percorso"}),Object(d.jsx)("p",{className:"description",children:n&&n})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"survey block",children:[Object(d.jsx)("h5",{children:"Quanto pensi che questo programma si addica alle tue necessit\xe0?"}),Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)("div",{className:"display_inline",children:[1,2,3,4,5].map((function(e){return Object(d.jsx)("div",{keys:e,className:"number centered bounce "+(o==e?"selected":""),onClick:function(){return l(o==e?null:e)},children:Object(d.jsx)("h5",{className:"m-0",children:e})})}))})})]}),Object(d.jsx)("br",{})]}),Object(d.jsxs)(u.a,{md:"7",className:"personal_courses order-md-1",children:[t&&Object.keys(t).map((function(e,n){return Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{xs:"2",className:"timeline",children:Object(d.jsx)("div",{className:"course_number",children:Object(d.jsx)("h5",{className:"m-0",children:n+1})})}),Object(d.jsxs)(u.a,{xs:"10",keys:e,children:[Object(d.jsx)(De,{windowInfo:i,content:t[e],layout:"default"}),Object(d.jsx)("br",{})]})]})})),Object(d.jsx)("br",{}),Object(d.jsx)("br",{})]})]})}):Object(d.jsxs)(Ie.a,{children:[Object(d.jsxs)(u.a,{md:"7",children:[Object(d.jsx)(Ue.a,{variant:"rectangular",height:"500px"}),Object(d.jsx)(Ue.a,{variant:"rectangular",height:"500px"})]}),Object(d.jsxs)(u.a,{md:"5",children:[Object(d.jsx)(Ue.a,{variant:"rectangular",height:"500px"}),Object(d.jsx)(Ue.a,{variant:"rectangular",height:"500px"})]})]})})}var dt=function(e){var t,n=e.user,i=n?n.modules:void 0,s=e.windowInfo,r="Panoramica",o="Scelti per Te",l=Object(a.useState)(!0),u=Object(c.a)(l,2),h=u[0],b=u[1],m=Object(a.useState)(r),f=Object(c.a)(m,2),g=f[0],v=f[1],O=Object(a.useState)(void 0),x=Object(c.a)(O,2),y=x[0],w=x[1],k=Object(a.useState)({}),N=Object(c.a)(k,2),I=(N[0],N[1],Object(a.useState)(!0)),C=Object(c.a)(I,2),_=C[0],S=C[1];return Object(a.useEffect)(Object(j.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h||void 0==i){e.next=5;break}return e.next=3,i.loadCategories();case 3:e.sent?console.warn("ERRORE"):(t=Object.keys(i.getCategories())[0],w(t),i.loadModulesPerCategory(t),b(!1));case 5:case"end":return e.stop()}}),e)}))),[i]),Object(a.useEffect)(Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return setTimeout((function(){return S(!0)}),300),e.next=3,i.loadModulesPerCategory(y);case 3:e.sent;case 5:case"end":return e.stop()}}),e)}))),[y]),Object(d.jsxs)("div",{id:"accademy_page",children:[Object(d.jsx)("div",{id:"categories",children:h?Object(d.jsxs)(We,{isMobile:s.mobileMode,direction:"horizontal",margin:0,children:[Object(d.jsx)(Ue.a,{height:"170px",width:"200px",className:"m-2"}),Object(d.jsx)(Ue.a,{height:"170px",width:"200px",className:"m-2"}),Object(d.jsx)(Ue.a,{height:"170px",width:"200px",className:"m-2"}),Object(d.jsx)(Ue.a,{height:"170px",width:"200px",className:"m-2"})]}):Object(d.jsx)(We,{isMobile:s.mobileMode,direction:"horizontal",margin:0,children:i&&Object.keys(i.getCategories()).map((function(e){return"general"==e?Object(d.jsx)("div",{className:g==r?"category_item bounce selected":"category_item bounce",onClick:function(){return v(r)},children:Object(d.jsx)("h5",{children:"Panoramica"})}):"personal"==e?Object(d.jsx)("div",{className:g==o?"category_item bounce selected":"category_item bounce",onClick:function(){return v(o)},children:Object(d.jsx)("h5",{children:"Scelti per Te"})}):Object(d.jsx)(Re.a,{in:!0,style:{transitionDuration:"800ms"},children:Object(d.jsx)("div",{className:y==e?"category_item bounce selected":"category_item bounce",onClick:function(){v("Categorie"),w(e)},children:Object(d.jsx)("h5",{children:i.getCategories()[e].title})})})}))})}),Object(d.jsx)("div",{className:"content_container",children:Object(d.jsx)(Re.a,{in:_,timeout:300,children:Object(d.jsx)("div",{children:Object(d.jsx)(ut,{modulesList:i&&i.getModulesPerCategory()[y],modulesInfo:i&&(null===(t=i.getCategories()[y])||void 0===t?void 0:t.description)})})})})]})};n(307);var ht=function(e){e.id;var t=e.content,n=e.windowInfo,a=e.title;return Object(d.jsxs)("div",{className:"courses_block",children:[Object(d.jsx)("h2",{className:"title",children:a}),Object(d.jsx)("div",{className:"content_list",children:Object(d.jsx)(We,{isMobile:n.mobileMode,direction:"horizontal",margin:20,children:t&&t.map((function(e){return Object(d.jsx)("div",{style:{width:n.mobileMode?300:350},children:Object(d.jsx)(Te,{windowInfo:n,content:e})})}))})})]})};n(308);var jt=function(e){var t=e.user&&e.user.courses,n=e.windowInfo,i=Object(a.useState)(!0),s=Object(c.a)(i,2),r=s[0],o=s[1],l=Object(a.useState)(""),u=Object(c.a)(l,2);return u[0],u[1],Object(a.useEffect)(Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||!t){e.next=6;break}return e.next=3,t.loadCategories();case 3:return e.next=5,t.loadAllCourses();case 5:o(!1);case 6:case"end":return e.stop()}}),e)}))),[t]),Object(d.jsx)(Re.a,{in:!0,children:Object(d.jsxs)("div",{id:"course_page",children:[Object(d.jsx)("div",{className:"display_inline"}),r?Object(d.jsxs)("div",{children:[Object(d.jsx)(Ue.a,{height:"200px",style:{marginBottom:"-50px"}}),Object(d.jsx)(Ue.a,{height:"200px",style:{marginBottom:"-50px"}}),Object(d.jsx)(Ue.a,{height:"200px",style:{marginBottom:"-50px"}}),Object(d.jsx)(Ue.a,{height:"200px",style:{marginBottom:"-50px"}})]}):t&&Object.keys(t.getCategories()).map((function(e){return Object(d.jsx)(ht,{id:e,content:t&&t.getCoursesPerCategory()[e],title:t.getCategories()[e],layout:"long_right",windowInfo:n})}))]})})},bt=(n(309),n(161)),pt=n.n(bt),mt=n(208),ft=n.n(mt),gt=(n(310),n(437));var vt=function(e){var t=e.date,n=e.setDate,i=["Lun","Mar","Mer","Gio","Ven","Sab","Dom"],s=Object(a.useState)(F()()),r=Object(c.a)(s,2),o=r[0],l=r[1];function u(e){var t=F()(e,"DD/MM/YYYY");l(t)}function h(e){e=F()(e,"DD/MM/YYYY").format("DD/MM/YYYY");var n=o.format("DD/MM/YYYY"),a="";return F()().format("DD/MM/YYYY")==e&&(a+="today"),n==e&&(a+=" selected"),void 0!=t&&t.includes(e)&&(a+=" events"),a}return Object(a.useEffect)((function(){void 0!=t&&t.sort((function(e,t){return F()(e).diff(F()(t,"DD/MM/YYYY"))}))}),[t]),Object(a.useEffect)((function(){n(o.format("DD/MM/YYYY"))}),[o]),Object(d.jsxs)("div",{className:"my_calendar",children:[Object(d.jsxs)("h6",{children:[Object(d.jsx)(gt.a,{onClick:function(){var e=F()(o.format()).add(-1,"month");l(e)},children:Object(d.jsx)(pt.a,{className:"white_icon"})}),o.format("MMMM YYYY"),Object(d.jsx)(gt.a,{onClick:function(){var e=F()(o.format()).add(1,"month");l(e)},children:Object(d.jsx)(ft.a,{className:"white_icon"})})]}),Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:i&&i.map((function(e){return Object(d.jsx)("th",{children:e},e)}))}),Object(d.jsx)("tbody",{children:function(){var e=[],t=o.daysInMonth(),n=F()(o.format("MM/YYYY"),"MM/YYYY"),a=parseInt(n.startOf("month").format("d"));a=0==a?7:a;for(var i=!0,s=o.format("MM/YYYY"),r=1-a;r<t;r+=7)if(i){var c=a-1>0?Object(U.a)(Array(a-1).keys()):[],l=7-a+1>0?Object(U.a)(Array(7-a+1).keys()):[],j=[].concat(Object(U.a)(c),Object(U.a)(l));e.push(Object(d.jsx)("tr",{children:j.map((function(e,t){return t+1<a?Object(d.jsx)("td",{className:"empty_cell"},t):Object(d.jsx)("td",{onClick:function(){return u(e+1+"/"+s)},className:h(e+1+"/"+s),children:e+1},t)}))})),i=!1}else{for(var b=[],p=r;p<Math.min(r+7,t);p++)b.push(p);e.push(Object(d.jsx)("tr",{children:b.map((function(e){return Object(d.jsx)("td",{onClick:function(){return u(e+1+"/"+s)},className:h(e+1+"/"+s),children:e+1},e)}))}))}return e}().map((function(e){return e}))})]})]})},Ot=n(463),xt=n(438),yt=n(61),wt=n.n(yt);n(311);var kt=function(e){var t=e.closeFunction,n=Object(o.f)();return Object(d.jsx)(Re.a,{in:!0,style:{transitionDuration:"1s"},children:Object(d.jsx)("div",{id:"premium_alert",className:"",children:Object(d.jsxs)("div",{className:"content centered",children:[Object(d.jsx)(wt.a,{className:"close_icon bounce",onClick:t}),Object(d.jsx)("h1",{className:"small_title",children:"Funzionalit\xe0 Premium!"}),Object(d.jsx)("p",{children:"Stai cercando di accedere a una funzionalit\xe0 Premium"}),Object(d.jsx)("p",{children:"Decine di corsi, webinar con personaggi esclusivi e programmi su misura per te!"}),Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)("button",{className:"button bounce",onClick:function(){t(),n("/dashboard/account/payments")},children:"Passa a Premium"})})]})})})};function Nt(e){var t=e.webinar,n=e.setDate,i=e.selectedWebinar,s=e.setSelectedWebinar,o=Object(a.useState)(!1),l=Object(c.a)(o,2),u=l[0],h=l[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{id:"mobile_mode",children:[Object(d.jsx)(vt,{date:t&&t.getDate(),setDate:n}),Object(d.jsx)("hr",{}),Object(d.jsx)("div",{className:"list_container",children:t&&t.getList().map((function(e){return Object(d.jsxs)("div",{onClick:function(){s(e),h(!0)},className:i===e?"webinar_item bounce selected":"webinar_item bounce",children:[Object(d.jsx)("h6",{className:"title",children:e.getTitle()}),Object(d.jsx)("p",{className:"date m-0",children:F()(e.getDate()).format("DD-MM-YYYY HH:mm")})]})}))})]}),Object(d.jsx)(Ot.a,{anchor:"bottom",open:u,onClose:function(){return h(!1)},style:{background:"transparent"},children:Object(d.jsxs)("div",{className:"sliding_panel",children:[Object(d.jsx)("div",{className:"swipable_area",children:Object(d.jsx)("div",{className:"swipe_icon"})}),Object(d.jsx)("div",{className:"wallpaper_container",children:Object(d.jsx)("img",{src:i&&i.getWallpaper(),className:"wallpaper"})}),Object(d.jsxs)("div",{className:"info_container",children:[Object(d.jsx)("h3",{children:i&&i.getTitle()}),Object(d.jsx)("h6",{children:i&&i.getDate()}),Object(d.jsx)("p",{className:"thin",children:i&&i.getDescription()})]}),Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)(r.b,{className:"text-center mx-auto",to:Li.single_webinar.path+(i&&i.getId()),children:Object(d.jsx)("button",{className:"button mx-auto",children:"Guarda"})})})]})})]})}var It=function(e){var t=e.windowInfo,n=e.user,i=n?n.webinar:void 0,s=Object(a.useRef)(),r=Object(a.useState)(t.dashboardContainerHeight),l=Object(c.a)(r,2),h=l[0],b=l[1],f=Object(a.useState)(!1),g=Object(c.a)(f,2),v=g[0],O=g[1],x=Object(a.useState)(void 0),y=Object(c.a)(x,2),w=y[0],k=y[1],N=Object(a.useState)(!0),I=Object(c.a)(N,2),C=I[0],_=I[1],S=Object(a.useState)(),T=Object(c.a)(S,2),z=T[0],A=T[1],P=Object(a.useState)(0),L=Object(c.a)(P,2),E=L[0],q=L[1],D=Object(a.useState)(!1),R=Object(c.a)(D,2),M=R[0],B=R[1],W=Object(o.f)();return Object(a.useEffect)((function(){void 0!=E&&void 0!=i&&v&&_(!1),setTimeout((function(){return k(i.getList()[E])}),250)}),[E]),Object(a.useEffect)((function(){var e=function(){if(void 0!=i){var e,t=Object(m.a)(i.getList());try{for(t.s();!(e=t.n()).done;){var n=e.value;if(F()(n.getDate()).format("DD/MM/YYYY")==z)return i.getList().indexOf(n)}}catch(a){t.e(a)}finally{t.f()}}}();void 0!=e&&q(e)}),[z]),Object(a.useEffect)(Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0==i||v){e.next=5;break}return e.next=3,i.loadWebinar();case 3:setTimeout((function(){return k(i.getList()[0])}),250),O(!0);case 5:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){_(!1),setTimeout((function(){return _(!0)}),400)}),[w]),Object(a.useEffect)((function(){t.mobileMode?b("auto"):b(t.dashboardContainerHeight+"px")}),[t.dashboardContainerHeight]),Object(d.jsxs)("div",{id:"webinar_page",children:[t.mobileMode?Object(d.jsx)(Nt,{webinar:i,setDate:A,setSelectedWebinar:k,selectedWebinar:w}):Object(d.jsx)("div",{className:"content_container",style:{height:h},children:Object(d.jsxs)(Ie.a,{className:"content",children:[Object(d.jsxs)(u.a,{md:"8",className:"wallpaper_container",children:[Object(d.jsx)(Re.a,{in:C,timeout:300,children:Object(d.jsx)("img",{src:w&&w.getWallpaper(),className:"wallpaper"})}),Object(d.jsx)("div",{className:"vertical_gradient_effect"}),Object(d.jsx)("div",{className:"horizontal_gradient_effect"}),Object(d.jsxs)("div",{className:"webinar_info",children:[Object(d.jsx)("h2",{className:"title",children:w&&w.getTitle()}),Object(d.jsx)("h6",{className:"date",children:w&&F()(w.getDate()).format("DD-MM-YYYY HH:mm")}),Object(d.jsx)("div",{className:"separator"}),Object(d.jsx)("p",{className:"description",children:w&&w.getDescription()}),Object(d.jsx)(xt.a,{className:"orange_icon bounce",onClick:function(){n.getIsPremium()?W(Li.single_webinar.path+(w&&w.getId())):B(!0)}}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{})]})]}),Object(d.jsx)(u.a,{md:"4",className:"side_bar",children:Object(d.jsxs)("div",{className:"list_container",children:[Object(d.jsx)("h5",{children:"Calendario"}),Object(d.jsx)("div",{className:"indented",children:Object(d.jsx)("div",{className:"calendar_container",children:Object(d.jsx)(vt,{ref:s,date:i&&i.getDate(),setDate:A})})}),Object(d.jsx)("hr",{}),Object(d.jsx)("h6",{children:"Webinar in programma"}),Object(d.jsx)("div",{style:{height:300},children:Object(d.jsx)(We,{mustVisible:E,direction:"vertical",margin:10,children:i&&i.getList().map((function(e){return Object(d.jsxs)("div",{onClick:function(){_(!1),setTimeout((function(){return k(e)}),250)},className:w===e?"webinar_item bounce selected":"webinar_item bounce",children:[Object(d.jsx)("h6",{className:"title",children:e.getTitle()}),Object(d.jsx)("p",{className:"date m-0",children:e.getDate()})]})}))})})]})})]})}),M?Object(d.jsx)(kt,{closeFunction:function(){return B(!1)}}):""]})};var Ct=n(37),_t=n.n(Ct),St=n(480),Tt=n(210),zt=n.n(Tt),At=n(209),Pt=n.n(At),Lt=(n(313),n(466));n(314);var Et=function(e){var t=e.action,n=t.confirm,a=t.refute,i=e.closeFunction;return a=void 0==a?i:a,Object(d.jsx)(Lt.a,{open:void 0!=n,onClose:i,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",className:"centered",children:Object(d.jsxs)("div",{className:"confirm_action block centered",children:[Object(d.jsx)("h1",{children:"Vuoi procedere?"}),Object(d.jsxs)("div",{className:"text-center",children:[Object(d.jsx)("button",{className:"button bounce",onClick:function(){n(),i()},children:"Si"}),Object(d.jsx)("button",{className:"button bounce",onClick:function(){return a()},children:"No"})]})]})})};var qt=function(e){var t=e.user,n=e.deletable,i=n?e.question.question:e.question,s=n?e.question:null,r=e.editAnswer,o=Object(a.useState)({isCorrect:!1,message:""}),l=Object(c.a)(o,2),u=l[0],h=l[1],b=Object(a.useState)(!1),m=Object(c.a)(b,2),f=m[0],g=m[1],v=Object(a.useState)({confirm:void 0,refute:void 0}),O=Object(c.a)(v,2),x=O[0],y=O[1];function w(){return(w=Object(j.a)(p.a.mark((function e(a){var s,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.isChoiceSelected(a)){e.next=4;break}i.removeSelectedChoice(a),e.next=13;break;case 4:if(i.addSelectedChoice(a),n){e.next=13;break}return e.next=8,i.sendUserAnswer(a);case 8:s=e.sent,r=void 0,c=void 0,void 0!=s&&(r=s.isCorrect,c=s.xp),void 0!=r&&(t.setXP(t.getXP()+c),h({isCorrect:r,message:i.getChoices()[a].description,xp:c}),g(!0),setTimeout((function(){return g(!1)}),3e3));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){g(!1)}),[i]),Object(d.jsxs)("div",{className:n?"multiple_choice":"multiple_choice centered",children:[n?"":Object(d.jsx)("p",{children:i&&i.getTitle()}),Object.keys(i.getChoices()).map((function(e){return Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:"choice mb-3 max_width",onClick:function(){return function(e){return w.apply(this,arguments)}(e)},children:n?Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"display_inline max_width",children:[Object(d.jsx)("div",{className:"tick "+(i.isChoiceSelected(e)?"selected":"")}),"string"==typeof i.getChoices()[e]?Object(d.jsx)("p",{className:"mb-0",children:i.getChoices()[e]}):Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{className:"mb-0",children:i.getChoices()[e].title}),Object(d.jsx)("p",{className:"mb-0 thin",children:i.getChoices()[e].description})]}),Object(d.jsx)(St.a,{className:"m-0 p-0",onClick:function(t){return function(e,t){e.stopPropagation(),y({confirm:function(){return s.deleteItem(t)},refute:void 0})}(t,e)},children:Object(d.jsx)(_t.a,{className:"orange_icon"})}),void 0!=r?Object(d.jsx)(St.a,{className:"m-0 p-0",onClick:function(t){t.stopPropagation(),r(i.getChoices()[e].title,i.getChoices()[e].description)},children:Object(d.jsx)(zt.a,{className:"orange_icon"})}):""]})}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"tick "+(i.isChoiceSelected(e)?"selected":"")}),"string"==typeof i.getChoices()[e]?Object(d.jsx)("p",{className:"mb-0",children:i.getChoices()[e]}):Object(d.jsx)("p",{className:"mb-0",children:i.getChoices()[e].title})]})})},e)})),!n&&f?Object(d.jsx)(Re.a,{in:!n&&f,style:{transitionDuration:"800ms"},children:Object(d.jsxs)("div",{className:"verify_answer",children:[Object(d.jsx)("h1",{children:u.isCorrect?"Corretto!":"Errato!"}),Object(d.jsx)("p",{children:u.message}),void 0!=u.xp&&0!=u.xp&&void 0!=t?Object(d.jsxs)("div",{className:"text-center",children:[Object(d.jsxs)("h5",{style:{color:"var(--details_color)"},children:[Object(d.jsx)(Pt.a,{duration:1,end:t.getXP(),children:"xp"}),"xp"]}),Object(d.jsxs)("p",{className:"text-center",style:{color:"var(--details_color)"},children:["+ ",u.xp,"xp"]})]}):""]})}):"",Object(d.jsx)(Et,{action:x,closeFunction:function(){return y({confirm:void 0,refute:void 0})}})]})},Dt=n.p+"static/media/image_picker.821cbe36.png",Rt=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new W,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Q,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;Object(f.a)(this,e),this.news=n,n.setOverrideState(function(){return t.updateInfo()}.bind(this)),this.categories=a,this.categories.setOverrideUpdateInfo(function(){return t.news.setCategory(t.categories.getSelectedChoices())}.bind(this)),this.state=i}return Object(g.a)(e,[{key:"setState",value:function(e){this.state=e}},{key:"updateInfo",value:function(){if(void 0!=this.state){for(var t=0,n=Object.values(this.news.getCategory());t<n.length;t++){var a=n[t].slug;this.categories.addSelectedChoice(a,!1)}this.state(new e(this.news,this.categories,this.state))}}},{key:"load",value:function(e){this.news.load(e)}},{key:"getNews",value:function(){return this.news}},{key:"getCategories",value:function(){return this.categories}},{key:"setCategories",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.categories=e,t&&this.updateInfo()}},{key:"loadCategories",value:function(){var e=this,t=window.localStorage.getItem("accessToken");k.a.ajax({type:"GET",url:sr+"news/categories",accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)},success:function(t){var n=new Q;n.setOverrideUpdateInfo(function(){return e.updateInfo()}.bind(e)),n.load({id:null,title:"",choices:{},acceptedChoices:null});var a,i=t.categories,s=Object(m.a)(i);try{for(s.s();!(a=s.n()).done;){var r=a.value,c=r.slug,o=r.title;n.addChoice({title:o,slug:c},c)}}catch(l){s.e(l)}finally{s.f()}e.setCategories(n)},error:function(e){return console.log(e)}})}},{key:"deleteCategory",value:function(e,t){var n=window.localStorage.getItem("accessToken");k.a.ajax({type:"DELETE",url:sr+"news/category/"+e,accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(e){t()},error:function(e){return console.log(e)}})}},{key:"createCategory",value:function(e){var t=this,n=window.localStorage.getItem("accessToken");k.a.ajax({type:"POST",url:sr+"news/categories",accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},data:JSON.stringify({title:e}),success:function(e){t.loadCategories()},error:function(e){return console.log(e)}})}},{key:"isContentValid",value:function(){return""==this.news.getWallpaper()?{error:!0,message:"Wallpaper non inserito"}:""==this.news.getTitle().replace(" ","")?{error:!0,message:"Titolo non inserito"}:""==this.news.getDescription().replace(" ","")?{error:!0,message:"Descrizione non inserita"}:"\n"==JSON.stringify(this.news.getContent().replace(" ","").toString())?{error:!0,message:"Contenuto non inserito"}:0==this.getCategories().getSelectedChoices().length?{error:!0,message:"Argomento non inserito"}:{error:!1,messaggio:"Tutto apposto"}}},{key:"publish",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n,a,i,s,r,c,o,l=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=window.localStorage.getItem("accessToken"),n=!1,""!=this.news.getId()&&(n=!0),a="",i="",n?(a="PUT",i="news/article/"+this.news.getId()):(a="POST",i="news/articles"),(s=new FormData).append("title",this.news.getTitle()),s.append("description",this.news.getDescription()),s.append("newsLocation","both"),r=Object(m.a)(this.getCategories().getSelectedChoices());try{for(r.s();!(c=r.n()).done;)o=c.value,s.append("categories",o)}catch(u){r.e(u)}finally{r.f()}return s.append("content",this.news.getContent()),"https"!=this.news.getWallpaper().slice(0,5)&&s.append("picture",J(this.news.getWallpaper())),e.next=16,k.a.ajax({type:a,url:sr+i,accepts:"application/json",contentType:!1,processData:!1,beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)},data:s,success:function(e){l.news.setId(e.slug),l.news.setWallpaper(e.coverImageLink),n&&k.a.ajax({type:"POST",url:sr+"news/article/"+l.news.getId()+"/categories",accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)},data:JSON.stringify({categories:l.getCategories().getSelectedChoices()})})},error:function(e){return console.log(e)}});case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Mt=Rt,Ft=n.p+"static/media/x.f6ba4e27.png",Bt=n(90),Wt=n.n(Bt);n(315);var Vt=function(e){var t=e.content,n=e.setContent,i=Object(a.useRef)(!0),s=Object(a.useState)(Wt.a.createEmptyValue()),r=Object(c.a)(s,2),o=r[0],l=r[1],u=Object(a.useRef)("");function h(e){for(var t=["*","_","~"],n=!0;n;){n=!1;var a,i=-1,s="",r=!1,c="",o=[],l=Object(m.a)(e);try{for(l.s();!(a=l.n()).done;){var u=a.value;if(i++,t.includes(u)){if(s==u||"_"==u)if(o.includes(u)){var d=o.indexOf(u);-1!=d&&o.splice(d,1),r&&(n=!0,e="_"==u?(e=e.replaceAt(i-1,"")).slice(0,i)+" "+e.slice(i):(e=e.replaceAt(i-2,"")).slice(0,i)+" "+e.slice(i),r=!1)}else o.push(u),c=u}else""!=c&&" "==u&&(n=!0,e="_"==c?(e=e.slice(0,i-1)+" "+e.slice(i-1)).replaceAt(i+1,""):(e=e.slice(0,i-2)+" "+e.slice(i-2)).replaceAt(i+1,"")),c="",r=!1," "==u&&(r=!0);s=u}}catch(h){l.e(h)}finally{l.f()}}return e}return Object(a.useEffect)((function(){i.current=!0,t!=u.current&&l(Wt.a.createValueFromString(t,"markdown"))}),[t]),Object(a.useEffect)((function(){void 0==n||i.current?i.current=!1:(u.current=h(""+o.toString("markdown")),n(h(""+o.toString("markdown"))))}),[o]),Object(a.useEffect)((function(){String.prototype.replaceAt=function(e,t){var n=Math.max(t.length,1);return this.substring(0,e)+t+this.substring(e+n)}}),[]),Object(d.jsx)(Wt.a,{className:"block no-border",editorClassName:"editor",toolbarClassName:"toolbar",toolbarConfig:{display:["INLINE_STYLE_BUTTONS","BLOCK_TYPE_BUTTONS","LINK_BUTTONS","BLOCK_TYPE_DROPDOWN","HISTORY_BUTTONS","IMAGE_BUTTON"],INLINE_STYLE_BUTTONS:[{label:"Bold",style:"BOLD",className:"custom-css-class"},{label:"Italic",style:"ITALIC"},{label:"Strikethrough",style:"STRIKETHROUGH"}],BLOCK_TYPE_DROPDOWN:[{label:"Normal",style:"unstyled"},{label:"Heading Large",style:"header-one"},{label:"Heading Medium",style:"header-two"},{label:"Heading Small",style:"header-three"}],BLOCK_TYPE_BUTTONS:[{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"}]},value:o,onChange:function(e){l(e)}})},Ht=n(88),Ut=n.n(Ht),Gt=n(455),Yt=n(481),Qt=n(443),Jt=n(483);var Kt=function(e){var t=e.isOpen,n=e.setIsOpen,i=e.content,s=e.onDelete,r=e.onCreation,o=e.onUpdate,l=e.showDescription,u=e.showImage,h=Object(a.useRef)(),j=Object(a.useState)(""),b=Object(c.a)(j,2),p=b[0],m=b[1],f=Object(a.useState)(""),g=Object(c.a)(f,2),v=g[0],O=g[1],x=Object(a.useState)(""),y=Object(c.a)(x,2),w=y[0],k=y[1],N=Object(a.useState)(""),I=Object(c.a)(N,2),C=I[0],_=I[1],S=Object(a.useState)(new Z),T=Object(c.a)(S,2),z=T[0],A=T[1],P=Object(a.useState)({confirm:void 0,refute:void 0}),L=Object(c.a)(P,2),E=L[0],q=L[1];function D(){""!=p?(""==C?r(p,v,w,(function(e){return z.addItem(e,e.slug)})):o(C.slug,p,v,w,(function(e){z.deleteItem(C.slug),z.addItem(e,e.slug)})),_(""),m(""),O(""),k(""),m(""),O(""),k("")):h.current.focus()}return Object(a.useEffect)((function(){z.setState(A)}),[]),Object(a.useEffect)((function(){z.load({question:i.exportQuestion()})}),[i]),Object(d.jsxs)("div",{children:[Object(d.jsxs)(Yt.a,{className:"edit_categories_dialog",open:t,onClose:function(){n(!1)},children:[Object(d.jsx)(Qt.a,{children:"Modifica le categorie"}),Object(d.jsxs)(Jt.a,{children:[Object.keys(z.question.getChoices()).map((function(e){var t;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{onClick:function(){var t;(t=z.question.getChoices()[e])!=C?(_(t),m(t.title),O(t.description),k(t.coverImageLink)):(_(""),m(""),O(""),k(""))},className:"display_inline space_between",children:[Object(d.jsx)("p",{className:"m-0",children:z.question.getChoices()[e].title}),Object(d.jsx)("p",{className:"m-0",children:null===(t=z.question.getChoices()[e])||void 0===t?void 0:t.description}),Object(d.jsx)(_t.a,{onClick:function(t){t.stopPropagation(),q({confirm:function(){return s(e,(function(){_(""),z.deleteItem(e)}))},refute:void 0})}})]}),Object(d.jsx)("hr",{})]})})),Object(d.jsx)(Gt.a,{ref:h,className:"my_input",margin:"normal",label:"Nuova voce",fullWidth:!0,variant:"outlined",value:p,onChange:function(e){return m(e.target.value)}}),l?Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",label:"Descrizione",fullWidth:!0,variant:"outlined",value:v,onChange:function(e){return O(e.target.value)},onKeyDown:function(e){return"Enter"==e.key?D():function(){}}}):"",u?Object(d.jsx)("div",{style:{height:"100px"},id:"category_image_container",children:""==w?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("label",{htmlFor:"category_image_input",className:"centered",children:Object(d.jsx)("img",{className:"mx-auto bounce",height:"100px",style:{width:"auto"},src:Dt,width:200})}),Object(d.jsx)("input",{id:"category_image_input",type:"file",accept:"image/*",style:{display:"none"},onChange:function(e){if(void 0!=e){var t=e.target;if(void 0!=(null===t||void 0===t?void 0:t.files[0])){var n=new FileReader;n.readAsDataURL(t.files[0]),n.onload=function(){var e=n.result;k(e)}}}}})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(wt.a,{className:"remove_image_icon bounce",onClick:function(){return k("")}}),Object(d.jsx)("img",{className:"category_image",src:w})]})}):"",Object(d.jsx)("div",{className:"text-center",children:Object(d.jsx)("button",{className:"button bounce",onClick:function(){return D()},children:"Invia"})})]})]}),Object(d.jsx)(Et,{action:E,closeFunction:function(){return q({confirm:void 0,refute:void 0})}})]})};n(317);var Zt=function(e){var t=e.isError,n=e.message,i=e.removeFunction;return Object(a.useEffect)((function(){setTimeout(i,4e3)}),[]),Object(d.jsx)("div",{id:"popup-container",children:Object(d.jsxs)("div",{id:"popup",className:"display_inline "+(t?"red":"green"),children:[Object(d.jsx)("p",{className:"message",children:n}),Object(d.jsx)("div",{className:"close",onClick:i,children:Object(d.jsx)("img",{src:Ft,className:"img-fluid"})})]})})},Xt=function(){function e(){Object(f.a)(this,e),this.list=[],this.state=void 0,this.overrideState=void 0}return Object(g.a)(e,[{key:"setState",value:function(e){this.state=e}},{key:"setOverrideState",value:function(e){this.overrideState=e}},{key:"updateInfo",value:function(){if(void 0!=this.state){var t=new e;Object.assign(t,this),this.state(t)}else void 0!=this.overrideState&&this.overrideState()}},{key:"getList",value:function(){return this.list}},{key:"setList",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.list=e,t&&this.updateInfo()}},{key:"loadTags",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.localStorage.getItem("accessToken"),0!=this.list.length){e.next=4;break}return e.next=4,k.a.ajax({type:"GET",url:sr+"tags",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)},success:function(e){var t,a=e.tags,i=Object(m.a)(a);try{for(i.s();!(t=i.n()).done;){var s=t.value,r=new I;r.setId(s.slug),r.setName(s.name),n.list.push(r)}}catch(c){i.e(c)}finally{i.f()}n.updateInfo(),console.log(n.getList())}});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),e.next=3,k.a.ajax({type:"POST",url:sr+"tags",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},data:JSON.stringify({name:t}),success:function(e){var t=new I;t.setId(e.slug),t.setName(e.name),a.list.push(t),a.updateInfo()}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),e.next=3,k.a.ajax({type:"DELETE",url:sr+"tag/"+t,accepts:"json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(e){var n=a.list.map((function(e){return e.getId()})).indexOf(t);console.log(n),n>=0&&(a.list.splice(n,1),a.updateInfo())}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTagPerArgument",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),a=[],e.next=4,k.a.ajax({type:"GET",url:sr+"/academy/argument/"+t+"/tags",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(e){a=e.tags.map((function(e){var t=new I;return t.setName(e.name),t.setId(e.slug),t}))}});case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTagPerNews",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),a=[],e.next=4,k.a.ajax({type:"GET",url:sr+"/news/"+t+"/tags",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(e){a=e.tags.map((function(e){var t=new I;return t.setName(e.name),t.setId(e.slug),t}))}});case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),$t=Xt,en=n(458),tn=n(486),nn=n(469),an=n(487),sn=(n(318),n(211)),rn=n.n(sn),cn=n(139),on=n.n(cn);var ln=function(){var e=Object(a.useState)(""),t=Object(c.a)(e,2),n=t[0],i=t[1];return Object(d.jsxs)("div",{className:"block",children:[Object(d.jsx)("h5",{className:"mt-2",children:"Crea link immagine"}),Object(d.jsx)("label",{className:"text-center",htmlFor:"general_image",children:Object(d.jsx)("h6",{className:"button",children:"Scegli immagine"})}),Object(d.jsx)("input",{style:{display:"none"},id:"general_image",accept:"image/*",type:"file",onClick:function(){return i("")},onChange:function(e){return function(e){if(void 0!=e){var t=e.target,n=(new FileReader,t.files[0]);new rn.a(n,{quality:.6,maxWidth:600,success:function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(e){i(t.result)}}})}}(e)}}),Object(d.jsxs)("div",{className:"display_inline",children:[Object(d.jsx)(Gt.a,{className:"my_input m-0",margin:"normal",fullWidth:!1,multiline:!1,label:"Link",variant:"outlined",value:n}),Object(d.jsx)("div",{className:"centered m-2",children:Object(d.jsx)(gt.a,{children:Object(d.jsx)(on.a,{className:"orange_icon",onClick:function(){return navigator.clipboard.writeText(n)}})})})]})]})};var un=function(e){var t=e.user,n=e.routes,i=Object(a.useState)(new Mt),s=Object(c.a)(i,2),r=s[0],l=s[1],h=Object(a.useState)(new $t),b=Object(c.a)(h,2),m=b[0],f=b[1],g=Object(a.useState)([]),v=Object(c.a)(g,2),O=v[0],x=v[1],y=Object(a.useState)(!1),w=Object(c.a)(y,2),k=w[0],N=w[1],I=Object(a.useState)(),C=Object(c.a)(I,2),_=C[0],S=C[1],T=Object(o.e)().state,z=Object(o.f)();return Object(a.useEffect)(Object(j.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.setState(l),m.setState(f),r.loadCategories(),m.loadTags(),null==T){e.next=13;break}return t=T.news,n=t.id,r.news.loadById(n),e.t0=x,e.next=11,m.getTagPerNews(n);case 11:e.t1=e.sent,(0,e.t0)(e.t1);case 13:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){t&&(t.canI("create_news")||z(n.home.path))}),[t]),Object(d.jsxs)("div",{className:"creation",id:"news_creation",children:[Object(d.jsx)("div",{className:"wallpaper_container block",children:r.news.getWallpaper()?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{id:"remove_wallpaper",className:"bounce",onClick:function(){return r.news.setWallpaper("")},children:Object(d.jsx)("img",{src:Ft,className:"img-fluid"})}),Object(d.jsx)("img",{id:"wallpaper_img",src:r.news.getWallpaper()})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("label",{className:"select_wallpaper",htmlFor:"wallpaper_input",children:Object(d.jsx)("img",{src:Dt,className:"img-fluid bounce"})}),Object(d.jsx)("input",{id:"wallpaper_input",accept:"image/*",type:"file",onChange:function(e){return function(e){if(void 0!=e){var t=e.target,n=new FileReader;n.onload=function(){var e=n.result;r.news.setWallpaper(e)},n.readAsDataURL(t.files[0])}}(e)}})]})}),Object(d.jsx)("br",{}),Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"9",children:Object(d.jsxs)("div",{className:"content_container",children:[Object(d.jsxs)("div",{className:"block",children:[Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",fullWidth:!0,multiline:!0,label:"Titolo",variant:"outlined",value:r.news.getTitle(),onChange:function(e){return r.news.setTitle(e.target.value)}}),Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",fullWidth:!0,multiline:!0,label:"Descrizione",variant:"outlined",value:r.news.getDescription(),onChange:function(e){return r.news.setDescription(e.target.value)}})]}),Object(d.jsx)("br",{}),Object(d.jsx)(Vt,{content:r.news.getContent(),setContent:function(e){return r.news.setContent(e)}}),Object(d.jsx)("br",{})]})}),Object(d.jsxs)(u.a,{md:"3",children:[Object(d.jsxs)("div",{className:"info_container block",children:[Object(d.jsx)("h5",{children:"Informazioni news"}),Object(d.jsx)("br",{}),Object(d.jsx)("h6",{children:"Tag"}),""==r.news.getId()?Object(d.jsx)("p",{className:"m-0",children:"Per collegare i tag devi prima pubblicare la news"}):Object(d.jsx)(en.a,{renderValue:function(e){return e.map((function(e){return e.getName()})).join(", ")},multiple:!0,value:O,variant:"standard",className:"input",label:"Tag",children:m.getList().map((function(e){return Object(d.jsxs)(tn.a,{onClick:function(){return function(e,t){if(t)x([].concat(Object(U.a)(O),[e])),e.linkTagToNews(r.news.getId());else{var n=O.map((function(e){return e.getId()})).indexOf(e.id);n>=0&&(O.splice(n,1),x(Object(U.a)(O))),e.unlinkTagToNews(r.news.getId())}}(e,!O.map((function(e){return e.getId()})).includes(e.getId()))},children:[Object(d.jsx)(nn.a,{className:"orange_icon",checked:O.map((function(e){return e.getId()})).includes(e.getId())}),Object(d.jsx)(an.a,{primary:e.getName()})]})}))}),Object(d.jsx)("br",{}),Object(d.jsx)("hr",{}),Object(d.jsxs)("div",{className:"space_between",children:[Object(d.jsx)("h6",{className:"mb-4",children:"Categoria"}),t&&Object.values(t.getRole()).map((function(e){return e.slug})).includes("super-admin")||t&&Object.values(t.getRole()).map((function(e){return e.slug})).includes("super-admin-news")?Object(d.jsx)(Ut.a,{className:"orange_icon",onClick:function(){return N(!0)}}):""]}),Object(d.jsx)(qt,{question:r.getCategories()}),t&&Object.values(t.getRole()).map((function(e){return e.slug})).includes("super-admin")||t&&Object.values(t.getRole()).map((function(e){return e.slug})).includes("super-admin-news")?Object(d.jsx)(Kt,{content:r.getCategories(),isOpen:k,onDelete:r.deleteCategory,onCreation:function(e){return r.createCategory(e)},onUpdate:function(e,t){return r.createCategory(t)},setIsOpen:N,showDescription:!1}):"",Object(d.jsx)("hr",{}),Object(d.jsx)("button",{className:"button",onClick:function(){var e=r.isContentValid();e.error?void 0!=_?(S(),setTimeout((function(){return S(e)}),100)):S(e):(S({error:!1,message:"Pubblicazione in corso..."}),r.publish().then((function(){return S({error:!1,message:"Pubblicazione completata"})})).catch((function(){return S({error:!0,message:"Errore"})})))},children:"Pubblica"})]}),Object(d.jsx)("br",{}),Object(d.jsx)(ln,{})]})]}),null!=_?Object(d.jsx)(Zt,{isError:_.error,message:_.message,removeFunction:function(){S()}}):""]})},dn=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new $,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Q,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;Object(f.a)(this,e),this.course=n,n.quiz_type=void 0,this.course.setOverrideState(function(){return t.updateInfo()}.bind(this)),this.args=i,this.args.setOverrideUpdateInfo(function(){return t.updateInfo()}.bind(this)),this.presentationVideo=s,this.state=a}return Object(g.a)(e,[{key:"setState",value:function(e){this.state=e}},{key:"updateInfo",value:function(){if(void 0!=this.state){if(0==this.getArgs().getSelectedChoices().length){if(""!=this.course.getArgument()){var t,n=void 0==this.course.getArgument().id?this.course.getArgument():this.course.getArgument().id;null===(t=this.getArgs())||void 0===t||t.addSelectedChoice(n,!1)}}else{var a=this.getArgs().getSelectedChoices()[0];this.course.setArgument(a,!1)}this.state(new e(this.course,this.state,this.args,this.presentationVideo))}}},{key:"load",value:function(e){var t=e.course,n=e.args;e.presentationVideo;console.log(t),this.course.load(Object(l.a)({},t)),this.setArgs(n),this.updateInfo()}},{key:"loadArgs",value:function(){var e=this,t=window.localStorage.getItem("accessToken");k.a.ajax({type:"GET",url:sr+"course/arguments",accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)},success:function(t){var n=new Q;n.setOverrideUpdateInfo(function(){return e.updateInfo()}.bind(e)),n.load({id:null,title:"",choices:{},acceptedChoices:1});var a,i=t.arguments,s=Object(m.a)(i);try{for(s.s();!(a=s.n()).done;){var r=a.value,c=r.slug,o=r.title,l=r.description;console.log(t),n.addChoice({title:o,slug:c,description:l},c)}}catch(u){s.e(u)}finally{s.f()}e.setArgs(n)},error:function(e){return console.log(e)}})}},{key:"postArgument",value:function(e,t,n){var a=window.localStorage.getItem("accessToken");k.a.ajax({type:"POST",url:sr+"course/arguments",accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+a)},data:JSON.stringify({title:e,description:t}),success:function(e){n(e)},error:function(e){return console.log(e)}})}},{key:"updateArgument",value:function(e,t,n,a){var i=window.localStorage.getItem("accessToken");k.a.ajax({type:"PUT",url:sr+"course/argument/"+e,accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+i)},data:JSON.stringify({title:t,description:n}),success:function(e){a(e)},error:function(e){return console.log(e)}})}},{key:"deleteArgument",value:function(e,t){var n=window.localStorage.getItem("accessToken");k.a.ajax({type:"DELETE",url:sr+"course/argument/"+e,accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(e){t()},error:function(e){return console.log(e)}})}},{key:"addAuthor",value:function(e){""!=e&&(this.course.getOfferedBy().push(e),this.updateInfo())}},{key:"deleteAuthor",value:function(e){var t=this.course.getOfferedBy().indexOf(e);this.course.getOfferedBy().splice(t,1),this.updateInfo()}},{key:"postCourse",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a,i,s,r,c=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),a=void 0,i="",s="",console.log(t),t?(i="PUT",s="course/"+this.course.getId()):(i="POST",s="courses"),(r=new FormData).append("argument_slug",this.getArgs().getSelectedChoices()[0]),r.append("title",this.course.getTitle()),r.append("description",this.course.getDescription()),r.append("trailerVideoIframe",this.course.getPresentationVideo()),r.append("trailerVideoId",this.course.getPresentationVideoId()),r.append("priority",this.course.getPriority()),"https"!=this.course.getWallpaper().slice(0,5)?r.append("picture",J(this.course.getWallpaper())):r.append("picture",this.course.getWallpaper()),e.next=16,k.a.ajax({type:i,url:sr+s,accepts:"application/json",contentType:!1,processData:!1,beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},data:r,success:function(e){a=e.slug,c.course.setId(a),c.course.setWallpaper(e.coverImageLink)},error:function(e){return console.log(e)}});case 16:return e.abrupt("return",a);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"postChapter",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n,a,i,s){var r,c,o,l,u=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=window.localStorage.getItem("accessToken"),c=void 0,o="",l="",s&&"_"!=n[0]?(o="PUT",l="course/chapter/"+n):(o="POST",l="course/"+t+"/chapters"),e.next=7,k.a.ajax({type:o,url:sr+l,accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+r)},data:JSON.stringify({title:a,chapterOrder:i}),success:function(e){c=e.slug,u.course.getChapter(n).id=c,u.course.getContent()[c]=u.course.getChapter(n),c!=n&&delete u.course.getContent()[n],console.log(u.course.getContent())},error:function(e){return console.log(e)}});case 7:return e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,i,s){return e.apply(this,arguments)}}()},{key:"postLesson",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n,a,i,s,r,c,o,l,u,d){var h,j,b,f,g,v,O,x=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=window.localStorage.getItem("accessToken"),j=void 0,b="",f="",d&&"_"!=n[0]?(b="PUT",f="course/lesson/"+n):(b="POST",f="course/chapter/"+t+"/lessons"),e.next=7,k.a.ajax({type:b,url:sr+f,accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+h)},data:JSON.stringify({title:a,description:i,text:s,videoIframe:r,videoId:c,lessonOrder:o,isFree:l}),success:function(e){j=e.slug,x.course.getLessonsByChapter(t)[n].id=j,x.course.getLessonsByChapter(t)[j]=x.course.getLessonsByChapter(t)[n],j!=n&&delete x.course.getLessonsByChapter(t)[n],n=j},error:function(e){return console.log(e)}});case 7:g=Object(m.a)(u),e.prev=8,g.s();case 10:if((v=g.n()).done){e.next=19;break}return O=v.value,e.next=14,this.linkQuizToLesson(n,O);case 14:if(!e.sent){e.next=17;break}throw Error("Errore nella pubblicazione del quiz");case 17:e.next=10;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(8),g.e(e.t0);case 24:return e.prev=24,g.f(),e.finish(24);case 27:return e.abrupt("return",j);case 28:case"end":return e.stop()}}),e,this,[[8,21,24,27]])})));return function(t,n,a,i,s,r,c,o,l,u,d){return e.apply(this,arguments)}}()},{key:"courseExist",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,n=window.localStorage.getItem("accessToken"),""==this.course.getId()){e.next=5;break}return e.next=5,k.a.ajax({type:"GET",url:sr+"course/"+this.course.getId(),accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(){return t=!0},error:function(){return t=!1}});case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteChapter",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),a=!1,e.next=4,k.a.ajax({type:"DELETE",url:sr+"course/chapter/"+t,accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(){return a=!1},error:function(){return a=!0}});case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteLesson",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),a=!1,e.next=4,k.a.ajax({type:"DELETE",url:sr+"course/lesson/"+t,accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(){return a=!1},error:function(){return a=!0}});case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkQuizToLesson",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n){var a,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.localStorage.getItem("accessToken"),i=!1,e.next=4,k.a.ajax({type:"POST",url:sr+"course/lesson/"+t+"/quiz/"+n,accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+a)},success:function(){return i=!1},error:function(){return i=!0}});case 4:return e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkCourseToAuthor",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n){var a,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.localStorage.getItem("accessToken"),i=!1,e.next=4,k.a.ajax({type:"POST",url:sr+"course/"+t+"/author/"+n,accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+a)},success:function(){return i=!1},error:function(){return i=!0}});case 4:return e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteCourseAuthor",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n){var a,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.localStorage.getItem("accessToken"),i=!1,console.log(n),e.next=5,k.a.ajax({type:"DELETE",url:sr+"course/"+t+"/author/"+n,accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+a)},success:function(){return i=!1},error:function(){return i=!0}});case 5:return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"publish",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n,a,i,s,r,c,o,l,u,d,h,j,b,f,g,v,O,x,y,w,N,I,C,_,S,T,z,A,P,L,E,q,D,R,M,F,B,W,V,H,U,G,Y,Q,J,K,Z,X,$,ee,te,ne,ae,ie,se,re,ce=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ce.length>0&&void 0!==ce[0]?ce[0]:function(){},n=window.localStorage.getItem("accessToken"),e.next=4,this.courseExist();case 4:return a=e.sent,t({error:!1,message:"Pubblicazione corso"}),e.next=8,this.postCourse(a);case 8:if(void 0!=(i=e.sent)){e.next=11;break}throw Error();case 11:t({error:!1,message:"Collego autori al corso"}),s=Object(m.a)(this.course.getOfferedBy()),e.prev=13,s.s();case 15:if((r=s.n()).done){e.next=25;break}return c=r.value,t({error:!1,message:"Collego "+c}),e.next=20,this.linkCourseToAuthor(i,c);case 20:if(!e.sent){e.next=23;break}throw Error("Errore nel collegamento dell'autore");case 23:e.next=15;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(13),s.e(e.t0);case 30:return e.prev=30,s.f(),e.finish(30);case 33:return t({error:!1,message:"Elimino i vecchi autori"}),e.next=36,this.course.getGeneralInfo(i);case 36:o=e.sent.course.authors,l=Object(m.a)(o),e.prev=38,l.s();case 40:if((u=l.n()).done){e.next=51;break}if(d=u.value,this.course.getOfferedBy().includes(d)){e.next=49;break}return t({error:!1,message:"Elimino "+d}),e.next=46,this.deleteCourseAuthor(i,d);case 46:if(!e.sent){e.next=49;break}throw Error("Nome utente non esistente("+d+")");case 49:e.next=40;break;case 51:e.next=56;break;case 53:e.prev=53,e.t1=e.catch(38),l.e(e.t1);case 56:return e.prev=56,l.f(),e.finish(56);case 59:if(t({error:!1,message:"Elimino i vecchi capitoli e lezioni"}),!a){e.next=152;break}return h=Object.keys(this.course.getContent()),e.next=64,this.course.getGeneralInfo(i);case 64:j=e.sent,b=j.chapters,f=Object(m.a)(b),e.prev=67,f.s();case 69:if((g=f.n()).done){e.next=144;break}if(v=g.value,O=v.slug,h.includes(O)){e.next=82;break}return t({error:!1,message:"Elimino "+O}),e.next=76,this.deleteChapter(O);case 76:if(!e.sent){e.next=79;break}throw Error("Errore nell'eliminazione di una capitlo - "+v.title);case 79:delete this.course.getContent()[O],e.next=142;break;case 82:x=this.course.getLessonsByChapter(O),y=v.lessons,w=y.map((function(e){return e.slug})),N=Object(m.a)(w),e.prev=86,N.s();case 88:if((I=N.n()).done){e.next=134;break}if(C=I.value,Object.keys(x).includes(C)){e.next=100;break}return t({error:!1,message:"Elimino "+C}),e.next=94,this.deleteLesson(C);case 94:if(!e.sent){e.next=97;break}throw Error("Errore nell'eliminazione di una lezione - "+v.lessons[C].title);case 97:delete this.course.getLessonsByChapter(O)[C],e.next=132;break;case 100:return e.next=102,this.course.getLessonFromServer(C);case 102:if(void 0!=(_=e.sent)){e.next=105;break}return e.abrupt("continue",132);case 105:_=_.quiz,S=_.map((function(e){return e.slug})),T=Object.values(this.course.getLessonQuiz(O,C)).map((function(e){return e.question.getId()})),t({error:!1,message:"Elimino quiz"}),z=Object(m.a)(S),e.prev=110,z.s();case 112:if((A=z.n()).done){e.next=124;break}if(P=A.value,T.includes(P)){e.next=122;break}return t({error:!1,message:"Elimino quiz + "+P}),L=!1,e.next=119,k.a.ajax({type:"DELETE",url:sr+"/course/lesson/"+C+"/quiz/"+P,accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},error:function(){return L=!0}});case 119:if(!L){e.next=121;break}throw Error("Errore nell'eliminazione di un quiz");case 121:delete this.course.getLesson(O,C).quiz[P];case 122:e.next=112;break;case 124:e.next=129;break;case 126:e.prev=126,e.t2=e.catch(110),z.e(e.t2);case 129:return e.prev=129,z.f(),e.finish(129);case 132:e.next=88;break;case 134:e.next=139;break;case 136:e.prev=136,e.t3=e.catch(86),N.e(e.t3);case 139:return e.prev=139,N.f(),e.finish(139);case 142:e.next=69;break;case 144:e.next=149;break;case 146:e.prev=146,e.t4=e.catch(67),f.e(e.t4);case 149:return e.prev=149,f.f(),e.finish(149);case 152:E=this.course.getContent(),q=0,D=Object.keys(E);case 154:if(!(q<D.length)){e.next=201;break}return M=D[q],F=this.course.getChapterTitle(M),B=null===(R=this.course.getChapter(M))||void 0===R?void 0:R.position,e.next=160,this.postChapter(i,M,F,B,a);case 160:if(void 0!=(W=e.sent)){e.next=163;break}throw Error();case 163:V=this.course.getLessonsByChapter(W),H=0,U=Object.keys(V);case 165:if(!(H<U.length)){e.next=198;break}G=U[H],Y=this.course.getLessonQuiz(W,G),Q=[],J=0,K=Object.values(Y);case 170:if(!(J<K.length)){e.next=182;break}return Z=K[J],!1,""!=Z.question.getId()&&!0,e.next=176,Z.publish("course");case 176:X=e.sent,t({error:!1,message:"Carico quiz - "+X}),Q.push(X);case 179:J++,e.next=170;break;case 182:return $=this.course.getLessonTitle(W,G),ee=this.course.getLessonDescription(W,G),te=this.course.getLessonText(W,G),ne=this.course.getLessonVideo(W,G),ae=this.course.getLessonVideoId(W,G),ie=this.course.getLessonPosition(W,G),se=this.course.getLesson(W,G).isFree,e.next=191,this.postLesson(W,G,$,ee,te,ne,ae,ie,se,Q,a);case 191:if(re=e.sent,t({error:!1,message:"Carico lezione - "+re}),void 0!=re){e.next=195;break}throw Error();case 195:H++,e.next=165;break;case 198:q++,e.next=154;break;case 201:case"end":return e.stop()}}),e,this,[[13,27,30,33],[38,53,56,59],[67,146,149,152],[86,136,139,142],[110,126,129,132]])})));return function(){return e.apply(this,arguments)}}()},{key:"setArgs",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.args=e,t&&this.updateInfo()}},{key:"getArgs",value:function(){return this.args}},{key:"setPresentationVideo",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.presentationVideo=e,t&&this.updateInfo()}},{key:"getPresentationVideo",value:function(){return this.presentationVideo}},{key:"changeChapterOrder",value:function(e,t){var n=this.course.getContent(),a=n[e];if(a.position+t>0&&a.position+t<=Object.values(n).length){for(var i=0,s=Object.values(n);i<s.length;i++){var r=s[i];r.position==a.position+t&&r&&(r.position-=t)}a.position+=t}this.course.setContent(n)}},{key:"changeLessonOrder",value:function(e,t,n){if(!isNaN(t)&&!isNaN(n)){var a=Object.values(this.course.getLessonsByChapter(e)).sort((function(e,t){return e.position>t.position?1:-1})),i=a.splice(t-1,1),s=Object(c.a)(i,1)[0];void 0!=s&&a.splice(n-1,0,s),a.forEach((function(e,t){return e.position=t+1})),this.updateInfo()}}},{key:"checkContentValidity",value:function(){if(""==this.course.getWallpaper())return{error:!0,message:"Wallpaper non inserito"};if(""==this.course.getTitle().replaceAll(" ",""))return{error:!0,message:"Titolo non inserito"};if(""==this.course.getDescription().replaceAll(" ",""))return{error:!0,message:"Descrizione non inserita"};if(""==this.course.getPresentationVideo())return{error:!0,message:"Video di presentazione non inserito"};if(""==this.course.getPresentationVideoId())return{error:!0,message:"Id del video di presentazione non inserito"};if(0==this.getArgs().getSelectedChoices().length)return{error:!0,message:"Argomento non inserito"};for(var e=0,t=Object.keys(this.course.getContent());e<t.length;e++){var n=t[e];if(""==this.course.getChapterTitle(n).replaceAll(" ",""))return{error:!0,message:"Titolo di un capitolo non inserito"};for(var a=0,i=Object.keys(this.course.getLessonsByChapter(n));a<i.length;a++){var s=i[a];if(""==this.course.getLessonTitle(n,s).replaceAll(" ",""))return{error:!0,message:"Titolo di una lezione non inserito"};if(""==this.course.getLessonDescription(n,s).replaceAll(" ",""))return{error:!0,message:"Descrizione di una lezione non inserita"};if(""==this.course.getLessonVideo(n,s))return{error:!0,message:"Video di una lezione non inserito"};if(""==this.course.getLessonVideoId(n,s))return{error:!0,message:"Id video di una lezione non inserito"};for(var r=0,c=Object.values(this.course.getLessonQuiz(n,s));r<c.length;r++){if(""==c[r].question.getTitle().replaceAll(" ",""))return{error:!0,message:"Alcuni quiz non hanno titolo"}}}}return{error:!1,message:"Tutto apposto"}}}]),e}(),hn=dn;n(319);var jn=function(e){var t=e.question,n=Object(a.useState)(""),i=Object(c.a)(n,2),s=i[0],r=i[1],o=Object(a.useState)(""),l=Object(c.a)(o,2),u=l[0],h=l[1];function j(e){"Enter"==e.key&&""!=s&&(t.question.addChoice({title:s,description:u}),r(""),h(""))}return Object(d.jsxs)("div",{className:"question_creator",children:[Object(d.jsx)("p",{children:"Immagine quiz(opzionale)"}),Object(d.jsx)("div",{className:"block image_container text-center",children:t.question.getImage()?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"remove_wallpaper bounce",onClick:function(){return t.question.setImage("")},children:Object(d.jsx)(wt.a,{})}),Object(d.jsx)("img",{className:"image",src:t.question.getImage()})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("label",{className:"select_image mx-auto",htmlFor:"select_image_input",children:Object(d.jsx)("img",{src:Dt,className:"img-fluid bounce",style:{width:"100px"}})}),Object(d.jsx)("input",{id:"select_image_input",accept:"image/*",type:"file",onChange:function(e){return function(e){if(void 0!=e){var n=e.target,a=new FileReader;a.readAsDataURL(n.files[0]),a.onload=function(){var e=a.result;t.question.setImage(e)}}}(e)}})]})}),Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",label:"Domanda",fullWidth:!0,variant:"outlined",value:t.question.getTitle(),onChange:function(e){return t.question.setTitle(e.target.value)}}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(qt,{question:t,deletable:!0,editAnswer:function(e,t){r(e),h(t)}}),Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",label:"Nuova Risposta",fullWidth:!0,variant:"outlined",value:s,onChange:function(e){return r(e.target.value)},onKeyDown:function(e){return j(e)}}),Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",label:"Descrizione",fullWidth:!0,variant:"outlined",value:u,onChange:function(e){return h(e.target.value)},onKeyDown:function(e){return j(e)}})]})},bn=n.p+"static/media/video_camera.a13f9f5f.png",pn=(n.p,n(488)),mn=n(474),fn=n(490),gn=n(491),vn=n(461),On=n(212),xn=n.n(On),yn=n(50),wn=n.n(yn),kn=(n(320),n(464)),Nn=n(166),In=n.n(Nn),Cn=n(167),_n=n.n(Cn),Sn=n(76);function Tn(e){var t=e.id,n=e.content,i=e.selectedChapter,s=e.setSelectedChapter,r=e.windowInfo,o=e.confirmInfo,u=o.confirmInfo,h=o.setConfirmInfo,j=Object(a.useState)(void 0),b=Object(c.a)(j,2),p=b[0],m=b[1];function f(e,a){e.stopPropagation(),n.changeChapterOrder(t,a)}return Object(d.jsx)(d.Fragment,{children:i!=t?Object(d.jsx)(pn.a,{className:"mini_block bounce",onClick:function(){return s(t)},children:Object(d.jsxs)(Pe.a,{children:[Object(d.jsx)("h6",{className:"m-0",children:n.course.getChapterTitle(t)}),Object(d.jsxs)("div",{className:"centered",children:[Object(d.jsxs)(St.a,{className:"orange_icon mb-0",type:"submit","aria-label":"search",children:[Object(d.jsx)(_t.a,{onClick:function(e){e.stopPropagation(),h({confirm:function(){return function(e,t){e.stopPropagation(),n.course.removeChapter(t)}(e,t)},refute:void 0})}}),Object(d.jsx)(Ut.a,{})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)(In.a,{onClick:function(e){return f(e,-1)},className:"orange_icon"}),Object(d.jsx)(_n.a,{onClick:function(e){return f(e,1)},className:"orange_icon"})]})]})]})}):Object(d.jsxs)("div",{className:"chapter_layout",children:[Object(d.jsxs)("div",{className:"chapter_header",children:[Object(d.jsx)(xn.a,{className:"orange_icon",onClick:function(){return s(void 0)}}),Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",label:"Titolo",fullWidth:!0,variant:"outlined",value:n.course.getChapterTitle(t),onChange:function(e){return n.course.setChapterTitle(t,e.target.value)}})]}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"lessons_container",children:Object(d.jsx)(Sn.a,{onDragEnd:function(e){var a,i,s=null===(a=e.source)||void 0===a?void 0:a.index,r=null===(i=e.destination)||void 0===i?void 0:i.index;void 0!=s&&void 0!=r&&n.changeLessonOrder(t,s,r)},children:Object(d.jsx)(Sn.c,{droppableId:"lessons_container",children:function(e){return Object(d.jsxs)("div",Object(l.a)(Object(l.a)({},e.droppableProps),{},{ref:e.innerRef,children:[Object.values(n.course.getLessonsByChapter(t)).sort((function(e,t){return e.position>t.position?1:-1})).map((function(e){return Object(d.jsx)(Sn.b,{draggableId:e.id,index:Number(n.course.getLessonPosition(t,e.id)),children:function(a){return Object(d.jsx)("div",Object(l.a)(Object(l.a)(Object(l.a)({},a.draggableProps),a.dragHandleProps),{},{ref:a.innerRef,children:Object(d.jsx)(zn,{lessonId:e.id,chapterId:t,content:n,selectedLesson:p,setSelectedLesson:m,windowInfo:r,confirmInfo:{confirmInfo:u,setConfirmInfo:h}},e.id)}))}},e.id)})),e.placeholder]}))}})})}),Object(d.jsx)("br",{}),Object(d.jsx)(pn.a,{className:"mini_block",onClick:function(){return n.course.addLesson(t)},children:Object(d.jsx)("h5",{className:"m-0",children:"Aggiungi lezione"})}),Object(d.jsx)("br",{})]})})}function zn(e){var t=e.content,n=e.lessonId,i=e.chapterId,s=e.windowInfo,r=e.confirmInfo,o=r.confirmInfo,l=r.setConfirmInfo,u=Object(a.useState)(!1),h=Object(c.a)(u,2),j=h[0],b=h[1],p=Object(a.useState)(!1),m=Object(c.a)(p,2),f=(m[0],m[1]),g=Object(a.useState)(!1),v=Object(c.a)(g,2),O=v[0],x=v[1];return Object(d.jsx)(d.Fragment,{children:s.mobileMode?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"space_between lesson_mobile_layout max_width",onClick:function(){return x(!0)},children:Object(d.jsxs)("div",{className:"display_inline space_between max_width",children:[Object(d.jsx)("h5",{className:"m-0",children:t.course.getLessonTitle(i,n)}),Object(d.jsx)(_t.a,{className:"orange_icon",onClick:function(e){e.stopPropagation(),l({confirm:function(){return t.course.removeLesson(i,n)},refute:void 0})}})]})}),Object(d.jsx)(kn.a,{id:"course_creation",anchor:"bottom",open:O,onClose:function(){return x(!1)},onOpen:function(){return x(!0)},children:Object(d.jsxs)("div",{id:"course_lesson_layout",children:[Object(d.jsx)("h5",{children:"Contenuto"}),Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",label:"Titolo",fullWidth:!0,variant:"outlined",value:t.course.getLessonTitle(i,n),onChange:function(e){return t.course.setLessonTitle(i,n,e.target.value)}}),Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",label:"Descrizione",fullWidth:!0,variant:"outlined",value:t.course.getLessonDescription(i,n),onChange:function(e){return t.course.setLessonDescription(i,n,e.target.value)}}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"wallpaper_container block",children:""==t.course.getLessonVideo(i,n)?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("label",{className:"load_video centered",htmlFor:"lesson_video",children:[Object(d.jsx)("img",{src:bn,width:100,className:"img-fluid mx-auto bounce"}),Object(d.jsx)("h6",{children:"Video della lezione"})]}),Object(d.jsx)("input",{id:"lesson_video",accept:"video/*",type:"file",style:{display:"none"},onChange:function(e){return function(e,n,a){var i=URL.createObjectURL(e.target.files[0]);t.course.setLessonVideo(n,a,i)}(e,i,n)}})]}):Object(d.jsx)("video",{className:"video",controls:!0,children:Object(d.jsx)("source",{src:t.course.getLessonVideo(i,n)})})}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"block",children:[Object(d.jsx)("h5",{children:"Contenuto lezione"}),Object(d.jsx)(Vt,{content:t.course.getLessonText(i,n),setContent:function(e){return t.course.setLessonContent(i,n,e)},block:!1})]}),Object(d.jsx)("br",{}),Object(d.jsx)(An,{confirmInfo:{confirmInfo:o,setConfirmInfo:l},deleteQuiz:function(){return f(!1)},content:t,chapterId:i,lessonId:n}),"Gratis",Object(d.jsx)(vn.a,{})]})})]}):Object(d.jsxs)(mn.a,{expanded:j,className:"accordion block",children:[Object(d.jsx)(fn.a,{expandIcon:Object(d.jsx)(wn.a,{className:"orange_icon"}),onClick:function(){return b(!j)},children:Object(d.jsx)("div",{className:"space_between max_width",children:Object(d.jsxs)("div",{className:"display_inline space_between max_width",children:[Object(d.jsx)("h5",{className:"m-0",children:t.course.getLessonTitle(i,n)}),Object(d.jsx)(_t.a,{className:"orange_icon",onClick:function(e){e.stopPropagation(),l({confirm:function(){return t.course.removeLesson(i,n)},refute:void 0})}})]})})}),Object(d.jsxs)(gn.a,{children:[Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",label:"Titolo",fullWidth:!0,variant:"outlined",value:t.course.getLessonTitle(i,n),onChange:function(e){return t.course.setLessonTitle(i,n,e.target.value)}}),Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",label:"Descrizione",fullWidth:!0,variant:"outlined",value:t.course.getLessonDescription(i,n),onChange:function(e){return t.course.setLessonDescription(i,n,e.target.value)}}),Object(d.jsx)("br",{}),Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",label:"Video(Iframe)",fullWidth:!0,variant:"outlined",value:t.course.getLessonVideo(i,n),onChange:function(e){return t.course.setLessonVideo(i,n,e.target.value)}}),Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",label:"Video ID",fullWidth:!0,variant:"outlined",value:t.course.getLessonVideoId(i,n),onChange:function(e){return t.course.setLessonVideoId(i,n,e.target.value)}}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"block",children:[Object(d.jsx)("h5",{children:"Contenuto"}),Object(d.jsx)(Vt,{content:t.course.getLessonText(i,n),setContent:function(e){return t.course.setLessonText(i,n,e)},block:!1})]}),Object(d.jsx)("br",{}),Object(d.jsx)(An,{confirmInfo:{confirmInfo:o,setConfirmInfo:l},deleteQuiz:function(){return f(!1)},content:t,chapterId:i,lessonId:n}),Object(d.jsx)("div",{className:"centered",children:Object(d.jsxs)("div",{children:["Gratis",Object(d.jsx)(vn.a,{onChange:function(e,a){console.log(t.course.getLesson(i,n).isFree),t.course.getLesson(i,n).isFree=a,t.updateInfo()},checked:t.course.getLesson(i,n).isFree,className:"orange_icon"})]})})]})]},n)})}function An(e){var t=e.content,n=e.chapterId,a=e.lessonId,i=e.confirmInfo,s=i.confirmInfo,r=i.setConfirmInfo;return Object(d.jsxs)("div",{className:"block",children:[Object(d.jsx)("h5",{children:"Quiz"}),Object(d.jsx)("br",{}),Object.keys(t.course.getQuiz(n,a)).map((function(e){return Object(d.jsx)(Pn,{confirmInfo:{confirmInfo:s,setConfirmInfo:r},quiz:t.course.getQuizById(n,a,e),quizId:e,chapterId:n,lessonId:a,content:t},e)})),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"text-center",children:Object(d.jsx)("button",{className:"button",onClick:function(){return t.course.addQuiz(n,a)},children:"Aggiungi domanda"})})]})}function Pn(e){var t=e.chapterId,n=e.lessonId,i=e.quizId,s=e.content,r=e.quiz,o=e.confirmInfo,l=(o.confirmInfo,o.setConfirmInfo),u=Object(a.useState)(!1),h=Object(c.a)(u,2),j=h[0],b=h[1];return Object(d.jsxs)(mn.a,{className:"accordion block",expanded:j,children:[Object(d.jsx)(fn.a,{expandIcon:Object(d.jsx)(wn.a,{className:"orange_icon"}),onClick:function(){return b(!j)},children:Object(d.jsxs)("div",{className:"display_inline space_between max_width",children:[Object(d.jsx)("h5",{className:"m-0",children:r.question.getTitle()}),Object(d.jsx)(_t.a,{className:"orange_icon",onClick:function(e){e.stopPropagation(),l({confirm:function(){return s.course.removeQuiz(t,n,i)},refute:void 0})}})]})}),Object(d.jsx)(gn.a,{children:Object(d.jsx)(jn,{question:r})})]})}var Ln=function(e){var t=Object(a.useState)(new hn),n=Object(c.a)(t,2),i=n[0],s=n[1],r=Object(a.useState)(void 0),l=Object(c.a)(r,2),h=l[0],b=l[1],m=Object(a.useState)(!1),f=Object(c.a)(m,2),g=f[0],v=f[1],O=Object(a.useState)(),x=Object(c.a)(O,2),y=x[0],w=x[1],k=Object(a.useState)(""),N=Object(c.a)(k,2),I=N[0],C=N[1],_=Object(a.useState)(!0),S=Object(c.a)(_,2),T=S[0],z=S[1],A=Object(a.useState)(!0),P=Object(c.a)(A,2),L=P[0],E=P[1],q=Object(a.useState)({confirm:void 0,refute:void 0}),D=Object(c.a)(q,2),R=D[0],M=D[1],F=Object(o.e)().state,B=Object(o.f)(),W=e.windowInfo,V=e.user,H=e.routes;function U(){return(U=Object(j.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i.checkContentValidity(),w({error:!1,message:"Pubblicazione in corso..."}),t.error?w(t):i.publish((function(e){return w(e)})).then((function(){w({error:!1,message:"Pubblicazione completata"}),setTimeout((function(){return w({error:!1,message:"Pubblicazione completata"})}),1e3),b(void 0),window.localStorage.removeItem("course_data")})).catch((function(e){var t;w({error:!0,message:"Errore, "+(null===e||void 0===e||null===(t=e.responseJSON)||void 0===t?void 0:t.message)}),console.warn(e)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)(Object(j.a)(p.a.mark((function e(){var t,n,a,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.setState(s),i.loadArgs(),null!=F?(n=F.course,a=null===(t=JSON.parse(window.localStorage.getItem("course_data")))||void 0===t?void 0:t.id,console.log(a),a==n?(r=JSON.parse(window.localStorage.getItem("course_data")),i.course.load(r),E(!0),w({error:!1,message:"Caricamento ultima modifica"})):(i.course.loadById(n),E(!1))):void 0!=window.localStorage.getItem("course_data")&&(c=JSON.parse(window.localStorage.getItem("course_data")),i.course.load(c),E(!0),w({error:!1,message:"Caricamento ultima modifica"})),z(!1);case 4:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){T||window.localStorage.setItem("course_data",JSON.stringify(i.course.exportInfo()))}),[i]),Object(a.useEffect)((function(){V&&(V.canI("create_course")||B(H.home.path))}),[V]),Object(d.jsxs)("div",{className:"creation",id:"course_creation",children:[Object(d.jsx)("div",{className:"wallpaper_container block",children:i.course.getWallpaper()?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{id:"remove_wallpaper",className:"bounce",onClick:function(){return i.course.setWallpaper("")},children:Object(d.jsx)("img",{src:Ft,className:"img-fluid"})}),Object(d.jsx)("img",{id:"wallpaper_img",src:i.course.getWallpaper()})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("label",{className:"select_wallpaper",htmlFor:"wallpaper_input",children:Object(d.jsx)("img",{src:Dt,className:"img-fluid bounce"})}),Object(d.jsx)("input",{id:"wallpaper_input",accept:"image/*",type:"file",onChange:function(e){return function(e){if(void 0!=e){var t=e.target,n=new FileReader;n.onload=function(){var e=n.result;i.course.setWallpaper(e)},n.readAsDataURL(t.files[0])}}(e)}})]})}),Object(d.jsx)("br",{}),Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"9",children:Object(d.jsxs)("div",{className:"content_container",children:[Object(d.jsxs)("div",{className:"block",children:[Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",label:"Titolo",fullWidth:!0,variant:"outlined",value:i.course.getTitle(),onChange:function(e){return i.course.setTitle(e.target.value)}}),Object(d.jsx)("br",{}),Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",label:"Descrizione",fullWidth:!0,variant:"outlined",value:i.course.getDescription(),onChange:function(e){return i.course.setDescription(e.target.value)}}),Object(d.jsx)("br",{}),Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",label:"Video presentazione(Iframe)",fullWidth:!0,variant:"outlined",value:i.course.getPresentationVideo(),onChange:function(e){return i.course.setPresentationVideo(e.target.value)}}),Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",label:"Video ID",fullWidth:!0,variant:"outlined",value:i.course.getPresentationVideoId(),onChange:function(e){return i.course.setPresentationVideoId(e.target.value)}})]}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"block",children:void 0==h?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h5",{className:"mb-3",children:"Contenuto"}),Object(d.jsxs)("div",{className:"chapters_container",children:[Object.values(i.course.getContent()).sort((function(e,t){return e.position>t.position?1:-1})).map((function(e){return Object(d.jsx)(Tn,{id:e.id,content:i,selectedChapter:h,setSelectedChapter:b,confirmInfo:{confirmInfo:R,setConfirmInfo:M}},e.id)})),Object(d.jsx)(pn.a,{className:"mini_block bounce",onClick:function(){return i.course.addChapter()},children:Object(d.jsx)("h6",{className:"m-0",children:"Aggiungi"})})]})]}):Object(d.jsx)(Tn,{id:h,content:i,selectedChapter:h,setSelectedChapter:b,windowInfo:W,confirmInfo:{confirmInfo:R,setConfirmInfo:M}},h)}),Object(d.jsx)("br",{})]})}),Object(d.jsx)(u.a,{md:"3",children:Object(d.jsxs)("div",{className:"info_container block",children:[Object(d.jsx)("h5",{children:"Informazioni news"}),Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",label:"Priorit\xe0",fullWidth:!0,variant:"outlined",type:"number",value:i.course.getPriority(),onChange:function(e){return i.course.setPriority(e.target.value)}}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("h6",{children:"Autori"}),Object(d.jsx)("div",{children:i.course.getOfferedBy().map((function(e){return Object(d.jsxs)("div",{className:"space_between",children:[Object(d.jsx)("p",{children:e}),Object(d.jsx)(_t.a,{className:"orange_icon",onClick:function(){return M({confirm:function(){return i.deleteAuthor(e)},refute:void 0})}})]})}))}),Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",label:"Nome",fullWidth:!0,variant:"outlined",value:I,onChange:function(e){return C(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(i.addAuthor(I),C(""))}}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"space_between",children:[Object(d.jsx)("h6",{className:"mb-3",children:"Argomento"}),Object(d.jsx)(Ut.a,{onClick:function(){return v(!0)}})]}),Object(d.jsx)(Kt,{isOpen:g,setIsOpen:v,content:i.getArgs(),showDescription:!0,onDelete:function(e,t){return i.deleteArgument(e,t)},onCreation:function(e,t,n,a){return i.postArgument(e,t,a)},onUpdate:function(e,t,n,a,s){return i.updateArgument(e,t,n,s)}}),Object(d.jsx)(qt,{question:i.getArgs()}),Object(d.jsx)("hr",{}),Object(d.jsxs)("div",{className:"display_inline",children:[Object(d.jsx)("button",{className:"button",onClick:function(){return function(){return U.apply(this,arguments)}()},children:"Pubblica"}),L?Object(d.jsx)("button",{className:"button",onClick:function(){return window.localStorage.removeItem("course_data"),void window.location.reload()},children:"Elimina bozza"}):""]})]})})]}),y?Object(d.jsx)(Zt,{isError:y.error,message:y.message,removeFunction:function(){w()}}):"",Object(d.jsx)(Et,{action:R,closeFunction:function(){return M({confirm:void 0,refute:void 0})}})]})},En=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new se,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Q,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;Object(f.a)(this,e),this.module=n,this.module.quiz_type=void 0,this.module.setOverrideState(function(){return t.updateInfo()}.bind(this)),this.args=a,this.state=i}return Object(g.a)(e,[{key:"setState",value:function(e){this.state=e,this.updateInfo()}},{key:"updateInfo",value:function(){if(void 0!==this.state){if(0==this.getArguments().getSelectedChoices().length){var t;if(""!=this.module.getArgument())null===(t=this.getArguments())||void 0===t||t.addSelectedChoice(this.module.getArgument(),!1)}else{var n=this.getArguments().getSelectedChoices()[0];this.module.setArgument(n,!1)}this.state(new e(this.module,this.args,this.state))}}},{key:"load",value:function(e){var t=e.module,n=e.args;void 0!=t&&this.module.load(t),void 0!=n&&this.setArguments(n),this.updateInfo()}},{key:"loadArguments",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("accessToken"),e.next=3,k.a.ajax({type:"GET",accepts:"application/json",url:sr+"academy/arguments",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)},success:function(e){var t,a=e.arguments,i={},s=Object(m.a)(a);try{for(s.s();!(t=s.n()).done;){var r=t.value;i[r.slug]=r}}catch(o){s.e(o)}finally{s.f()}var c=new Q;c.setOverrideUpdateInfo(function(){return n.updateInfo()}.bind(n)),c.load({id:null,title:"",choices:i,acceptedChoices:1}),n.setArguments(c)},error:function(e){return console.log(e)}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"updateArgument",value:function(e,t,n,a,i){var s=window.localStorage.getItem("accessToken"),r=new FormData;r.append("title",t),r.append("description",n),r.append("picture",J(a)),k.a.ajax({type:"PUT",accepts:"application/json",url:sr+"academy/argument/"+e,contentType:!1,processData:!1,data:r,beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+s)},success:function(e){return i(e)},error:function(e){return console.log(e)}})}},{key:"deleteArgument",value:function(e,t){var n=window.localStorage.getItem("accessToken");k.a.ajax({type:"DELETE",accepts:"application/json",url:sr+"academy/argument/"+e,contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(e){return t()},error:function(e){return console.log(e)}})}},{key:"addArgument",value:function(e,t,n,a){var i=window.localStorage.getItem("accessToken"),s=new FormData;s.append("title",e),s.append("description",t),s.append("picture",J(n)),k.a.ajax({type:"POST",url:sr+"academy/arguments",accepts:"application/json",contentType:!1,processData:!1,data:s,beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+i)},success:function(e){return a(e)},error:function(e){return console.log(e)}})}},{key:"getModule",value:function(){return this.module}},{key:"getArguments",value:function(){return this.args}},{key:"setModule",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.module=e,t&&this.updateInfo()}},{key:"setArguments",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.args=e,t&&this.updateInfo()}},{key:"deletePage",value:function(e,t){var n=this.module.getModules()[e],a=n.pages;if(void 0!==a){var i=a[t].position;console.log(i),delete a[t];for(var s=0,r=Object.values(a);s<r.length;s++){var c=r[s];c.position>i&&(c.position--,console.log("sottraggo"))}n.pages=a;var o=this.module.getModules();o[e]=n,console.log(o),this.module.setModules(o)}this.updateInfo()}},{key:"deleteModule",value:function(e){var t=this.module.getModules(),n=t[e].position;delete t[e];for(var a=0,i=Object.values(t);a<i.length;a++){var s=i[a];s.position>n&&s.position--}this.module.setModules(t)}},{key:"changeModuleOrder",value:function(e,t){var n=Object.keys(this.module.getModules()).length,a=this.module.getModules()[t];if(console.log(a),a.position+e>0&&a.position+e<=n){var i=Object.values(this.module.getModules()).filter((function(t){return t.position==a.position+e}));Object(c.a)(i,1)[0].position=a.position,a.position+=e}this.updateInfo()}},{key:"changePageOrder",value:function(e,t,n){var a=Object.values(this.module.getAllPages(e)).sort((function(e,t){return e.position>t.position?1:-1})),i=a.splice(t-1,1),s=Object(c.a)(i,1)[0];void 0!=s&&a.splice(n-1,0,s),a.forEach((function(e,t){return e.position=t+1})),this.updateInfo(),console.log(this.module.getAllPages(e))}},{key:"moduleExist",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("accessToken"),n={exist:!1,categoryChanged:!1},e.prev=2,e.next=5,k.a.ajax({type:"GET",url:sr+"academy/module/"+this.module.getId(),contentType:"application/json",accepts:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)},success:function(e){var t=e.argument_slug;n={exist:!0,categoryChanged:t!=a.getArguments().getSelectedChoices()[0]}},error:function(){return n={exist:!1,categoryChanged:!1}}});case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"publish",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n,a,i,s,r,c,o,l,u,d,h,j,b,f,g,v,O,x,y,w,N,I,C,_,S,T,z,A,P,L=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=L.length>0&&void 0!==L[0]?L[0]:function(e){},n=!1,""==this.module.getId()){e.next=6;break}return e.next=5,this.moduleExist();case 5:n=e.sent;case 6:return t({error:!1,message:n?"Aggiorno il modulo":"Creo il modulo"}),e.next=9,this.createModule(n.exist,n.categoryChanged);case 9:if(void 0!=(a=e.sent)){e.next=12;break}throw Error(n?"Errore nella modifica":"Errore nella creazione");case 12:n=n.exist,i=this.module.getModules(),s=0,r=Object.keys(i);case 15:if(!(s<r.length)){e.next=50;break}return c=r[s],e.next=19,this.postModules(a,c,n);case 19:if(void 0!=(o=e.sent)){e.next=22;break}throw Error("Errore nella pubblicazione della nota - "+i[o].title);case 22:t({error:!1,message:n?"Aggiorno la nota - "+i[o].title:"Creo la nota - "+i[o].title}),l=this.module.getAllPages(o),u=0,d=Object.keys(l);case 25:if(!(u<d.length)){e.next=47;break}if(h=d[u],"quiz"!=this.module.getPageType(o,h)){e.next=37;break}return j=l[h].content.question.getTitle(),e.next=31,this.postQuiz(o,o,h,n);case 31:if(void 0!=e.sent){e.next=34;break}throw Error("Errore nella pubblicazione di un quiz - "+l[h].content.question.getTitle());case 34:t({error:!1,message:n?"Aggiorno il quiz - "+j:"Creo il quiz - "+j}),e.next=44;break;case 37:return b=l[h].title,e.next=40,this.postText(o,o,h,n);case 40:if(void 0!=e.sent){e.next=43;break}throw Error("Errore nella pubblicazione della pagina - "+b);case 43:t({error:!1,message:n?"Aggiorno la pagina - "+b:"Creo la pagina - "+b});case 44:u++,e.next=25;break;case 47:s++,e.next=15;break;case 50:return f=window.localStorage.getItem("accessToken"),t({error:!1,message:"Elimino le note"}),e.next=54,this.module.getNotes(this.module.getId(),!1);case 54:g=e.sent,v=Object.keys(this.module.getModules()),O=Object(m.a)(g),e.prev=57,O.s();case 59:if((x=O.n()).done){e.next=69;break}if(y=x.value,v.includes(y)){e.next=67;break}return w=!1,e.next=65,k.a.ajax({type:"DELETE",url:sr+"academy/note/"+y,contentType:"json",accepts:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+f)},error:function(){return w=!0}});case 65:if(!w){e.next=67;break}throw Error("Errore eliminazione nota - "+y);case 67:e.next=59;break;case 69:e.next=74;break;case 71:e.prev=71,e.t0=e.catch(57),O.e(e.t0);case 74:return e.prev=74,O.f(),e.finish(74);case 77:t({error:!1,message:"Elimino le pagine"}),N=0,I=v;case 79:if(!(N<I.length)){e.next=102;break}C=I[N],_=1,S={},T="",z=Object.keys(this.module.getAllPages(C));case 85:if(void 0==T){e.next=99;break}return P=!1,e.next=89,this.module.getPageFromServer(C,_,!1);case 89:if(S=e.sent,T=null===(A=S)||void 0===A?void 0:A.id,z.includes(String(T))||void 0==T){e.next=96;break}return e.next=94,k.a.ajax({type:"DELETE",url:sr+"academy/page/"+T,contentType:"json",accepts:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+f)},error:function(){return P=!0}});case 94:if(!P){e.next=96;break}throw Error("Errore eliminazione pagina - "+T);case 96:_++,e.next=85;break;case 99:N++,e.next=79;break;case 102:case"end":return e.stop()}}),e,this,[[57,71,74,77]])})));return function(){return e.apply(this,arguments)}}()},{key:"createModule",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n,a,i,s,r,c,o,l=this,u=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]&&u[0],n=u.length>1&&void 0!==u[1]&&u[1],a=window.localStorage.getItem("accessToken"),i=this.getArguments().getSelectedChoices()[0],s=void 0,r="",c="",t&&!n?(r="PUT",c="academy/module/"+this.module.getId()):(r="POST",c="academy/argument/"+i+"/modules"),(o=new FormData).append("title",this.module.getTitle()),o.append("description",this.module.getDescription()),o.append("difficulty",this.module.getDifficultyLevel()),o.append("order",this.module.getPosition()),"https"!=this.module.getWallpaper().slice(0,5)&&o.append("picture",J(this.module.getWallpaper(),"_name_.jpg")),e.next=16,k.a.ajax({type:r,url:sr+c,accepts:"application/json",contentType:!1,processData:!1,data:o,beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+a)},success:function(){var e=Object(j.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.slug,l.module.setId(s);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});case 16:return e.abrupt("return",s);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"postModules",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n){var a,i,s,r,c,o=this,l=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>2&&void 0!==l[2]&&l[2],i=window.localStorage.getItem("accessToken"),s=void 0,r="",c="","_"!=n[0]&&a?(r="PUT",c="academy/note/"+n):(r="POST",c="academy/module/"+t+"/notes"),e.next=8,k.a.ajax({type:r,url:sr+c,accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+i)},data:JSON.stringify({title:this.module.getModuleTitle(n),noteOrder:this.module.getModuleById(n).position}),success:function(){var e=Object(j.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.slug,(a=o.module.getModules())[s]=a[n],n!=s&&delete a[n],o.module.setModules(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"postQuiz",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n,a){var i,s,r,c,o,l,u=this,d=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=d.length>3&&void 0!==d[3]&&d[3],s=window.localStorage.getItem("accessToken"),r=this.module.getPageContent(t,a),c="",o="","_"!=a[0]&&i?(c="PUT",o="quiz/"+a,i=!0):(c="POST",o="quiz",i=!1),e.next=8,r.publish();case 8:if(void 0!=(l=e.sent)){e.next=13;break}return e.abrupt("return",!1);case 13:return r.question.setId(l),i?(c="PUT",o="academy/page/"+a):(c="POST",o="/academy/note/"+n+"/pages"),!1,e.next=18,k.a.ajax({type:c,url:sr+o,contentType:"application/json",accepts:"application/json",data:JSON.stringify({content:"",quizSlug:l,pageOrder:this.module.getPage(t,a).position}),beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+s)},success:function(e){var n=e.id,i=u.module.getAllPages(t);i[n]=i[a],a!=n&&delete i[a]},error:function(){return!0}});case 18:return e.abrupt("return",!0);case 19:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"postText",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n,a){var i,s,r,c,o,l,u=this,d=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=d.length>3&&void 0!==d[3]&&d[3],s=window.localStorage.getItem("accessToken"),r=!1,c="",o="","_"!=a[0]&&i?(c="PUT",o="academy/page/"+a,i=!0):(c="POST",o="academy/note/"+n+"/pages",i=!1),(l=new FormData).append("content",this.module.getPageContent(t,a)),l.append("pageOrder",this.module.getPage(t,a).position),"https"!=this.module.getPageWallpaper(t,a).slice(0,5)&&l.append("picture",J(this.module.getPageWallpaper(t,a),"_name_.jpg")),""!=this.module.getPageWallpaper(t,a)||!i){e.next=13;break}return e.next=13,k.a.ajax({type:"DELETE",url:sr+"/academy/page/"+a+"/image",accepts:"application/json",contentType:!1,processData:!1,beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+s)}});case 13:return e.next=15,k.a.ajax({type:c,url:sr+o,accepts:"application/json",contentType:!1,processData:!1,beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+s)},data:l,success:function(e){var n=e.id,i=u.module.getAllPages(t);i[n]=i[a],a!=n&&delete i[a]},error:function(){return r=!1}});case 15:return e.abrupt("return",r);case 16:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"isContentValid",value:function(){if(""==this.module.getWallpaper())return{error:!0,message:"Wallpaper non inserito"};if(""==this.module.getTitle().replaceAll(" ",""))return{error:!0,message:"Titolo non valido"};if(""==this.module.getDescription().replaceAll(" ",""))return{error:!0,message:"Descrizione non valida"};if(0==this.getArguments().getSelectedChoices().length)return{error:!0,message:"Argomento non inserito"};if(console.log(this.module.getDifficultyLevel()),""==this.module.getDifficultyLevel())return{error:!0,message:"Difficolt\xe0 non inserita"};for(var e=0,t=Object.keys(this.module.getModules());e<t.length;e++){var n=t[e];if(""==this.module.getModuleTitle(n).replaceAll(" ",""))return{error:!0,message:"Alcune note non hanno titolo"};for(var a=0,i=Object.keys(this.module.getAllPages(n));a<i.length;a++){var s=i[a];if("quiz"==this.module.getPageType(n,s)){if(""==this.module.getPageContent(n,s).question.getTitle().replaceAll(" ",""))return{error:!0,message:"Alcuni quiz hanno il titolo vuoto"}}else if(""==this.module.getPageContent(n,s).replaceAll(" ",""))return{error:!0,message:"Alcune pagine hanno contenuto vuoto"}}}return{error:!1,message:"Tutto inserito"}}}]),e}(),qn=En,Dn=n(489);function Rn(e){var t=e.i,n=e.content,i=e.moduleId,s=e.pageId,r=e.selectedPage,o=e.setSelectedPage,l=e.windowInfo,h=e.confirmInfo,j=h.setConfirmInfo,b=(h.confirmInfo,n.module.getPageType(i,s)),p=Object(a.useState)(!1),m=Object(c.a)(p,2),f=m[0],g=m[1];return Object(d.jsx)(d.Fragment,{children:l.mobileMode?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"display_inline mobile_page space_between bounce",onClick:function(){return g(!0)},children:[Object(d.jsx)("h5",{className:"m-0",children:"quiz"==b?"Quiz":"Lezione"}),Object(d.jsx)(_t.a,{className:"orange_icon",onClick:function(e){e.stopPropagation(),j({confirm:function(){return n.deletePage(i,s)},refute:void 0})}})]}),Object(d.jsx)(kn.a,{anchor:"bottom",open:f,onClose:function(){return g(!1)},children:Object(d.jsxs)("div",{id:"academy_page_panel",children:[Object(d.jsx)("h5",{children:"Contenuto"}),"page"==b?Object(d.jsx)(Vt,{content:n.module.getPageContent(i,s),setContent:function(e){return n.module.setPageContent(i,s,e)}}):Object(d.jsx)(u.a,{md:"12",children:Object(d.jsx)(jn,{question:n.module.getPageContent(i,s)})})]})})]}):Object(d.jsxs)(mn.a,{expanded:r==s,className:"accordion block",onChange:function(){return o(s==r?null:s)},children:[Object(d.jsx)(fn.a,{expandIcon:Object(d.jsx)(wn.a,{className:"orange_icon"}),children:Object(d.jsxs)("div",{className:"display_inline space_between",children:[Object(d.jsx)("h5",{className:"m-0",children:"quiz"==b?"Quiz":"Lezione"}),Object(d.jsx)(_t.a,{className:"orange_icon",onClick:function(e){e.stopPropagation(),j({confirm:function(){return n.deletePage(i,s)},refute:void 0})}})]})}),Object(d.jsx)(gn.a,{children:"page"==b?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"block",id:"module_wallpaper_container",children:[Object(d.jsx)("h6",{children:"Wallpaper"}),""==n.module.getPageWallpaper(i,s)?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("label",{htmlFor:"module_wallpaper",className:"centered",children:Object(d.jsx)("img",{className:"img-fluid mx-auto bounce",src:Dt,width:200})}),Object(d.jsx)("input",{id:"module_wallpaper",type:"file",accept:"image/*",style:{display:"none"},onChange:function(e){if(void 0!=e){var t=e.target;if(void 0!=(null===t||void 0===t?void 0:t.files[0])){var a=new FileReader;a.readAsDataURL(t.files[0]),a.onload=function(){var e=a.result;n.module.setPageWallpaper(i,s,e)}}}}})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(wt.a,{className:"remove_module_wallpaper bounce",onClick:function(){return n.module.setPageWallpaper(i,s,"")}}),Object(d.jsx)("img",{className:"module_wallpaper",src:n.module.getPageWallpaper(i,s)})]})]}),Object(d.jsx)(Vt,{content:n.module.getPageContent(i,s),setContent:function(e){return n.module.setPageContent(i,s,e)}})]}):Object(d.jsx)(u.a,{md:"12",children:Object(d.jsx)(jn,{question:n.module.getPageContent(i,s)})})})]},t)})}var Mn=function(e){var t={confirm:void 0,refute:void 0},n=e.id,i=e.module,s=e.selectedId,r=e.setSelectedId,o=e.windowInfo,h=Object(a.useState)(null),j=Object(c.a)(h,2),b=j[0],p=j[1],m=Object(a.useState)(!1),f=Object(c.a)(m,2),g=f[0],v=f[1],O=Object(a.useState)(t),x=Object(c.a)(O,2),y=x[0],w=x[1];function k(e,t,n){e.stopPropagation(),i.changeModuleOrder(t,n)}return Object(a.useEffect)((function(){v(s==n)}),[s]),Object(d.jsxs)(d.Fragment,{children:[s!=n?Object(d.jsx)(Re.a,{in:!0,children:Object(d.jsx)(pn.a,{className:"mini_block bounce",onClick:function(){return r(n)},children:Object(d.jsxs)(Pe.a,{children:[Object(d.jsx)("h6",{className:"m-0",children:i.module.getModuleTitle(n)}),Object(d.jsxs)("div",{className:"centered",children:[Object(d.jsxs)(St.a,{className:"orange_icon mb-0",type:"submit","aria-label":"search",children:[Object(d.jsx)(_t.a,{onClick:function(e){return function(e){e.stopPropagation(),w({confirm:function(){return i.deleteModule(n)},refute:void 0})}(e)}}),Object(d.jsx)(Ut.a,{})]}),Object(d.jsxs)("div",{className:"display_inline",children:[Object(d.jsx)(St.a,{className:"orange_icon",onClick:function(e){return k(e,-1,n)},children:Object(d.jsx)(In.a,{})}),Object(d.jsx)(St.a,{className:"orange_icon",onClick:function(e){return k(e,1,n)},children:Object(d.jsx)(_n.a,{})})]})]})]})})}):Object(d.jsxs)(Dn.a,{in:g,timeout:500,children:[Object(d.jsx)("div",{className:"module_title_container mt-2",children:Object(d.jsxs)("div",{className:"display_inline vertical_centered",children:[Object(d.jsx)(pt.a,{onClick:function(){return r(null)}}),Object(d.jsx)(Gt.a,{className:"my_input",fullWidth:!0,multiline:!0,label:"Titolo del modulo",variant:"outlined",value:i.module.getModuleTitle(n),onChange:function(e){return i.module.setModuleTitle(n,e.target.value)}})]})}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),o.mobileMode?Object(d.jsx)("br",{}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("br",{}),Object(d.jsx)("br",{})]}),Object(d.jsx)(Sn.a,{onDragEnd:function(e){var t,a,s=null===(t=e.source)||void 0===t?void 0:t.index,r=null===(a=e.destination)||void 0===a?void 0:a.index;void 0!=s&&void 0!=r&&i.changePageOrder(n,s,r)},children:Object(d.jsx)(Sn.c,{droppableId:"list",children:function(e){return Object(d.jsxs)("div",Object(l.a)(Object(l.a)({},e.droppableProps),{},{ref:e.innerRef,children:[Object.keys(i.module.getAllPages(n)).sort((function(e,t){return i.module.getPage(n,e).position>i.module.getPage(n,t).position?1:-1})).map((function(e,t,a){return Object(d.jsx)(Sn.b,{draggableId:e,index:Number.parseInt(i.module.getPage(n,e).position),children:function(a){return Object(d.jsx)("div",Object(l.a)(Object(l.a)(Object(l.a)({},a.draggableProps),a.dragHandleProps),{},{ref:a.innerRef,children:Object(d.jsx)(Rn,{i:t,content:i,selectedPage:b,setSelectedPage:p,pageId:e,moduleId:n,windowInfo:o,confirmInfo:{setConfirmInfo:w,confirmInfo:y}})}))}},e)})),e.placeholder]}))}})}),Object(d.jsxs)(Ie.a,{className:"mt-4",children:[Object(d.jsx)(u.a,{children:Object(d.jsx)("div",{className:"page orange_border  bounce",onClick:function(){return i.module.addPage(n)},children:Object(d.jsx)("h5",{className:"m-0 add_page",children:"Aggiungi pagina"})})}),Object(d.jsx)(u.a,{children:Object(d.jsx)("div",{className:"page orange_border bounce",onClick:function(){return i.module.addQuiz(n)},children:Object(d.jsx)("h5",{className:"m-0 add_page",children:"Aggiungi quiz"})})})]})]}),Object(d.jsx)(Et,{action:y,closeFunction:function(){return w(t)}})]})},Fn=n(213),Bn=n.n(Fn);n(321);var Wn=function(e){var t=Object(a.useState)(new qn),n=Object(c.a)(t,2),i=n[0],s=n[1],r=Object(a.useState)(null),l=Object(c.a)(r,2),h=l[0],b=l[1],m=Object(a.useState)(!1),f=Object(c.a)(m,2),g=f[0],v=f[1],O=Object(a.useState)(),x=Object(c.a)(O,2),y=x[0],w=x[1],k=Object(a.useState)(!1),N=Object(c.a)(k,2),I=N[0],C=N[1],_=Object(a.useState)(!0),S=Object(c.a)(_,2),T=S[0],z=S[1],A=Object(a.useState)(!1),P=Object(c.a)(A,2),L=P[0],E=P[1],q=e.user,D=e.windowInfo,R=e.routes,M=Object(o.e)().state,F=Object(o.f)();return Object(a.useEffect)(Object(j.a)(p.a.mark((function e(){var t,n,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.setState(s),e.next=3,i.loadArguments().then((function(){return C(!0)})).catch((function(){return alert("Ricarica la pagina")}));case 3:null!=M?(n=M.module,(null===(t=JSON.parse(window.localStorage.getItem("data")))||void 0===t?void 0:t.id)==n?(a=JSON.parse(window.localStorage.getItem("data")),i.module.load(a),E(!0),w({error:!1,message:"Caricamento ultima modifica"})):i.module.loadById(n)):void 0!=window.localStorage.getItem("data")&&(r=JSON.parse(window.localStorage.getItem("data")),i.module.load(r),E(!0),w({error:!1,message:"Caricamento ultima modifica"})),z(!1);case 5:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){q&&(q.canI("create_academy")||F(R.home.path)),T||(window.localStorage.setItem("data",JSON.stringify(i.module.exportInfo())),void 0==window.localStorage.getItem("trash")&&window.localStorage.setItem("trash",JSON.stringify({notes:[],pages:[]})))}),[i]),Object(d.jsxs)("div",{className:"creation",id:"module_creation",children:[Object(d.jsx)("div",{className:"wallpaper_container block",children:i.module.getWallpaper()?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{id:"remove_wallpaper",className:"bounce",onClick:function(){return i.module.setWallpaper("")},children:Object(d.jsx)("img",{src:Ft,className:"img-fluid"})}),Object(d.jsx)("img",{id:"wallpaper_img",src:i.module.getWallpaper()})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("label",{className:"select_wallpaper",htmlFor:"wallpaper_input",children:Object(d.jsx)("img",{src:Dt,className:"img-fluid bounce"})}),Object(d.jsx)("input",{id:"wallpaper_input",accept:"image/*",type:"file",onChange:function(e){return function(e){if(void 0!=e){var t=e.target,n=new FileReader;n.readAsDataURL(t.files[0]),n.onload=function(){var e=n.result;i.module.setWallpaper(e)}}}(e)}})]})}),Object(d.jsx)("br",{}),Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"9",children:Object(d.jsxs)("div",{className:"content_container",children:[Object(d.jsxs)("div",{className:"block",children:[Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",fullWidth:!0,multiline:!0,label:"Titolo",variant:"outlined",value:i.module.getTitle(),onChange:function(e){return i.module.setTitle(e.target.value)}}),Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",fullWidth:!0,multiline:!0,label:"Descrizione",variant:"outlined",value:i.module.getDescription(),onChange:function(e){return i.module.setDescription(e.target.value)}})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"block",children:[null==h?Object(d.jsx)("h4",{children:"Moduli"}):"",Object(d.jsxs)("div",{className:null==h?"modules_container columns":"modules_container",children:[Object.keys(i.module.getModules()).sort((function(e,t){return i.module.getModules()[e].position>i.module.getModules()[t].position?1:-1})).map((function(e){return null==h?Object(d.jsx)(Mn,{selectedId:h,setSelectedId:b,module:i,id:e}):h==e?Object(d.jsx)(Mn,{selectedId:h,setSelectedId:b,module:i,id:e,windowInfo:D}):void 0})),null==h?Object(d.jsx)(pn.a,{className:"mini_block bounce",onClick:function(){return i.module.addModule()},children:Object(d.jsx)(Bn.a,{className:"orange_icon"})}):""]})]}),Object(d.jsx)("br",{})]})}),Object(d.jsxs)(u.a,{md:"3",children:[Object(d.jsxs)("div",{className:"info_container block",children:[Object(d.jsx)("br",{}),Object(d.jsx)(Gt.a,{className:D.mobileMode?"my_input ":"my_input",fullWidth:!0,multiline:!0,type:"number",label:"Posizione",variant:"outlined",value:i.module.getPosition(),onChange:function(e){return i.module.setPosition(e.target.value)}}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)(Gt.a,{className:D.mobileMode?"my_input ":"my_input",fullWidth:!0,multiline:!0,select:!0,label:"Difficolt\xe0",variant:"outlined",value:i.module.getDifficultyLevel(),onChange:function(e){return i.module.setDifficultyLevel(e.target.value)},children:[Object(d.jsx)(tn.a,{value:1,children:"1"}),Object(d.jsx)(tn.a,{value:2,children:"2"}),Object(d.jsx)(tn.a,{value:3,children:"3"})]}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"space_between",children:[Object(d.jsx)("h5",{children:"Categoria"}),q&&q.canI("create_academy_category")?Object(d.jsx)(Ut.a,{className:"orange_icon mb-3",onClick:function(){return v(!0)}}):""]}),I?Object(d.jsx)(qt,{question:i.getArguments()}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Ue.a,{sx:{bgcolor:"gray.800",borderRadius:3},className:"mb-2",animation:"wave",variant:"rectangular",height:"20px"}),Object(d.jsx)(Ue.a,{sx:{bgcolor:"gray.800",borderRadius:3},className:"mb-2",animation:"wave",variant:"rectangular",height:"20px"}),Object(d.jsx)(Ue.a,{sx:{bgcolor:"gray.800",borderRadius:3},className:"mb-2",animation:"wave",variant:"rectangular",height:"20px"}),Object(d.jsx)(Ue.a,{sx:{bgcolor:"gray.800",borderRadius:3},className:"mb-2",animation:"wave",variant:"rectangular",height:"20px"})]}),Object(d.jsx)("hr",{}),Object(d.jsx)("button",{className:"button",onClick:function(){return function(){var e=i.isContentValid();e.error?void 0!=y?(w(),setTimeout((function(){return w(e)}),100)):w(e):(w({error:!1,message:"Pubblicazione in corso..."}),i.publish((function(e){return w(e)})).then((function(){window.localStorage.removeItem("trash"),window.localStorage.removeItem("data"),E(!1),w({error:!1,message:"Pubblicazione completata"}),setTimeout((function(){return w({error:!1,message:"Pubblicazione completata"})}),1e3),b(null)})).catch((function(e){console.warn(e),w({error:!0,message:"Errore, riprovare"})})))}()},children:"Pubblica"}),L?Object(d.jsx)("button",{className:"button",onClick:function(){return window.localStorage.removeItem("trash"),window.localStorage.removeItem("data"),void window.location.reload()},children:"Elimina Bozza"}):"",q&&Object.values(q.getRole()).map((function(e){return e.slug})).includes("super-admin")||q&&Object.values(q.getRole()).map((function(e){return e.slug})).includes("super-admin-academy")?Object(d.jsx)(Kt,{onUpdate:i.updateArgument,onCreation:i.addArgument,onDelete:i.deleteArgument,content:i.getArguments(),isOpen:g,setIsOpen:v,showDescription:!0,showImage:!0}):""]}),Object(d.jsx)("br",{}),Object(d.jsx)(ln,{}),Object(d.jsx)("br",{})]})]}),null!=y?Object(d.jsx)(Zt,{isError:y.error,message:y.message,removeFunction:function(){w()}}):""]})},Vn=(n(322),n(496)),Hn=n(169),Un=n.n(Hn),Gn=n(98),Yn=n.n(Gn),Qn=n(71),Jn=n.n(Qn),Kn=n(460),Zn=n(450);function Xn(e){var t=e.content,n=e.deleteItem,a=e.editItem;return Object(d.jsxs)("div",{className:"list_item bounce",onClick:function(){return a(t.exportInfo())},children:[Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"3",children:Object(d.jsx)("p",{className:"title",children:t&&t.getTitle()})}),Object(d.jsx)(u.a,{md:"3",children:Object(d.jsx)("p",{className:"date",children:t&&t.getPublishDate()})}),Object(d.jsx)(u.a,{md:"3",children:Object(d.jsx)("p",{className:"category",children:t&&t.getArgument()})}),Object(d.jsx)(u.a,{md:"3",children:Object(d.jsxs)("div",{className:"display_inline",children:[Object(d.jsx)(_t.a,{onClick:function(e){return n(e,t.getId())},className:"orange_icon m-1"}),Object(d.jsx)(Yn.a,{className:"orange_icon m-1"})]})})]}),Object(d.jsx)("hr",{})]})}var $n=function(e){var t=e.user,n=e.windowInfo,i=t.modules,s=e.routes,r=Object(o.f)(),l="created",h="saved",j=Object(a.useState)(h),b=Object(c.a)(j,2),p=b[0],m=b[1],f=Object(a.useState)(!0),g=Object(c.a)(f,2),v=(g[0],g[1],Object(a.useState)({confirm:void 0,refute:void 0})),O=Object(c.a)(v,2),x=O[0],y=O[1],w=Object(a.useRef)(),k=Object(a.useRef)(new IntersectionObserver((function(){})));function N(e,t){e.stopPropagation(),y({confirm:function(){p==l?i.removeModule(t,i.CREATED_MODULES_TAG):p==h?i.removeModule(t,i.SAVED_SECTION):"in_progress"==p&&i.removeModule(t,i.IN_PROGRESS_MODULE_TAG)},refute:void 0})}function I(e){r(s.module_creation.path,{state:{module:e.id}})}return Object(a.useEffect)((function(){k.current.disconnect(),void 0!=w.current&&(console.log("a"),k.current=new IntersectionObserver((function(e){e[0].isIntersecting&&(p==l&&t&&t.canI("create_academy")?i.loadCreatedModules():p==h&&i.loadSavedNotes())})),k.current.observe(w.current))}),[p,i.getSavedNotes(),i.getCreatedModules()]),Object(a.useEffect)((function(){console.log(i.getSavedNotes())}),[i.getSavedNotes()]),Object(d.jsxs)("div",{id:"accademy_section",children:[Object(d.jsxs)("div",{className:"space_between",children:[Object(d.jsx)("h2",{children:"Accademy"}),t&&t.canI("create_academy")?Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)(Jn.a,{className:"orange_icon",onClick:function(){r(s.module_creation.path)}})}):""]}),Object(d.jsx)(u.a,{md:"6",className:"mx-auto",children:Object(d.jsx)("div",{className:"search_bar mt-4",children:Object(d.jsx)("input",{placeholder:"Cerca..."})})}),Object(d.jsxs)(Kn.a,{value:p,onChange:function(e,t){return m(t)},scrollButtons:"auto",centered:!0,children:[Object(d.jsx)(Zn.a,{label:"Salvate",value:h}),t&&t.canI("create_academy")?Object(d.jsx)(Zn.a,{label:"Create",value:l}):""]}),Object(d.jsxs)("div",{className:"items_container",children:[n.mobileMode?"":Object(d.jsx)("div",{className:"header",children:Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"3",children:Object(d.jsx)("h6",{children:"Titolo"})}),Object(d.jsx)(u.a,{md:"3"}),Object(d.jsx)(u.a,{md:"3"}),Object(d.jsx)(u.a,{md:"3",children:Object(d.jsx)("h6",{children:"Modifica"})})]})}),Object(d.jsx)("hr",{}),Object(d.jsxs)("div",{className:"list",id:"modules_container",children:[p==h?i&&i.getSavedNotes().map((function(e){return Object(d.jsxs)("div",{className:"bounce",onClick:function(){return t=e.module_id,n=e.id,void r(Li.single_module.path+t+"/"+n);var t,n},children:[Object(d.jsx)("p",{children:e.title}),Object(d.jsx)("hr",{})]})})):p==l?i&&Object.values(i.getCreatedModules()).map((function(e){return Object(d.jsx)(Xn,{content:e,deleteItem:N,editItem:I})})):"",p==l&&i.isLastPageLoaded()||p==h&&null==i.saved_notes_index?"":Object(d.jsx)("div",{ref:w,className:"loading m-auto"})]})]}),Object(d.jsx)(Et,{action:x,closeFunction:function(){return y({confirm:void 0,refute:void 0})}})]})};function ea(e){var t=e.content,n=e.deleteItem,a=e.editItem;return Object(d.jsxs)("div",{className:"list_item bounce",onClick:function(){return a(t.exportInfo())},children:[Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"3",children:Object(d.jsx)("p",{className:"title",children:t&&t.getTitle()})}),Object(d.jsx)(u.a,{md:"3",children:Object(d.jsx)("p",{className:"date",children:t&&t.getPublishDate()})}),Object(d.jsx)(u.a,{md:"3",children:Object(d.jsx)("p",{className:"category",children:t&&t.getArgument()})}),Object(d.jsx)(u.a,{md:"3",children:Object(d.jsxs)("div",{className:"display_inline",children:[Object(d.jsx)(_t.a,{onClick:function(e){return n(e,t.getId())},className:"orange_icon m-1"}),Object(d.jsx)(Yn.a,{className:"orange_icon m-1"})]})})]}),Object(d.jsx)("hr",{})]})}var ta=function(e){var t=e.user,n=e.windowInfo,i=t.courses,s=e.routes,r=Object(o.f)(),l="created",h="saved",j="in_progress",b=Object(a.useState)(l),p=Object(c.a)(b,2),m=p[0],f=(p[1],Object(a.useState)({confirm:void 0,refute:void 0})),g=Object(c.a)(f,2),v=g[0],O=g[1],x=Object(a.useState)(!0),y=Object(c.a)(x,2),w=y[0],k=y[1];function N(e,t){e.stopPropagation(),O({confirm:function(){m==l?i.removeCourse(t,i.CREATED_COURSES):m==h?i.removeCourse(t,i.SAVED_COURSES_TAG):m==j&&i.removeCourse(t,i.IN_PROGRESS_COURSE)},refute:void 0})}function I(e){r(s.course_creation.path,{state:{course:e.id}})}return Object(a.useEffect)((function(){w&&void 0!=i&&(i.loadSavedCourses(),t&&t.canI("create_course")&&i.loadCreatedCourses(),k(!1))}),[i]),Object(a.useEffect)((function(){t&&(t.canI("create_course")||r(s.home.path))}),[t]),Object(d.jsxs)("div",{id:"courses_section",children:[Object(d.jsxs)("div",{className:"space_between",children:[Object(d.jsx)("h2",{children:"Corsi"}),t&&t.canI("create_course")?Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)(Jn.a,{className:"orange_icon",onClick:function(){r(s.course_creation.path)}})}):""]}),Object(d.jsx)(u.a,{md:"6",className:"mx-auto",children:Object(d.jsx)("div",{className:"search_bar mt-4",children:Object(d.jsx)("input",{placeholder:"Cerca..."})})}),Object(d.jsxs)("div",{className:"items_container",children:[n.mobileMode?"":Object(d.jsx)("div",{className:"header",children:Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"3",children:Object(d.jsx)("h6",{children:"Titolo"})}),Object(d.jsx)(u.a,{md:"3"}),Object(d.jsx)(u.a,{md:"3"}),Object(d.jsx)(u.a,{md:"3",children:Object(d.jsx)("h6",{children:"Modifica"})})]})}),Object(d.jsx)("hr",{}),Object(d.jsx)("div",{className:"list",children:m==h?"":m==l?i&&Object.values(i.getCreatedCourse()).map((function(e){return Object(d.jsx)(ea,{content:e,deleteItem:N,editItem:I})})):m==j?i&&Object.values(i.getCoursesInProgress()).map((function(e){return Object(d.jsx)(ea,{content:e,deleteItem:N,editItem:I})})):""})]}),Object(d.jsx)(Et,{action:v,closeFunction:function(){return O({confirm:void 0,refute:void 0})}})]})},na=n(492),aa=n(493),ia=n(189),sa=n.n(ia),ra=n(484),ca=n(494),oa=n(242),la=n(475);n(323);var ua=function(e){var t=e.children,n=e.open,a=e.closeFunction;return Object(d.jsx)(Lt.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:n,onClose:a,closeAfterTransition:!0,BackdropProps:{timeout:500},className:"centered",children:Object(d.jsx)("div",{className:"modal_container",children:t})})},da=n(449);var ha=function(e){var t=e.user,n=Object(a.useState)(!1),i=Object(c.a)(n,2),s=i[0],r=i[1],o=Object(a.useState)([]),l=Object(c.a)(o,2),h=l[0],b=l[1],m=Object(a.useState)({}),f=Object(c.a)(m,2),g=f[0],v=f[1],O=Object(a.useRef)([]),x=Object(a.useState)(null),y=Object(c.a)(x,2),w=y[0],k=y[1],N=Object(a.useRef)(!1),I=Object(a.useState)(!1),C=Object(c.a)(I,2),_=C[0],S=C[1],T=Object(a.useState)(!1),z=Object(c.a)(T,2),A=z[0],P=z[1],L=Object(a.useState)(!1),E=Object(c.a)(L,2),q=E[0],D=E[1],R=Object(a.useState)(!1),M=Object(c.a)(R,2),F=M[0],B=M[1];function W(){return(W=Object(j.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAllRoles();case 2:n=e.sent,b(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){N.current||(t&&t.canI("manage_roles")&&(!function(){W.apply(this,arguments)}(),t.getCreatedCodesFromServer()),t.getInterestsField().loadFields(),t.getInterestsField().loadUserFieldsOfInterest(),N.current=!0)}),[t]),Object(a.useEffect)((function(){document.getElementById("content_container").style.overflow=F?"hidden":"",document.getElementById("content_container").scrollTop=0}),[F]),Object(d.jsxs)("div",{id:"info_section",children:[Object(d.jsx)("h2",{children:"Informazioni"}),Object(d.jsxs)("div",{className:"display_inline mt-3",children:[Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:"avatar_container",children:Object(d.jsxs)("h1",{style:{fontSize:"100px"},children:[t.getSurname()[0],t.getName()[0]]})})}),Object(d.jsxs)("div",{className:"m-3 centered",children:[Object(d.jsxs)("h4",{className:"name",children:[t&&t.getSurname()," ",t&&t.getName()]}),Object(d.jsx)("p",{className:"username thin",children:t&&t.getUsername()}),Object(d.jsxs)("div",{className:"",children:[Object(d.jsx)(la.a,{label:"Ruoli",className:"my_chip bounce",onClick:function(){return P(!0)}}),Object(d.jsx)(la.a,{label:"Campi d'interesse",className:"my_chip",onClick:function(){return D(!0)}}),Object(d.jsx)(la.a,{label:"Statistiche",className:"my_chip",onClick:function(){return B(!0)}})]})]})]}),Object(d.jsxs)(Ie.a,{className:"mt-3",children:[Object(d.jsxs)(u.a,{md:"6",children:[Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",fullWidth:!0,multiline:!0,label:"Nome",variant:"outlined",value:t&&t.getName(),onChange:function(e){t&&t.setName(e.target.value),S(!0)}}),Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",fullWidth:!0,multiline:!0,label:"Email",variant:"outlined",value:t&&t.getEmail(),contentEditable:!1,onChange:function(e){t&&t.setEmail(e.target.value),S(!0)}})]}),Object(d.jsxs)(u.a,{md:"6",children:[Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",fullWidth:!0,multiline:!0,label:"Cognome",variant:"outlined",type:"date",value:t&&t.getSurname(),onChange:function(e){t&&t.setSurname(e.target.value),S(!0)}}),Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",fullWidth:!0,label:"Compleanno",variant:"outlined",type:"date",InputLabelProps:{shrink:!0},value:t&&t.getBirthday(),onChange:function(e){t&&t.setBirthday(e.target.value),S(!0)}})]})]}),_?Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)("button",{className:"button m-3",onClick:function(){t&&t.putInfo(),S(!1)},children:"Salva"})}):"",Object(d.jsx)(u.a,{children:Object(d.jsxs)("div",{className:"block mt-3 p-4",children:[Object(d.jsx)("h3",{children:"Codice d'invito"}),Object(d.jsx)("p",{children:"Lorem Ipsum \xe8 un testo segnaposto utilizzato nel settore della tipografia e della stampa. Lorem Ipsum \xe8 considerato il testo segnaposto standard sin dal sedicesimo secolo, quando un anonimo tipografo prese una cassetta di caratteri."}),Object(d.jsx)("br",{}),Object(d.jsxs)(Ie.a,{children:[Object.values(t.getRole()).map((function(e){return e.slug})).includes("super-admin")?Object(d.jsxs)(u.a,{md:"6",children:[Object(d.jsx)("h6",{children:"Scegli i ruoli"}),Object(d.jsx)(na.a,{children:h.map((function(e){return"super-admin"!=e.slug?Object(d.jsx)(aa.a,{control:Object(d.jsx)(vn.a,{className:"orange_icon",onChange:function(){O.current.indexOf(e.slug)>-1?O.current.splice(O.current.indexOf(e.slug),1):O.current.push(e.slug)}}),label:e.name}):""}))}),Object(d.jsx)("button",{className:"button",onClick:function(){t.generateCode(O.current).then((function(e){return r(!0)})).catch((function(e){return console.log(e)}))},children:"Genera codice"}),Object(d.jsx)("br",{}),s?Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(u.a,{md:"6",className:"display_inline mb-3",children:[Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",fullWidth:!0,multiline:!0,label:"Titolo",variant:"outlined",contentEditable:!1,value:t&&t.getCodiceInvito()}),Object(d.jsx)("div",{className:"centered m-2",children:Object(d.jsx)(St.a,{children:Object(d.jsx)(on.a,{className:"orange_icon",onClick:function(){return navigator.clipboard.writeText(t&&t.getCodiceInvito())}})})})]})}):""]}):"",Object.values(t.getRole()).map((function(e){return e.slug})).includes("super-admin")?Object(d.jsxs)(u.a,{md:"6",children:[Object(d.jsx)("h6",{children:"Codici non usati"}),t&&t.getCreatedCodes().map((function(e){return 0==(null===e||void 0===e?void 0:e.usages)?Object(d.jsxs)("div",{className:"display_inline",children:[Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",fullWidth:!0,multiline:!0,label:"Titolo",variant:"outlined",contentEditable:!1,value:e.code}),Object(d.jsx)("div",{className:"centered m-2",children:Object(d.jsx)(St.a,{children:Object(d.jsx)(on.a,{className:"orange_icon",onClick:function(){return navigator.clipboard.writeText(e.code)}})})}),Object(d.jsxs)("div",{className:"centered m-2",children:[Object(d.jsx)(St.a,{id:e.code,onMouseEnter:function(e){return k(e.currentTarget)},onMouseLeave:function(){return k(null)},children:Object(d.jsx)(sa.a,{className:"orange_icon"})}),Object(d.jsx)(ra.a,{id:"mouse-over-popover",open:(null===w||void 0===w?void 0:w.id)==e.code,anchorEl:w,sx:{pointerEvents:"none"},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:function(){return k(null)},disableRestoreFocus:!0,children:Object(d.jsx)("p",{children:e.roles})})]}),Object(d.jsx)("div",{className:"centered m-2",children:Object(d.jsx)(St.a,{children:Object(d.jsx)(_t.a,{className:"orange_icon",onClick:function(){return t.deleteCode(e.code).then((function(){return v({error:!1,message:"Eliminazione completata"})})).catch((function(){return v({error:!0,message:"Errore"})}))}})})})]}):""}))]}):Object(d.jsxs)(u.a,{children:[Object(d.jsx)("h6",{children:"Hai un codice?"}),Object(d.jsx)("input",{className:"input",placeholder:"Codice...",value:t&&t.getCodiceInvito(),onChange:function(e){return t&&t.setCodiceInvito(e.target.value)}}),Object(d.jsx)("button",{className:"button mx-auto",onClick:function(){t&&t.redeemCode().then((function(){return t.refreshToken().then((function(){t.setCodiceInvito(""),P(!0)}))})).catch((function(){return v({error:!0,message:"Codice non valido"})}))},children:"Attiva"})]})]})]})}),Object.keys(g).length?Object(d.jsx)(Zt,{isError:g.error,message:g.message,removeFunction:function(){return v({})}}):"",Object(d.jsx)(ua,{open:A,closeFunction:function(){return P(!1)},children:Object(d.jsx)(Re.a,{in:A,children:Object(d.jsxs)(ca.a,{className:"modal_redeem_code",children:[Object(d.jsx)(oa.a,{id:"transition-modal-title",variant:"h4",component:"h1",className:"text-center",children:"I tuoi Ruoli"}),Object(d.jsx)("br",{}),Object(d.jsx)(oa.a,{id:"transition-modal-description",sx:{mt:2},children:t&&t.getRole().map((function(e){return Object(d.jsx)(la.a,{label:e.slug,style:{color:"white",background:"var(--details_color)",margin:2}})}))}),Object(d.jsx)("br",{}),Object(d.jsx)(wt.a,{className:"close_modal",onClick:function(){return P(!1)}})]})})}),Object(d.jsx)(ua,{open:q,closeFunction:function(){return D(!1)},children:Object(d.jsx)(Re.a,{in:q,children:Object(d.jsx)("div",{children:Object(d.jsxs)(u.a,{md:"8",className:"mx-auto",children:[Object(d.jsx)("h1",{children:"I tuoi campi d'interesse"}),Object(d.jsx)("p",{style:{fontWeight:200},children:"Modificali in base ai tuoi gusti!"}),t&&t.getInterestsField().getFieldOfInterest().map((function(e){return Object(d.jsx)(la.a,{label:e.getName(),className:"my_chip"+(t.getInterestsField().getUserInterests().includes(e.getId())?" orange":""),onClick:function(){return function(e){t.getInterestsField().getUserInterests().includes(e.getId())?t.getInterestsField().removeUserFieldOfInterest(e.getId()):t.getInterestsField().addUserFieldOfInterest(e.getId())}(e)}})}))]})})})}),Object(d.jsx)(da.a,{in:F,children:Object(d.jsxs)("div",{id:"statistics",className:"text-center centered",children:[Object(d.jsx)(wt.a,{className:"close bounce",onClick:function(){return B(!1)}}),Object(d.jsx)("h5",{className:"subtitle",children:"LA TUA LEGA"}),Object(d.jsx)("h1",{className:"title",children:t&&t.getLeague()}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)(Ie.a,{children:[Object(d.jsxs)(u.a,{md:"4",className:"centered",children:[Object(d.jsx)("h5",{className:"subtitle bounce",children:"XP"}),Object(d.jsx)("h1",{className:"title bounce",children:t&&t.getXP()})]}),Object(d.jsx)(u.a,{md:"4"}),Object(d.jsxs)(u.a,{md:"4",className:"centered",children:[Object(d.jsx)("h5",{className:"subtitle bounce",children:"GIORNI CONSECUTIVI"}),Object(d.jsx)("h1",{className:"title bounce",children:t&&t.getConsecutiveDaysJoin()})]})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"ball one bounce"}),Object(d.jsx)("div",{className:"ball two bounce"}),Object(d.jsx)("div",{className:"ball three bounce"}),Object(d.jsx)("div",{className:"ball four bounce"}),Object(d.jsx)("div",{className:"ball five bounce"})]})]})})]})};function ja(e){var t=e.content,n=e.handleDelete,a=e.handleEdit,i=e.section,s=e.tag,r=s.createdTag,c=s.savedTag;return Object(d.jsxs)("div",{className:"list_item bounce",onClick:function(e){return a(e,t.exportInfo())},children:[i==r?Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"4",children:Object(d.jsx)("p",{className:"title",children:t&&t.getTitle()})}),Object(d.jsx)(u.a,{md:"4",children:Object(d.jsx)("p",{className:"date",children:t&&t.getPublishDate()})}),Object(d.jsx)(u.a,{md:"4",children:Object(d.jsxs)("div",{className:"display_inline text-right",children:[Object(d.jsx)(_t.a,{onClick:function(e){return n(e,t.getId())},className:"orange_icon m-1"}),Object(d.jsx)(Yn.a,{className:"orange_icon m-1"})]})})]}):i==c?Object(d.jsx)("p",{className:"title",children:t&&t.getTitle()}):"",Object(d.jsx)("hr",{})]})}var ba=function(e){var t=e.windowInfo,n=e.user,i=n.news,s=e.routes,r=Object(o.f)(),l="created",h="saved",j=Object(a.useState)(h),b=Object(c.a)(j,2),p=b[0],m=b[1],f=Object(a.useState)(!0),g=Object(c.a)(f,2),v=(g[0],g[1],Object(a.useState)({confirm:void 0,refute:void 0})),O=Object(c.a)(v,2),x=O[0],y=O[1],w=Object(a.useRef)(),k=Object(a.useRef)(new IntersectionObserver((function(){})));function N(e,t){p==l?r(s.news_creation.path,{state:{news:t}}):p==h&&r(Li.single_news.path+t.id)}function I(e,t){e.stopPropagation(),y({confirm:function(){p==l?i.removeNews(t,i.CREATED_NEWS_TAG):p==h&&i.removeNews(t,i.SAVED_NEWS_TAG)},refute:void 0})}return Object(a.useEffect)((function(){k.current.disconnect(),void 0!=w.current&&(k.current=new IntersectionObserver((function(e){e[0].isIntersecting&&(p==l&&n&&n.canI("create_news")?i.loadCreatedNews():p==h&&i.loadSavedNews())})),k.current.observe(w.current))}),[p,i.getSavedNews(),i.getCreatedNews()]),Object(d.jsxs)("div",{id:"news_section",children:[Object(d.jsxs)("div",{className:"space_between",children:[Object(d.jsx)("h2",{children:"News"}),n&&n.canI("create_news")?Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)(Jn.a,{className:"orange_icon",onClick:function(){r(s.news_creation.path)}})}):""]}),Object(d.jsx)("br",{}),Object(d.jsx)(u.a,{md:"6",className:"mx-auto",children:Object(d.jsx)("div",{className:"search_bar",children:Object(d.jsx)("input",{className:"my_input",placeholder:"Cerca..."})})}),Object(d.jsxs)(Kn.a,{value:p,onChange:function(e,t){return m(t)},scrollButtons:"auto",centered:!0,children:[Object(d.jsx)(Zn.a,{label:"Salvate",value:h}),n&&n.canI("create_news")?Object(d.jsx)(Zn.a,{label:"Create",value:l}):""]}),Object(d.jsxs)("div",{className:"items_container",id:"new_continer",children:[t.mobileMode?"":Object(d.jsx)("div",{className:"header",children:p==h?Object(d.jsx)(u.a,{md:"12",children:Object(d.jsx)("h6",{children:"Titolo"})}):Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"4",children:Object(d.jsx)("h6",{children:"Titolo"})}),Object(d.jsx)(u.a,{md:"4",children:Object(d.jsx)("h6",{children:"Data"})}),Object(d.jsx)(u.a,{md:"4",children:Object(d.jsx)("h6",{children:"Modifica"})})]})}),Object(d.jsx)("hr",{}),Object(d.jsxs)("div",{className:"list",children:[p==h?i&&Object.values(i.getSavedNews()).map((function(e){return Object(d.jsx)(ja,{section:p,tag:{createdTag:l,savedTag:h},content:e,handleDelete:I,handleEdit:N})})):p==l?i&&Object.values(i.getCreatedNews()).map((function(e){return Object(d.jsx)(ja,{section:p,content:e,tag:{createdTag:l,savedTag:h},handleDelete:I,handleEdit:N})})):"",p==l&&null==i.created_news_index||p==h&&null==i.saved_news_index?"":Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)("div",{ref:w,className:"loading"})})]})]}),Object(d.jsx)(Et,{action:x,closeFunction:function(){return y({confirm:void 0,refute:void 0})}})]})},pa=function(){function e(){Object(f.a)(this,e)}return Object(g.a)(e,[{key:"getUserPortal",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("accessToken"),n="",e.next=4,k.a.ajax({type:"GET",url:sr+"stripe/user_portal",accepts:"json",contentType:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)},success:function(e){return n=e}});case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getProducts",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("accessToken"),n=[],e.next=4,k.a.ajax({type:"GET",url:sr+"stripe/products",accepts:"json",contentType:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)},success:function(e){return n=e.products}});case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"checkout",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),a="",e.next=4,k.a.ajax({type:"POST",url:sr+"/stripe/check_out/"+t,accepts:"json",contentType:"json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},success:function(e){return a=e}});case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ma=pa;var fa=function(){var e=Object(a.useState)(new ma),t=Object(c.a)(e,2),n=t[0],i=(t[1],Object(a.useState)([])),s=Object(c.a)(i,2),r=s[0],o=s[1],l=Object(a.useState)(""),u=Object(c.a)(l,2),h=u[0],b=u[1],m=Object(a.useState)(!1),f=Object(c.a)(m,2),g=f[0],v=f[1];function O(){return(O=Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(!0),window.open(h,"blank");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(j.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,n.checkout(t);case 3:a=e.sent,window.open(a,"blank");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)(Object(j.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getProducts();case 2:return t=e.sent,o(t),e.next=6,n.getUserPortal();case 6:a=e.sent,b(a);case 8:case"end":return e.stop()}}),e)}))),[]),Object(d.jsxs)("div",{id:"payments",children:[Object(d.jsxs)("div",{className:"space_between",children:[Object(d.jsx)("h2",{className:"m-0 centered",children:"Abbonamento"}),Object(d.jsx)("div",{className:"centered",children:""!=h?Object(d.jsx)("button",{className:"button",onClick:function(){return O.apply(this,arguments)},children:"Info"}):""})]}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"grid",children:0!=r.length?r.map((function(e,t){return Object(d.jsxs)("div",{className:"block bounce m-2",onClick:function(){return function(e){return x.apply(this,arguments)}(e.price.id)},children:[Object(d.jsx)("h1",{className:"text-center",children:t+1}),Object(d.jsx)("h5",{className:"text-center",children:e.product_name}),Object(d.jsxs)("p",{className:"text-center m-0",children:[e.price.amount,"\u20ac"]})]})})):Object(d.jsxs)("div",{children:[Object(d.jsx)(Ue.a,{height:"100px",className:"m-0"}),Object(d.jsx)(Ue.a,{height:"100px"}),Object(d.jsx)(Ue.a,{height:"100px"})]})}),g?Object(d.jsx)(Zt,{removeFunction:function(){return v(!1)},isError:!1,message:"Caricamento..."}):""]})},ga=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;Object(f.a)(this,e),this.list=t,this.state=n,this.overrideState=a}return Object(g.a)(e,[{key:"setState",value:function(e){this.state=e,this.updateInfo()}},{key:"setOverrideState",value:function(e){this.overrideState=e,this.updateInfo()}},{key:"updateInfo",value:function(){void 0!=this.state?this.state(new e(this.list,this.state,this.overrideState)):void 0!=this.overrideState&&this.overrideState()}},{key:"getList",value:function(){return this.list}},{key:"setList",value:function(e){this.list=e,this.updateInfo()}},{key:"addQuestion",value:function(){var e=this,t=new Z,n=this.getList().length+1;t.setOverrideState(function(){return e.updateInfo()}.bind(this)),t.question.setId(n),this.list.push(t),this.updateInfo()}},{key:"removeQuestion",value:function(e){var t=this.list.indexOf(e);this.list.splice(t,1),this.updateInfo()}}]),e}(),va=ga;var Oa=function(){var e=Object(a.useState)(new va),t=Object(c.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){n.setState(i),n.addQuestion(),n.addQuestion(),n.addQuestion()}),[]),Object(d.jsxs)("div",{id:"question_section",children:[Object(d.jsx)("h2",{children:"Domande"}),Object(d.jsx)("p",{className:"thin",children:"Crea e gestisci le domande d'iscrizione."}),Object(d.jsx)(Sn.a,{onDragEnd:function(e){var t=n.getList(),a=t.splice(e.source.index,1),i=Object(c.a)(a,1)[0];t.splice(e.destination.index,0,i),n.setList(t)},children:Object(d.jsx)(Sn.c,{droppableId:"list",children:function(e){return Object(d.jsxs)("div",Object(l.a)(Object(l.a)({},e.droppableProps),{},{ref:e.innerRef,children:[n&&n.getList().map((function(e,t){return Object(d.jsx)(Sn.b,{draggableId:t.toString(),index:t,children:function(t){return Object(d.jsxs)("div",Object(l.a)(Object(l.a)(Object(l.a)({},t.draggableProps),t.dragHandleProps),{},{ref:t.innerRef,className:"block m-3",children:[Object(d.jsxs)("div",{className:"space_between header",children:[Object(d.jsx)("div",{className:"display_inline",children:Object(d.jsxs)("h5",{className:"m-0",children:["Domanda ",e.question.getId()]})}),Object(d.jsx)(_t.a,{onClick:function(){return n.removeQuestion(e)},className:"orange_icon"})]}),Object(d.jsx)(jn,{question:e})]}))}},t)})),e.placeholder]}))}})}),Object(d.jsx)("div",{className:"centered",children:Object(d.jsxs)("p",{onClick:function(){return n.addQuestion()},children:[Object(d.jsx)(Jn.a,{className:""})," Aggiungi"]})})]})},xa=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(f.a)(this,n),(e=t.call(this)).state=void 0,e.overrideState=void 0,e}return Object(g.a)(n,[{key:"setState",value:function(e){this.state=e}},{key:"setOverrideState",value:function(e){this.overrideState=e}},{key:"updateInfo",value:function(){if(void 0!=this.state){var e=new n;Object.assign(e,this),this.state(e)}else void 0!=this.overrideState&&this.overrideState()}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getCode",value:function(){return this.code}},{key:"getQuizNumber",value:function(){return this.quizNumber}},{key:"setId",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.id=e,t&&this.updateInfo()}},{key:"setName",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.name=e,t&&this.updateInfo()}},{key:"setCode",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.code=e,t&&this.updateInfo()}},{key:"setQuizNumber",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.quizNumber=e,t&&this.updateInfo()}},{key:"loadById",value:function(e){console.log(e)}},{key:"exportInfo",value:function(){return{id:this.id,name:this.name,code:this.code,quizNumber:this.quizNumber}}}]),n}(Object(g.a)((function e(){Object(f.a)(this,e),this.id="",this.name="",this.code="",this.quizNumber=""}))),ya=xa,wa=function(){function e(){Object(f.a)(this,e),this.quiz=[],this.list=[],this.state=void 0,this.overrideState=void 0}return Object(g.a)(e,[{key:"setState",value:function(e){this.state=e}},{key:"setOverrideState",value:function(e){this.overrideState=e}},{key:"updateInfo",value:function(){if(void 0!=this.state){var t=new e;Object.assign(t,this),this.state(t)}else void 0!=this.overrideState&&this.overrideState()}},{key:"getList",value:function(){return this.list}},{key:"getQuiz",value:function(){return this.quiz}},{key:"setList",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.list=e,t&&this.updateInfo()}},{key:"setQuiz",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.quiz=e,t&&this.updateInfo()}},{key:"addQuiz",value:function(){var e=this,t=new Z;t.question.setTitle("Nuovo quiz"),t.setOverrideState(function(){return e.updateInfo()}.bind(this)),this.quiz.push(t),this.updateInfo()}},{key:"deleteQuiz",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=window.localStorage.getItem("accessToken"),a=!1,""==t.question.getId()){e.next=5;break}return e.next=5,k.a.ajax({type:"DELETE",url:sr+"school/quiz/"+t.question.getId(),accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},error:function(){return a=!0}});case 5:if(!a){e.next=9;break}throw Error("Errore nell'eliminazione");case 9:i=this.quiz.indexOf(t),this.quiz.splice(i,1),this.updateInfo();case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteSchool",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),a=!1,e.next=4,k.a.ajax({type:"DELETE",url:sr+"school/"+t.getId(),accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},error:function(){return a=!0}});case 4:if(console.log("eliminato"),!a){e.next=9;break}throw Error("Errore nell'eliminazione");case 9:i=this.list.indexOf(t),this.list.splice(i,1),this.updateInfo();case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadList",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n,a,i,s,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("accessToken"),n={},a=!1,e.next=5,k.a.ajax({type:"GET",url:sr+"schools",accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)},success:function(e){return n=e.schools},error:function(){return a=!0}});case 5:i=Object(m.a)(n);try{for(i.s();!(s=i.n()).done;)r=s.value,(c=new ya).setId(r.slug),c.setName(r.schoolName),c.setCode(r.code),c.setQuizNumber(r.quizNumber),this.list.push(c)}catch(o){i.e(o)}finally{i.f()}return this.updateInfo(),e.abrupt("return",{error:a,info:n});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadQuiz",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n,a,i,s,r,c,o,l,u,d=this,h=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.length>0&&void 0!==h[0]&&h[0],t=window.localStorage.getItem("accessToken"),n={},a=!1,0!=this.quiz.length){e.next=9;break}return e.next=7,k.a.ajax({type:"GET",url:sr+"school/quiz",accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)},success:function(e){return n=e.quiz},error:function(){return a=!0}});case 7:i=Object(m.a)(n);try{for(i.s();!(s=i.n()).done;){r=s.value,(c=new Z).setOverrideState(function(){return d.updateInfo()}.bind(this)),c.question.setId(r.slug),c.question.setTitle(r.question),c.question.setImage(r.coverImageLink),o=Object(m.a)(r.answers);try{for(o.s();!(l=o.n()).done;)u=l.value,c.question.addChoice({title:u.answer,description:u.description},u.slug),u.isCorrect&&c.question.addSelectedChoice(u.slug)}catch(j){o.e(j)}finally{o.f()}this.quiz.push(c),this.updateInfo()}}catch(j){i.e(j)}finally{i.f()}case 9:return e.abrupt("return",{error:a,info:n});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"publishQuiz",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n,a,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="school",n=Object(m.a)(this.getQuiz()),e.prev=2,n.s();case 4:if((a=n.n()).done){e.next=11;break}return i=a.value,e.next=8,i.publish(t);case 8:e.sent;case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[2,13,16,19]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ka=wa,Na=n(459),Ia=n(495);var Ca=function(e){var t="list",n="quiz",i=Object(o.f)(),s=Object(a.useState)(t),r=Object(c.a)(s,2),l=r[0],h=r[1],b=Object(a.useState)(new ka),m=Object(c.a)(b,2),f=m[0],g=m[1],v=Object(a.useState)(""),O=Object(c.a)(v,2),x=O[0],y=O[1],w=Object(a.useState)({}),k=Object(c.a)(w,2),N=k[0],I=k[1],C=Object(a.useState)({confirm:void 0,refute:void 0}),_=Object(c.a)(C,2),S=_[0],T=_[1],z=e.user;function A(){return(A=Object(j.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I({error:!1,message:"Pubblicazione in corso..."}),t.publish("school").then((function(){return I({error:!1,message:"Pubblicazione completata"})})).catch((function(e){I({error:!0,message:"Errore"}),console.warn(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){f.setState(g),z&&z.canI("create_school")&&f.loadList()}),[]),Object(a.useEffect)((function(){l==n&&z&&z.canI("create_school")&&f.loadQuiz()}),[l]),Object(a.useEffect)((function(){z&&(z.canI("create_school")||i(Ja.home.path))}),[z]),Object(d.jsxs)("div",{id:"school_section",children:[Object(d.jsxs)("div",{className:"space_between",children:[Object(d.jsx)("h2",{children:"Scuola"}),l==t&&z&&z.canI("create_school")?Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)(Jn.a,{className:"orange_icon",onClick:function(){i(Ja.school_creation.path)}})}):""]}),Object(d.jsxs)(Na.a,{value:l,onChange:function(e,t){return h(t)},scrollButtons:"auto",children:[Object(d.jsx)(Ia.a,{label:"Scuole",value:t}),Object(d.jsx)(Ia.a,{label:"Quiz",value:n})]}),Object(d.jsx)("br",{}),l==t?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"6",children:Object(d.jsx)("h5",{children:"Nome"})}),Object(d.jsx)(u.a,{md:"3",children:Object(d.jsx)("h5",{children:"Codice"})})]}),Object(d.jsx)("div",{className:"list_container m-2",children:f.getList().map((function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(Ie.a,{className:"bounce",onClick:function(){return function(e){i(Ja.school_creation.path,{state:{school:e.exportInfo()}})}(e)},children:[Object(d.jsx)(u.a,{md:"6",children:Object(d.jsx)("p",{className:"m-0",children:e.getName()})}),Object(d.jsx)(u.a,{md:"4",children:Object(d.jsx)("p",{className:"m-0",children:e.getCode()})}),Object(d.jsxs)(u.a,{md:"2",children:[Object(d.jsx)(_t.a,{className:"orange_icon",onClick:function(t){return function(e,t){e.stopPropagation(),T({confirm:function(){return f.deleteSchool(t)},refute:void 0})}(t,e)}}),Object(d.jsx)(st.a,{className:"orange_icon m-0"})]})]}),Object(d.jsx)("hr",{})]})}))})]}):Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"block",children:[Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"8",children:Object(d.jsx)("h5",{children:"Quiz"})}),Object(d.jsx)(u.a,{md:"4",children:Object(d.jsx)("input",{className:"input",placeholder:"Cerca...",value:x,onChange:function(e){return y(e.target.value)}})})]}),Object(d.jsx)("br",{}),f.getQuiz().map((function(e){return e.question.getTitle().includes(x)?Object(d.jsxs)(mn.a,{className:"accordion",children:[Object(d.jsx)(fn.a,{expandIcon:Object(d.jsx)(wn.a,{className:"orange_icon"}),children:Object(d.jsxs)("div",{className:"space_between",style:{width:"100%"},children:[Object(d.jsx)("h6",{className:"m-2",children:e.question.getTitle()}),Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)(_t.a,{className:"orange_icon",onClick:function(t){return function(e,t){e.stopPropagation(),T({confirm:function(){return f.deleteQuiz(t)},refute:void 0})}(t,e)}})})]})}),Object(d.jsxs)(gn.a,{children:[Object(d.jsx)(jn,{question:e}),Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)("button",{className:"button",onClick:function(){return function(e){return A.apply(this,arguments)}(e)},children:"Salva"})})]}),Object(d.jsx)("br",{}),Object(d.jsx)("hr",{}),Object(d.jsx)("br",{})]}):""})),Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)("button",{className:"button",onClick:function(){return f.addQuiz()},children:"Aggiungi domanda"})})]})}),void 0!=N.error?Object(d.jsx)(Zt,{error:N.error,message:N.message,removePopup:function(){return I({})}}):"",Object(d.jsx)(Et,{action:S,closeFunction:function(){return T({confirm:void 0,refute:void 0})}})]})};var _a=function(e){var t=Object(a.useState)(1),n=Object(c.a)(t,2),i=n[0],s=n[1],r=Object(a.useState)(""),l=Object(c.a)(r,2),h=l[0],b=l[1],m=Object(a.useState)(new $t),f=Object(c.a)(m,2),g=f[0],v=f[1],O=Object(a.useState)(new S),x=Object(c.a)(O,2),y=x[0],w=x[1],k=Object(a.useState)(new qn),N=Object(c.a)(k,2),I=N[0],C=N[1],_=Object(a.useState)(!0),T=Object(c.a)(_,2),z=T[0],A=T[1],P=Object(a.useState)(""),L=Object(c.a)(P,2),E=L[0],q=L[1],D=Object(a.useState)(""),R=Object(c.a)(D,2),M=R[0],F=R[1],B=Object(a.useState)([]),W=Object(c.a)(B,2),V=W[0],H=W[1],G=Object(a.useState)([]),Y=Object(c.a)(G,2),Q=Y[0],J=Y[1],K=Object(a.useState)({confirm:void 0,refute:void 0}),Z=Object(c.a)(K,2),X=Z[0],$=Z[1],ee=Object(o.f)(),te=e.user,ne=e.routes;return Object(a.useEffect)(Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""==E){e.next=6;break}return e.t0=H,e.next=4,y.getTagPerField(E);case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)}))),[E]),Object(a.useEffect)(Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""==M){e.next=6;break}return e.t0=J,e.next=4,g.getTagPerArgument(M);case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)}))),[M]),Object(a.useEffect)(Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g.setState(v),y.setState(w),I.setState(C),!te||!te.canI("create_tag")){e.next=10;break}return e.next=6,g.loadTags();case 6:return e.next=8,y.loadFields();case 8:return e.next=10,I.loadArguments();case 10:A(!1);case 11:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){te&&(te.canI("create_tag")||ee(ne.home.path))}),[te]),Object(d.jsxs)("div",{className:"tag_field",children:[Object(d.jsx)("h1",{children:"Tag & Field"}),Object(d.jsx)("p",{style:{fontWeight:200},children:"Creazione dei campi di interesse e dei tag."}),Object(d.jsxs)(Kn.a,{value:i,onChange:function(e,t){return s(t)},scrollButtons:"auto",children:[Object(d.jsx)(Zn.a,{label:"Tag",value:1}),Object(d.jsx)(Zn.a,{label:"Campi d'interesse",value:2}),Object(d.jsx)(Zn.a,{label:"Link",value:3})]}),Object(d.jsx)(Ie.a,{className:"content",children:Object(d.jsxs)(u.a,{className:"mx-auto",children:[Object(d.jsx)(u.a,{md:"6",className:"mx-auto",children:[1,2].includes(i)?Object(d.jsx)("input",{className:"input",placeholder:"Nuovo tag",value:h,onChange:function(e){return b(e.target.value)},onKeyDown:function(e){return function(e){"Enter"==e.key&&(1==i?g.create(h):2==i&&y.create(h),b(""))}(e)}}):""}),Object(d.jsxs)("div",{children:[1==i?g.getList().map((function(e){return Object(d.jsx)(et.a,{className:"my_chip",label:e.getName(),onDelete:function(){return $({confirm:function(){return g.delete(e.getId())},refute:void 0})}})})):2==i?y.getFieldOfInterest().map((function(e){return Object(d.jsx)(et.a,{className:"my_chip",label:e.getName(),onDelete:function(){return $({confirm:function(){return y.delete(e.getId())},refute:void 0})}})})):"",Object(d.jsx)("br",{}),z?"":1==i?0==g.getList().length?Object(d.jsx)("p",{className:"text-center",children:"Non sono stati caricati tag"}):"":2==i?0==y.getFieldOfInterest().length?Object(d.jsx)("p",{className:"text-center",children:"Non sono stati caricati campi"}):"":3==i?Object(d.jsxs)("div",{children:[Object(d.jsx)("h5",{children:"Link fra campi e tag"}),Object(d.jsxs)(Ie.a,{children:[Object(d.jsxs)(u.a,{md:"6",children:[Object(d.jsx)("p",{className:"m-0",children:"Campo"}),Object(d.jsx)(en.a,{value:E,variant:"standard",className:"input",label:"Campo",children:y.getFieldOfInterest().map((function(e){return Object(d.jsx)(tn.a,{value:e.getId(),onClick:function(){return q(e.getId())},children:Object(d.jsx)(an.a,{primary:e.getName()})},e.getId())}))})]}),Object(d.jsxs)(u.a,{md:"6",children:[Object(d.jsx)("p",{className:"m-0",children:"Tag"}),Object(d.jsx)(en.a,{renderValue:function(e){return e.map((function(e){return e.getName()})).join(", ")},multiple:!0,value:V,variant:"standard",className:"input",label:"Tag",children:g.getList().map((function(e){return Object(d.jsxs)(tn.a,{onClick:function(){return function(e,t){if(""!=E)if(t)H([].concat(Object(U.a)(V),[e])),e.linkFieldToTag(E);else{var n=V.map((function(e){return e.getId()})).indexOf(e.id);n>=0&&(V.splice(n,1),H(Object(U.a)(V))),e.unlinkFieldToTag(E)}}(e,!V.map((function(e){return e.getId()})).includes(e.getId()))},children:[Object(d.jsx)(nn.a,{className:"orange_icon",checked:V.map((function(e){return e.getId()})).includes(e.getId())}),Object(d.jsx)(an.a,{primary:e.getName()})]})}))})]})]}),Object(d.jsx)("br",{}),Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)("h5",{children:"Link fra academy e tag"}),Object(d.jsxs)(u.a,{md:"6",children:[Object(d.jsx)("p",{className:"m-0",children:"Argomento"}),Object(d.jsx)(en.a,{value:M,variant:"standard",className:"input",label:"Categoria",children:Object.values(I.getArguments().getChoices()).map((function(e){return Object(d.jsx)(tn.a,{value:e.slug,onClick:function(){return F(e.slug)},children:Object(d.jsx)(an.a,{primary:e.title})},e.slug)}))})]}),Object(d.jsxs)(u.a,{md:"6",children:[Object(d.jsx)("p",{className:"m-0",children:"Tag"}),Object(d.jsx)(en.a,{renderValue:function(e){return e.map((function(e){return e.getName()})).join(", ")},multiple:!0,value:Q,variant:"standard",className:"input",label:"Tag",children:g.getList().map((function(e){return Object(d.jsxs)(tn.a,{onClick:function(){return function(e,t){if(""!=M)if(t)J([].concat(Object(U.a)(Q),[e])),e.linkTagToArg(M);else{var n=Q.map((function(e){return e.getId()})).indexOf(e.id);n>=0&&(Q.splice(n,1),J(Object(U.a)(Q))),e.unlinkTagToArg(M)}}(e,!Q.map((function(e){return e.getId()})).includes(e.getId()))},children:[Object(d.jsx)(nn.a,{className:"orange_icon",checked:Q.map((function(e){return e.getId()})).includes(e.getId())}),Object(d.jsx)(an.a,{primary:e.getName()})]})}))})]})]})]}):""]})]})}),Object(d.jsx)(Et,{action:X,closeFunction:function(){return $({confirm:void 0,refute:void 0})}})]})};function Sa(e){var t=e.content,n=e.webinarList,a=e.routes,i=Object(o.f)(),s=e.confirmInfo,r=(s.confirmInfo,s.setConfirmInfo);return Object(d.jsxs)("div",{className:"list_item bounce",onClick:function(){i(a.webinar_creation.path,{state:{webinarId:t.getId()}})},children:[Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"3",children:Object(d.jsx)("p",{className:"title",children:t&&t.getTitle()})}),Object(d.jsx)(u.a,{md:"3",children:Object(d.jsx)("p",{className:"date",children:t&&t.getDate()})}),Object(d.jsx)(u.a,{md:"3",children:Object(d.jsx)("p",{className:"category",children:t&&t.getAuthors()})}),Object(d.jsx)(u.a,{md:"3",children:Object(d.jsxs)("div",{className:"display_inline",children:[Object(d.jsx)(_t.a,{className:"orange_icon m-1",onClick:function(e){return function(e){e.stopPropagation(),r({confirm:function(){return n.deleteWebinar(t)},refute:void 0})}(e)}}),Object(d.jsx)(Yn.a,{className:"orange_icon m-1"})]})})]}),Object(d.jsx)("hr",{})]})}var Ta=function(e){var t=e.user,n=e.windowInfo,i=e.routes,s=t.webinar,r=Object(o.f)(),l="created",h=Object(a.useState)(l),j=Object(c.a)(h,2),b=j[0],p=(j[1],Object(a.useState)({confirm:void 0,refute:void 0})),m=Object(c.a)(p,2),f=m[0],g=m[1],v=Object(a.useState)(!0),O=Object(c.a)(v,2),x=O[0],y=O[1];return Object(a.useEffect)((function(){x&&void 0!=s&&(t&&t.canI("create_webinar")&&s.loadCreatedWebinar(),s.loadSavedWebinar(),y(!1))}),[s]),Object(a.useEffect)((function(){t&&(t.canI("create_webinar")||r(i.home.path))}),[t]),Object(d.jsxs)("div",{id:"webinar_section",children:[Object(d.jsxs)("div",{className:"space_between",children:[Object(d.jsx)("h2",{children:"Webinar"}),t&&t.canI("create_webinar")?Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)(Jn.a,{className:"orange_icon",onClick:function(){r(i.webinar_creation.path)}})}):""]}),Object(d.jsx)(u.a,{md:"6",className:"mx-auto",children:Object(d.jsx)("div",{className:"search_bar mt-4",children:Object(d.jsx)("input",{placeholder:"Cerca..."})})}),Object(d.jsxs)("div",{className:"items_container",children:[n.mobileMode?"":Object(d.jsx)("div",{className:"header",children:Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"3",children:Object(d.jsx)("h6",{children:"Titolo"})}),Object(d.jsx)(u.a,{md:"3"}),Object(d.jsx)(u.a,{md:"3"}),Object(d.jsx)(u.a,{md:"3",children:Object(d.jsx)("h6",{children:"Modifica"})})]})}),Object(d.jsx)("hr",{}),Object(d.jsx)("div",{className:"list",children:"saved"==b?s&&Object.values(s.getSavedWebinar()).map((function(e){return Object(d.jsx)(Sa,{confirmInfo:{confirmInfo:f,setConfirmInfo:g},content:e,webinarList:s,routes:i})})):b==l?s&&Object.values(s.getCreatedWebinar()).map((function(e){return Object(d.jsx)(Sa,{confirmInfo:{confirmInfo:f,setConfirmInfo:g},content:e,webinarList:s,routes:i})})):""})]}),Object(d.jsx)(Et,{action:f,closeFunction:function(){return g({confirm:void 0,refute:void 0})}})]})},za="/dashboard/account/",Aa={info:{path:za+"",url:"",component:function(e){return Object(d.jsx)(ha,Object(l.a)({},e))}},payments:{path:za+"payments",url:"payments",component:function(e){return Object(d.jsx)(fa,Object(l.a)({},e))}},news:{path:za+"news",url:"news",component:function(e){return Object(d.jsx)(ba,Object(l.a)({},e))}},academy:{path:za+"academy",url:"academy",component:function(e){return Object(d.jsx)($n,Object(l.a)({},e))}},course:{path:za+"course",url:"course",component:function(e){return Object(d.jsx)(ta,Object(l.a)({},e))}},webinar:{path:za+"webinar",url:"webinar",component:function(e){return Object(d.jsx)(Ta,Object(l.a)({},e))}},school:{path:za+"school",url:"school",component:function(e){return Object(d.jsx)(Ca,Object(l.a)({},e))}},tag:{path:za+"tag",url:"tag",component:function(e){return Object(d.jsx)(_a,Object(l.a)({},e))}},question:{path:za+"question",url:"question",component:function(e){return Object(d.jsx)(Oa,Object(l.a)({},e))}}},Pa=n(440),La=n(214),Ea=n.n(La),qa=(n(324),n.p+"static/media/perplexed.0f07b6c7.gif");var Da=function(e){var t=Object(a.useState)(!0),n=Object(c.a)(t,2),i=n[0],s=n[1];return console.log(e),Object(a.useEffect)((function(){setTimeout((function(){return s(!1)}),3e3),setTimeout((function(){return k()("#content_container").animate({scrollTop:600},1500)}),4800)}),[]),Object(d.jsx)("div",{id:"error_page",className:"centered",children:i?Object(d.jsx)(Ea.a,{typingDelay:500,speed:200,text:["Mmm..."],displayTextRenderer:function(e,t){return Object(d.jsxs)("h1",{className:"title text-center",children:["\xa0",e.split("").map((function(e,t){var n="".concat(t);return Object(d.jsx)("span",{children:e},n)}))]})}}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Pa.a,{timeout:2e3,in:!i,children:Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{className:"text-center title",children:"Errore 404"}),Object(d.jsx)("br",{}),Object(d.jsx)("img",{className:"img-fluid",src:qa})]})}),Object(d.jsx)("br",{}),Object(d.jsx)(Pa.a,{in:!i,timeout:2e3,style:{transitionDelay:"2.3s"},children:Object(d.jsxs)("h1",{className:"text-center",children:["Questa pagina",Object(d.jsx)("br",{}),"non esiste"]})})]})})};var Ra=function(e){var t=e.children;return Object(d.jsxs)(o.c,{children:[t,Object(d.jsx)(o.a,{path:"*",element:Object(d.jsx)(Da,{})})]})};var Ma=function(e){var t=Object(o.f)(),n=Object(o.g)()["*"],i=e.user,s=e.windowInfo,r=Object(a.useState)(!1),l=Object(c.a)(r,2),h=l[0],j=l[1],b="payments",p="news",m="academy",f="course",g="webinar",v="school",O="question";return Object(d.jsxs)("div",{className:"account_page",children:[s.mobileMode?"":Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("br",{}),Object(d.jsx)("br",{})]}),Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"3",children:Object(d.jsx)("div",{className:"sidebar",children:s.mobileMode?Object(d.jsxs)(mn.a,{expanded:h,className:"mobile_menu",children:[Object(d.jsx)(Vn.a,{onClick:function(){return j(!h)},expandIcon:Object(d.jsx)(Un.a,{className:"orange_icon"}),children:Object(d.jsx)("h3",{className:"m-0",children:"Menu"})}),Object(d.jsx)(gn.a,{children:Object(d.jsxs)("div",{onClick:function(){return j(!1)},children:[Object(d.jsx)("p",{className:""==n?"menu_item bounce selected":"menu_item bounce",onClick:function(){return t(Aa.info.path)},children:"Informazioni"}),Object(d.jsx)("p",{className:n==b?"menu_item bounce selected":"menu_item bounce",onClick:function(){return t(Aa.payments.path)},children:"Payments"}),Object(d.jsx)("p",{className:n==p?"menu_item bounce selected":"menu_item bounce",onClick:function(){return t(Aa.news.path)},children:"News"}),Object(d.jsx)("p",{className:n==m?"menu_item bounce selected":"menu_item bounce",onClick:function(){return t(Aa.academy.path)},children:"Academy"}),Object(d.jsx)("p",{className:n==f?"menu_item bounce selected":"menu_item bounce",onClick:function(){return t(Aa.course.path)},children:"Corsi"}),Object(d.jsx)("p",{className:n==g?"menu_item bounce selected":"menu_item bounce",onClick:function(){return t(Aa.webinar.path)},children:"Webinar"}),Object(d.jsx)("p",{className:n==v?"menu_item bounce selected":"menu_item bounce",onClick:function(){return t(Aa.school.path)},children:"Scuola"}),Object(d.jsx)("p",{className:"tag"==n?"menu_item bounce selected":"menu_item bounce",onClick:function(){return t(Aa.tag.path)},children:"Tag & Field"}),Object(d.jsx)("p",{className:n==O?"menu_item bounce selected":"menu_item bounce",onClick:function(){return t(Aa.question.path)},children:"Domande"})]})})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{children:"Menu"}),Object(d.jsx)("p",{className:""==n?"menu_item bounce selected":"menu_item bounce",onClick:function(){return t(Aa.info.path)},children:"Informazioni"}),Object(d.jsx)("p",{className:n==b?"menu_item bounce selected":"menu_item bounce",onClick:function(){return t(Aa.payments.path)},children:"Abbonamento"}),Object(d.jsx)("p",{className:n==p?"menu_item bounce selected":"menu_item bounce",onClick:function(){return t(Aa.news.path)},children:"News"}),Object(d.jsx)("p",{className:n==m?"menu_item bounce selected":"menu_item bounce",onClick:function(){return t(Aa.academy.path)},children:"Academy"}),i&&i.canI("create_course")?Object(d.jsx)("p",{className:n==f?"menu_item bounce selected":"menu_item bounce",onClick:function(){return t(Aa.course.path)},children:"Corsi"}):"",i&&i.canI("create_webinar")?Object(d.jsx)("p",{className:n==g?"menu_item bounce selected":"menu_item bounce",onClick:function(){return t(Aa.webinar.path)},children:"Webinar"}):"",i&&i.canI("create_school")?Object(d.jsx)("p",{className:n==v?"menu_item bounce selected":"menu_item bounce",onClick:function(){return t(Aa.school.path)},children:"Scuola"}):"",i&&i.canI("manage_tag")?Object(d.jsx)("p",{className:"tag"==n?"menu_item bounce selected":"menu_item bounce",onClick:function(){return t(Aa.tag.path)},children:"Tag & Field"}):"",Object(d.jsx)("p",{className:n==O?"menu_item bounce selected":"menu_item bounce",onClick:function(){return t(Aa.question.path)},children:"Domande"})]})})}),Object(d.jsx)(u.a,{md:"7",className:"content",children:Object(d.jsx)(Ra,{children:Object.values(Aa).map((function(e){return Object(d.jsx)(o.a,{path:e.url,element:e.component({routes:Ja,user:i,windowInfo:s})})}))})})]}),Object(d.jsx)("br",{})]})},Fa=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new le,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;Object(f.a)(this,e),this.webinar=n,this.webinar.setOverrideState(function(){return t.updateInfo()}.bind(this)),this.state=a,this.overrideState=i}return Object(g.a)(e,[{key:"setState",value:function(e){this.state=e}},{key:"setOverrideState",value:function(e){this.overrideState=e}},{key:"updateInfo",value:function(){void 0!=this.state?this.state(new e(this.webinar,this.state,this.overrideState)):void 0!=this.overrideState&&this.overrideState()}},{key:"publish",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n,a,i,s=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("accessToken"),n="",a="",""!=this.webinar.getId()?(n="PUT",a="webinar/"+this.webinar.getId()):(n="POST",a="webinars"),i=new FormData,"https"==this.webinar.getWallpaper().slice(0,5)?i.append("picture",this.webinar.getWallpaper()):i.append("picture",J(this.webinar.getWallpaper())),i.append("title",this.webinar.getTitle()),i.append("description",this.webinar.getDescription()),i.append("society",this.webinar.getSociety()),i.append("societyLink",this.webinar.getSocietyLink()),i.append("guest",this.webinar.getGuest()),i.append("guestLink",this.webinar.getGuestLink()),i.append("liveDatetime",this.webinar.getDate()),i.append("isFree",this.webinar.getIsFree()),i.append("eventId",this.webinar.getEventId()),i.append("eventVideoIframe",this.webinar.getEventVideoIframe()),i.append("eventChatIframe",this.webinar.getEventChatIframe()),i.append("finalVideoIframe",this.webinar.getFinalVideoIframe()),i.append("finalVideoId",this.webinar.getFinalVideoId()),e.next=21,k.a.ajax({type:n,url:sr+a,contentType:!1,accepts:!1,processData:!1,beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+t)},data:i,success:function(e){return s.webinar.setId(e.slug)}});case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ba=Fa;n(325);var Wa=function(e){var t=Object(a.useState)(new Ba),n=Object(c.a)(t,2),i=n[0],s=n[1],r=Object(a.useState)("text"),l=Object(c.a)(r,2),h=l[0],j=l[1],b=Object(a.useState)(),p=Object(c.a)(b,2),m=p[0],f=p[1],g=Object(o.e)().state,v=Object(o.f)(),O=e.user,x=e.routes;return Object(a.useEffect)((function(){if(i.setState(s),void 0!=g){var e=g.webinarId;i.webinar.loadById(e)}}),[]),Object(a.useEffect)((function(){O&&(O.canI("create_webinar")||v(x.home.path))}),[O]),Object(d.jsxs)("div",{id:"webinar_creation",className:"container",children:[Object(d.jsx)("div",{className:"wallpaper_container block",children:void 0!=i&&""!=i.webinar.getWallpaper()?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("img",{src:i.webinar.getWallpaper(),className:"wallpaper"}),Object(d.jsx)(wt.a,{className:"remove_wallpaper bounce",onClick:function(){return i.webinar.setWallpaper("")}})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("label",{className:"select_wallpaper",htmlFor:"wallpaper_input",children:Object(d.jsx)("img",{src:Dt,className:"img-fluid bounce wallpapaer_picker_image"})}),Object(d.jsx)("input",{id:"wallpaper_input",accept:"image/*",type:"file",onChange:function(e){return function(e){if(void 0!=e){var t=e.target,n=new FileReader;n.onload=function(){var e=n.result;i.webinar.setWallpaper(e)},n.readAsDataURL(t.files[0])}}(e)}})]})}),Object(d.jsxs)(u.a,{md:"8",className:"mx-auto",children:[Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"input",type:h,onFocus:function(){return j("datetime-local")},onBlur:function(){return j("text")},placeholder:"Data",value:i.webinar.getDate(),onChange:function(e){return i.webinar.setDate(e.target.value)}}),Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",label:"Titolo",fullWidth:!0,variant:"outlined",value:i.webinar.getTitle(),onChange:function(e){return i.webinar.setTitle(e.target.value)}}),Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",label:"Descrizione",fullWidth:!0,variant:"outlined",value:i.webinar.getDescription(),onChange:function(e){return i.webinar.setDescription(e.target.value)}}),Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",label:"Id evento",fullWidth:!0,variant:"outlined",value:i.webinar.getEventId(),onChange:function(e){return i.webinar.setEventId(e.target.value)}}),Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"6",children:Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",label:"Societ\xe0",fullWidth:!0,variant:"outlined",value:i.webinar.getSociety(),onChange:function(e){return i.webinar.setSociety(e.target.value)}})}),Object(d.jsx)(u.a,{md:"6",children:Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",label:"Link societ\xe0",fullWidth:!0,variant:"outlined",value:i.webinar.getSocietyLink(),onChange:function(e){return i.webinar.setSocietyLink(e.target.value)}})})]}),Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"6",children:Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",label:"Ospite",fullWidth:!0,variant:"outlined",value:i.webinar.getGuest(),onChange:function(e){return i.webinar.setGuest(e.target.value)}})}),Object(d.jsx)(u.a,{md:"6",children:Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",label:"Link ospite",fullWidth:!0,variant:"outlined",value:i.webinar.getGuestLink(),onChange:function(e){return i.webinar.setGuestLink(e.target.value)}})})]}),Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"6",children:Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",label:"Iframe video finale",fullWidth:!0,variant:"outlined",value:i.webinar.getFinalVideoIframe(),onChange:function(e){return i.webinar.setFinalVideoIFrame(e.target.value)}})}),Object(d.jsx)(u.a,{md:"6",children:Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",label:"Id video finale",fullWidth:!0,variant:"outlined",value:i.webinar.getFinalVideoId(),onChange:function(e){return i.webinar.setFInalVideoId(e.target.value)}})})]}),Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"6",children:Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",label:"Iframe video",fullWidth:!0,variant:"outlined",value:i.webinar.getEventVideoIframe(),onChange:function(e){return i.webinar.setEventVideoIframe(e.target.value)}})}),Object(d.jsx)(u.a,{md:"6",children:Object(d.jsx)(Gt.a,{className:"my_input",margin:"normal",label:"Chat iframe",fullWidth:!0,variant:"outlined",value:i.webinar.getEventChatIframe(),onChange:function(e){return i.webinar.setEventChatIframe(e.target.value)}})})]}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"text-center",children:[Object(d.jsx)(vn.a,{className:"orange_icon",checked:i.webinar.getIsFree(),value:i.webinar.getIsFree(),onChange:function(){return i.webinar.setIsFree(!i.webinar.setIsFree())}}),"Free ",Object(d.jsx)("br",{}),Object(d.jsx)("button",{className:"button bounce",onClick:function(){var e=i.webinar.checkContentValidity();e.error?f(e):(f({error:!1,message:"Pubblicazione in corso..."}),i.publish(f(e)).then((function(){return f({error:!1,message:"Pubblicazione completata"})})).catch((function(e){console.warn(e),f({error:!0,message:"Errore, riprovare"})})))},children:"Pubblica"})]})]}),m?Object(d.jsx)(Zt,{isError:m.error,message:m.message,removeFunction:function(){f()}}):""]})},Va=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){return Object(f.a)(this,n),t.call(this)}return Object(g.a)(n,[{key:"updateInfo",value:function(){if(void 0!=this.state){var e=new n;Object.assign(e,this),this.state(e)}else void 0!=this.overrideState&&this.overrideState()}},{key:"postSchool",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a,i,s,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("accessToken"),a=void 0,i=!1,s="",r="",t?(s="PUT",r="school/"+this.getId()):(s="POST",r="schools"),e.next=8,k.a.ajax({type:s,url:sr+r,accepts:"application/json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Authorization","Bearer "+n)},data:JSON.stringify({schoolName:this.getName(),quizNumber:this.getQuizNumber(),code:this.getCode()}),success:function(e){return a=void 0==e.school?e:e.school},error:function(){return i=!0}});case 8:return e.abrupt("return",{error:i,info:a});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publish",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n,a,i,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=""!=this.getId(),e.next=3,this.postSchool(t);case 3:if(n=e.sent,a=n.error,i=n.info,!a){e.next=8;break}throw Error("Errore nella pubblicazione");case 8:s=!1,this.setId(i.slug,s),this.setName(i.schoolName,s),this.setCode(i.code,s),this.setQuizNumber(i.quizNumber,s),this.updateInfo();case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isContentValid",value:function(){return""==this.getName().replaceAll(" ","")?{error:!0,message:"Nome non inserito"}:""==this.getQuizNumber()||isNaN(this.getQuizNumber())||this.getQuizNumber()<0?{error:!0,message:"Numero quiz \xe8 minore di zero"}:{error:!1,message:"Nessun errore"}}}]),n}(ya),Ha=Va,Ua=n(451),Ga=n(470);n(326);var Ya=function(e){var t=e.user,n=e.routes,i=Object(o.e)().state,s=Object(o.f)(),r=Object(a.useState)(new Ha),l=Object(c.a)(r,2),h=l[0],j=l[1],b=Object(a.useState)(),p=Object(c.a)(b,2),m=p[0],f=p[1];return Object(a.useEffect)((function(){if(h.setState(j),void 0!=i){var e=i.school;h.setId(e.id),h.setName(e.name),h.setQuizNumber(e.quizNumber),h.setCode(e.code)}}),[]),Object(a.useEffect)((function(){t&&(t.canI("create_tag")||s(n.home.path))}),[t]),Object(d.jsxs)(Ua.a,{id:"school_creation",className:"creation",children:[Object(d.jsx)("div",{className:"space_between",children:Object(d.jsx)("h1",{children:"Informazioni scuola"})}),Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:!0,children:Object(d.jsx)(Ga.a,{className:"my_input",margin:"normal",fullWidth:!0,label:"Nome",variant:"outlined",value:h.getName(),onChange:function(e){return h.setName(e.target.value)}})}),Object(d.jsx)(u.a,{md:!0,children:Object(d.jsx)(Ga.a,{className:"my_input",type:"number",margin:"normal",fullWidth:!0,label:"Numero quiz",variant:"outlined",value:h.getQuizNumber(),onChange:function(e){return h.setQuizNumber(e.target.value)}})})]}),Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"3"}),Object(d.jsx)(u.a,{md:"6",children:Object(d.jsx)(Ga.a,{className:"my_input",type:"text",margin:"normal",fullWidth:!0,label:"Codice",variant:"outlined",value:h.getCode(),onChange:function(e){return h.setCode(e.target.value)}})}),Object(d.jsx)(u.a,{md:"3"})]}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)("button",{className:"button",onClick:function(){return function(){var e=h.isContentValid();e.error?f(e):(f({error:!1,message:"Creazione in corso..."}),h.publish().then((function(){f({error:!1,message:"Creazione completata"}),setTimeout((function(){return s(Aa.school.path)}),1e3)})).catch((function(e){console.warn(e),f({error:!0,message:"Errore, riprovare"})})))}()},children:"Pubblica"})}),void 0!=m?Object(d.jsx)(Zt,{isError:m&&m.error,message:m&&m.message,removeFunction:function(){return f()}}):""]})},Qa="/dashboard/account",Ja={home:{path:Qa,url:"*",component:function(e){return Object(d.jsx)(Ma,Object(l.a)({},e))}},course_creation:{path:Qa+"/create_course",url:"/create_course",component:function(e){return Object(d.jsx)(Ln,Object(l.a)({},e))}},module_creation:{path:Qa+"/create_module",url:"/create_module",component:function(e){return Object(d.jsx)(Wn,Object(l.a)({},e))}},news_creation:{path:Qa+"/create_news",url:"/create_news",component:function(e){return Object(d.jsx)(un,Object(l.a)({},e))}},webinar_creation:{path:Qa+"/webinar_creation",url:"/webinar_creation",component:function(e){return Object(d.jsx)(Wa,Object(l.a)({},e))}},school_creation:{path:Qa+"/school_creation",url:"/school_creation",component:function(e){return Object(d.jsx)(Ya,Object(l.a)({},e))}}};n(327);var Ka=function(e){var t=e.user,n=e.windowInfo;return Object(d.jsx)(Re.a,{in:!0,children:Object(d.jsx)("div",{id:"account_page",children:Object(d.jsx)(Ra,{children:Object.values(Ja).map((function(e){return Object(d.jsx)(o.a,{path:e.url,element:e.component({routes:Ja,user:t,windowInfo:n})})}))})})})};n(328);var Za=function(e){var t=e.content,n=e.addComment,i=e.removeComment,s=e.loadMore,r=e.noMore,o=e.user,l=Object(a.useState)(new L),u=Object(c.a)(l,2),h=u[0],j=u[1],b=Object(a.useState)(!1),p=Object(c.a)(b,2),m=p[0],f=p[1];function g(){""!=h.getContent()&&(h.setAuthor(o.getName()+" "+o.getSurname()),h.setAuthorUsername(o.getUsername()),f(!0),n(h.exportInfo()).then((function(){return f(!1)})),h.setContent(""))}return Object(a.useEffect)((function(){var e=new Date,t=e.getDate()+"/"+e.getMonth()+"/"+e.getFullYear();h.setState(j),h.setDate(t)}),[]),Object(d.jsxs)("div",{id:"comments_section",className:"mt-3",children:[Object(d.jsx)("h5",{className:"mb-3",children:"Commenti"}),0==t.length?Object(d.jsx)("p",{style:{fontWeight:200},children:"Non ci sono commenti"}):t.map((function(e){return Object(d.jsxs)("div",{className:"comment_item",children:[Object(d.jsxs)("div",{className:"title space_between",children:[Object(d.jsxs)("h6",{className:"info",children:["Di ",e.getAuthor()]}),e.getAuthorUsername()==o.getUsername()?Object(d.jsx)(_t.a,{className:"orange_icon",onClick:function(){return i(e.getId())}}):""]}),Object(d.jsx)("p",{className:"description m-0",children:e.getContent()}),Object(d.jsx)("hr",{})]})})),Object(d.jsx)("br",{}),r?"":Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)("p",{style:{color:"var(--details_color)"},onClick:s,children:"Mostra di pi\xf9"})}),Object(d.jsx)(Gt.a,{margin:"normal",className:"my_input",fullWidth:!0,label:"Aggiungi un commento",onKeyDown:function(e){return"Enter"==e.key?g():function(){}},value:h.getContent(),onChange:function(e){return h.setContent(e.target.value)}}),m?Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)("div",{className:"loading"})}):Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)("button",{className:"button",onClick:g,children:"Invia"})})]})},Xa=(n(329),n(452)),$a=n(171),ei=n.n($a),ti=n(170),ni=n.n(ti),ai=n(173),ii=n.n(ai),si=n(172),ri=n.n(si);var ci=function(e){var t=e.user,n=Object(o.g)().id,i=Object(o.f)(),s=Object(a.useState)(new W),r=Object(c.a)(s,2),l=r[0],h=r[1],b=Object(a.useState)(!0),m=Object(c.a)(b,2),f=m[0],g=m[1];function v(){l.getIsSaved()?l.unsaveNews():l.saveNews(),l.setIsSaved(!l.getIsSaved())}function O(){l.getIsLiked()?l.unlikeNews():l.likedNews(),l.setIsLiked(!l.getIsLiked())}return Object(a.useEffect)(Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.setState(h),e.prev=1,e.next=4,l.loadById(n);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),i(Li.single_news.path);case 9:g(!1),l.loadComments(n);case 11:case"end":return e.stop()}}),e,null,[[1,6]])}))),[]),Object(a.useEffect)((function(){void 0!=l&&l.setState(h)}),[l]),Object(d.jsx)(d.Fragment,{children:void 0==l?"":f?Object(d.jsxs)(Xa.a,{children:[Object(d.jsx)(Ue.a,{height:"300px"}),Object(d.jsx)(Ue.a,{height:"50px"}),Object(d.jsx)(Ue.a,{height:"50px"}),Object(d.jsx)(Ue.a,{height:"50px"}),Object(d.jsx)(Ue.a,{height:"50px"}),Object(d.jsx)(Ue.a,{height:"50px"}),Object(d.jsx)(Ue.a,{height:"50px"}),Object(d.jsx)(Ue.a,{height:"50px"})]}):Object(d.jsx)(Re.a,{in:!0,children:Object(d.jsxs)("div",{id:"single_news",children:[Object(d.jsx)("div",{className:"wallpaper_container block",children:f?"":Object(d.jsx)("img",{className:"wallpaper",src:l.getWallpaper()})}),Object(d.jsx)("br",{}),Object(d.jsx)(u.a,{md:"6 mx-auto",children:Object(d.jsx)("h1",{className:"title",children:l.getTitle()})}),Object(d.jsxs)(u.a,{md:"8 mx-auto",children:[Object(d.jsxs)("div",{className:"display_inline details_container mb-3 mt-2",children:[Object(d.jsx)("div",{className:"orange_rect",children:Object(d.jsxs)("h6",{children:["Di ",l.getAuthor()]})}),Object(d.jsx)("div",{className:"orange_rect",children:Object(d.jsx)("h6",{children:l.getPublishDate()})})]}),Object(d.jsx)("p",{className:"description",children:l.getDescription()})]}),void 0!=t?Object(d.jsxs)(u.a,{md:"8 mx-auto text-center",children:[l.getIsLiked()?Object(d.jsx)(ni.a,{onClick:O,className:"orange_icon bounce m-2"}):Object(d.jsx)(ei.a,{onClick:O,className:"orange_icon bounce m-2"}),l.getIsSaved()?Object(d.jsx)(ri.a,{onClick:v,className:"orange_icon bounce m-2"}):Object(d.jsx)(ii.a,{onClick:v,className:"orange_icon bounce m-2"})]}):"",Object(d.jsxs)(u.a,{md:"8 mx-auto",children:[Object(d.jsx)("hr",{}),Object(d.jsx)("div",{style:{fontWeight:200},dangerouslySetInnerHTML:{__html:Wt.a.createValueFromString(l.getContent(),"markdown").toString("html")}}),void 0!=t?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("hr",{}),Object(d.jsx)(Za,{content:l.getComments(),addComment:l.addComment.bind(l),removeComment:l.removeComment.bind(l),loadMore:function(){return l.loadComments(n)},noMore:null==l.getCommentPageIndex(),user:t})]}):""]})]})})})},oi=n(125),li=n.n(oi);n(330);function ui(e){var t=e.content;return Object(d.jsxs)(u.a,{id:"course_description",md:"10",className:"mx-auto",children:[Object(d.jsx)("div",{className:"chip_container text-center"}),Object(d.jsx)("h5",{children:"Descrizione"}),Object(d.jsx)("p",{className:"thin",children:t.getDescription()}),Object(d.jsx)("a",{id:"presentazion_video"}),Object(d.jsx)("h5",{children:"Video di presentazione"}),Object(d.jsx)("div",{dangerouslySetInnerHTML:{__html:t.getPresentationVideo().replace("height=","")}})]})}function di(e){var t=e.user,n=e.setPremiumAlert,i=e.content,s=Object(o.f)(),r=Object(a.useState)({}),l=Object(c.a)(r,2),h=l[0],j=l[1],b=Object(a.useState)(void 0),p=Object(c.a)(b,2),m=p[0],f=p[1];return Object(d.jsxs)("div",{id:"course_video",md:"8",className:"mx-auto centered",children:[i&&Object.keys(i.getContent()).map((function(e,a){return Object(d.jsxs)("div",{className:"chapter_item",children:[Object(d.jsxs)("div",{className:"block mb-3 text-center "+(0==Object.values(i.getLessonsByChapter(e)).filter((function(e){return!e.isFinished})).length?"ended":""),children:[Object(d.jsxs)("h5",{className:"chapter",children:["Capitolo ",a+1," - ",i.getChapterTitle(e)]}),Object(d.jsxs)("p",{className:"thin ",children:[Object.values(i.getLessonsByChapter(e)).filter((function(e){return e.isFinished})).length,"/",Object.values(i.getLessonsByChapter(e)).length," lezioni completate"]}),Object(d.jsx)(li.a,{onClick:function(){return function(e){var a=i.getChapter(e).position;if(1!=a){var r=Object.values(i.getContent()).filter((function(e){return e.position==a-1})),o=Object(c.a)(r,1)[0];Object.values(o.lessons).filter((function(e){return!e.isFinished})),t.getIsPremium()?s(e,{state:{course:i.exportInfo()}}):n(!0)}else t.getIsPremium()?s(e,{state:{course:i.exportInfo()}}):n(!0)}(e)},className:"orange_icon"}),Object(d.jsx)(Un.a,{className:a==m?"orange_icon arrow selected":"orange_icon arrow",onClick:function(){return f(a==m?void 0:a)}})]}),Object(d.jsx)(Dn.a,{in:a==m,children:Object(d.jsx)("div",{className:"lessons m-2",children:Object.keys(i.getLessonsByChapter(e)).map((function(a,r){return Object(d.jsxs)(u.a,{md:"8",className:"lesson_item block mb-3 mx-auto "+(i.getLesson(e,a).isFinished?"ended":""),children:[Object(d.jsxs)("h6",{children:["Lezione ",r+1," - ",i.getLessonTitle(e,a)]}),Object(d.jsx)("p",{className:"thin",children:i.getLessonDescription(e,a)}),i.getLesson(e,a).isFree?Object(d.jsx)("h5",{className:"text-center",children:"FREE"}):"",Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)(li.a,{onClick:function(){t.getIsPremium()?s(e+"/"+a):n(!0)},className:"orange_icon"})})]})}))})})]})})),0!=Object.keys(h).length?Object(d.jsx)(Zt,{isError:h.error,message:h.message,removeFunction:function(){return j({})}}):""]})}var hi=function(e){var t=e.windowInfo,n=e.user,i=Object(o.g)().courseId,s=Object(a.useState)(new $),r=Object(c.a)(s,2),h=r[0],b=r[1],m=Object(a.useState)(0),f=Object(c.a)(m,2),g=f[0],v=f[1],O=Object(o.f)(),x=Object(a.useState)(!1),y=Object(c.a)(x,2),w=(y[0],y[1],Object(a.useState)(!1)),k=Object(c.a)(w,2),N=k[0],I=k[1],C=Object(a.useState)(!0),_=Object(c.a)(C,2),S=_[0],T=_[1],z={0:function(e){return Object(d.jsx)(ui,Object(l.a)({},e))},1:function(e){return Object(d.jsx)(di,Object(l.a)({},e))}};return Object(a.useEffect)(Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.setState(b),!1,e.prev=2,e.next=5,h.loadById(i,false);case 5:T(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),O(Li.single_webinar.path);case 11:case"end":return e.stop()}}),e,null,[[2,8]])}))),[]),Object(a.useEffect)((function(){S||window.dispatchEvent(new Event("resize"))}),[S]),S?Object(d.jsx)(Re.a,{in:S,children:Object(d.jsxs)("div",{children:[Object(d.jsx)(Ue.a,{height:"500px"}),Object(d.jsx)(Ue.a,{}),Object(d.jsx)(Ue.a,{}),Object(d.jsx)(Ue.a,{}),Object(d.jsx)(Ue.a,{})]})}):Object(d.jsx)(Re.a,{in:!S,children:Object(d.jsxs)("div",{id:"single_course",children:[Object(d.jsxs)("div",{className:"wallpaper_container",style:{height:t.dashboardContainerHeight},children:[Object(d.jsx)("div",{className:"gradient"}),Object(d.jsx)("img",{className:"wallpaper",src:h.getWallpaper()}),Object(d.jsxs)("div",{className:"info",children:[Object(d.jsx)(u.a,{md:"12",className:"mx-auto",children:Object(d.jsx)("h2",{className:"title text-center",children:h.getTitle()})}),Object(d.jsx)("div",{className:"separator"}),Object(d.jsxs)("p",{className:"text-center",children:["di ",Object(d.jsx)("b",{className:"author",children:h.getOfferedBy().join(" - ")})]}),Object(d.jsx)("div",{className:"display_inline actions_container"})]})]}),Object(d.jsxs)(u.a,{md:"8",className:"info_container mx-auto",style:{marginTop:t.dashboardContainerHeight},children:[Object(d.jsxs)("div",{className:"panel display_inline",children:[Object(d.jsx)("p",{className:0==g?"panel_item selected":"panel_item",onClick:function(){return v(0)},children:"Informazioni"}),Object(d.jsx)("p",{className:1==g?"panel_item selected":"panel_item",onClick:function(){return v(1)},children:"Video"})]}),void 0!=g?z[g]({content:h,setPremiumAlert:I,user:n}):"",Object(d.jsx)("br",{})]}),N?Object(d.jsx)(kt,{closeFunction:function(){return I(!1)}}):""]})})};var ji=function(e){e.windowInfo;var t,n=e.user,i=Object(o.g)(),s=i.courseId,l=i.chapterId,h=Object(o.e)().state,b=Object(o.f)(),m=Object(a.useState)(new $),f=Object(c.a)(m,2),g=f[0],v=f[1],O=Object(a.useState)(!0),x=Object(c.a)(O,2),y=x[0],w=x[1],k=Object(a.useState)({}),N=Object(c.a)(k,2),I=N[0],C=N[1];return Object(a.useEffect)(Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.getIsPremium()||b(Li.courses.path),g.setState(v),void 0==(null===h||void 0===h?void 0:h.course)){e.next=6;break}g.load(h.course,!1),e.next=8;break;case 6:return e.next=8,g.loadById(s,!1);case 8:void 0==g.getChapter(l)&&b(Li.single_course.path),w(!1);case 10:case"end":return e.stop()}}),e)}))),[]),Object(d.jsxs)(d.Fragment,{children:[y?Object(d.jsx)(Re.a,{in:y,children:Object(d.jsxs)("div",{children:[Object(d.jsx)(Ue.a,{variant:"rectangular",height:"200px"}),Object(d.jsx)("br",{}),Object(d.jsx)(Ue.a,{variant:"rectangular",height:"200px"})]})}):Object(d.jsx)(Re.a,{in:!0,children:Object(d.jsxs)("div",{id:"single_chapter",children:[Object(d.jsxs)("div",{className:"text-center",children:[Object(d.jsx)(r.b,{to:Li.courses.path+"/"+s,children:Object(d.jsxs)("h6",{className:"chapter m-0",children:["Capitolo ",null===(t=g.getChapter(l))||void 0===t?void 0:t.position," - ",g.getChapterTitle(l)]})}),Object(d.jsx)("div",{className:"separator"}),Object(d.jsx)("h1",{className:"title",children:g.getChapterTitle(l)}),Object(d.jsx)("p",{className:"course_title m-0",children:g.getTitle()})]}),Object(d.jsx)("div",{className:"separator"}),Object(d.jsx)("h1",{className:"text-center mb-4",children:"Lezioni"}),Object.values(g.getLessonsByChapter(l)).sort((function(e,t){return e.position>t.position?1:-1})).map((function(e){return e.id})).map((function(e){return Object(d.jsxs)(u.a,{xs:"10",md:"6",className:"block mx-auto m-2 lesson_item bounce "+(g.getLesson(l,e).isFinished?"finished":""),onClick:function(){return function(e){var t=g.getLessonPosition(l,e);Object.values(g.getLessonsByChapter(l)).filter((function(e){return e.position==t-1&&!e.isFinished})),b(e,{state:{course:g.exportInfo()}})}(e)},children:[g.getLessonVideoId(l,e),Object(d.jsx)("h2",{className:"lesson_title",children:g.getLessonTitle(l,e)}),Object(d.jsx)("p",{className:"lesson_description",children:g.getLessonDescription(l,e)})]})}))]})}),0!=Object.values(I).length?Object(d.jsx)(Zt,{isError:I.error,message:I.message,removePopup:function(){return C({})}}):""]})},bi=n(216),pi=n.n(bi),mi=n(215),fi=n.n(mi),gi=n(174),vi=n.n(gi);var Oi=function(e){var t=e.questions,n=Object(a.useState)(0),i=Object(c.a)(n,2),s=i[0],r=i[1],o=Object(a.useState)(new Q),l=Object(c.a)(o,2),h=l[0],j=l[1],b=Object(a.useRef)(!0);function p(e){var n=Object.keys(t).indexOf(s);if(n>=0){var a=Object.keys(t)[n+e];void 0!=a&&r(a)}}return Object(a.useEffect)((function(){0!=s&&j(t[s].question)}),[s]),Object(a.useEffect)((function(){if(0!=Object.keys(t).length&&b.current){var e=Object.keys(t)[0];void 0!=e&&(r(e),j(t[e].question),b.current=!1)}}),[t]),Object(d.jsx)(d.Fragment,{children:void 0!=h?Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{className:"centered",children:s==Object.keys(t)[0]?"":Object(d.jsx)(St.a,{className:"orange_icon",onClick:function(){return p(-1)},children:Object(d.jsx)(fi.a,{})})}),Object(d.jsx)(u.a,{xs:"8",children:Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)(qt,{question:h})})}),Object(d.jsx)(u.a,{className:"centered",children:s==Object.keys(t)[Object.keys(t).length-1]?Object(d.jsx)(St.a,{className:"orange_icon",children:Object(d.jsx)(vi.a,{})}):Object(d.jsx)(St.a,{className:"orange_icon",onClick:function(){return p(1)},children:Object(d.jsx)(pi.a,{})})})]}):""})};var xi=function(e){var t,n,i,s,l=e.user,h=Object(o.g)(),b=h.courseId,m=h.chapterId,f=h.lessonId,g=Object(o.e)().state,v=Object(o.f)(),O=Object(a.useState)(new $),x=Object(c.a)(O,2),y=x[0],w=x[1],k=Object(a.useState)(!1),N=Object(c.a)(k,2),I=N[0],C=N[1],_=Object(a.useState)(!0),S=Object(c.a)(_,2),T=S[0],z=S[1];function A(e){return P.apply(this,arguments)}function P(){return(P=Object(j.a)(p.a.mark((function e(t){var n,a,i,s,r,c,o,l,u,d,h;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=y.getLessonQuiz(m,f),0==Object.keys(n).length||!t){e.next=11;break}a=0,i=Object.values(n);case 3:if(!(a<i.length)){e.next=11;break}if(0!=i[a].question.getSelectedChoices().length){e.next=8;break}return C(!0),e.abrupt("return");case 8:a++,e.next=3;break;case 11:if(r=y.getLessonPosition(m,f),c=y.getLessonsByChapter(m),s=t?Object.values(c).filter((function(e){return e.position==r+1})):Object.values(c).filter((function(e){return e.position==r-1})),!t){e.next=17;break}return e.next=17,y.setReadLesson(m,f);case 17:0!=s.length?(s=s[0],o=s.id,v("../"+b+"/"+m+"/"+o,{state:{course:y.exportInfo()}}),C(!1)):(l=y.getContent(),u=y.getChapter(m).position,0!=(d=t?Object.values(l).filter((function(e){return e.position==u+1})):Object.values(l).filter((function(e){return e.position==u-1}))).length?(d=d[0],h=d.id,v("../"+b+"/"+h,{state:{course:y.exportInfo()}}),C(!1)):t&&alert("finito!"));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)(Object(j.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.getIsPremium()||v(Li.courses.path),y.setState(w),void 0==(null===g||void 0===g?void 0:g.course)){e.next=6;break}y.load(g.course,!1),e.next=8;break;case 6:return e.next=8,y.loadById(b,!1);case 8:if(t=y.getLessonPosition(m,f),Object.values(y.getLessonsByChapter(m)).filter((function(e){return e.position==t-1&&!e.isFinished})),void 0!=y.getLessonVideo(m,f)){e.next=13;break}return e.next=13,y.loadLessonFromServer(m,f);case 13:void 0==y.getLesson(m,f)&&v(Li.single_course.path),z(!1);case 15:case"end":return e.stop()}}),e)}))),[f]),Object(d.jsx)(Re.a,{in:!0,children:Object(d.jsx)("div",{id:"single_lesson",children:Object(d.jsxs)(u.a,{md:"8",className:"mx-auto",children:[Object(d.jsxs)("div",{className:"text-center",children:[Object(d.jsx)(r.b,{to:Li.courses.path+"/"+b,children:Object(d.jsxs)("h6",{className:"chapter m-0",children:["Capitolo ",y&&(null===(t=y.getChapter(m))||void 0===t?void 0:t.position)," - ",y.getChapterTitle(m)]})}),Object(d.jsx)("div",{className:"separator "}),Object(d.jsx)(r.b,{to:Li.courses.path+"/"+b+"/"+m,children:Object(d.jsx)("h1",{className:"title",children:y.getLessonTitle(m,f)})}),Object(d.jsx)("p",{className:"course_title m-0",children:y.getTitle()}),Object(d.jsx)("div",{className:"separator "}),Object(d.jsx)("p",{className:"description m-0",children:y.getLessonDescription(m,f)})]}),T?Object(d.jsxs)("div",{children:[Object(d.jsx)("br",{}),Object(d.jsx)(Ue.a,{variant:"rectangular",height:"200px"}),Object(d.jsx)("br",{}),Object(d.jsx)(Ue.a,{variant:"rectangular",height:"200px"})]}):Object(d.jsx)(Re.a,{in:!T,children:Object(d.jsxs)("div",{children:[Object(d.jsxs)(Dn.a,{in:!I,children:[Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"block",dangerouslySetInnerHTML:{__html:y.getLessonVideo(m,f)}}),Object(d.jsx)("p",{className:"text",children:y.getLessonText(m,f)}),y&&0==Object.keys(y.getLessonQuiz(m,f)).length?"":Object(d.jsxs)("div",{className:"quiz_button centered bounce block text-center",onClick:function(){return C(!0)},children:[Object(d.jsx)("h2",{children:"Quiz"}),Object(d.jsx)("p",{className:"m-0",children:"Mettiti alla prova"})]})]}),y&&0==Object.keys(y.getLessonQuiz(m,f)).length?"":Object(d.jsxs)(Dn.a,{in:I,children:[Object(d.jsx)("div",{className:"separator"}),Object(d.jsx)("p",{className:"close_quiz bounce text-center",onClick:function(){return C(!1)},children:"Chiudi quiz"}),Object(d.jsxs)("div",{className:"quiz_block block",children:[Object(d.jsx)("h4",{className:"text-center",children:"Quiz"}),Object(d.jsx)(Oi,{questions:y.getLessonQuiz(m,f)})]}),Object(d.jsx)("br",{})]}),Object(d.jsxs)("div",{className:"navigation_buttons space_between mt-3",children:[Object(d.jsx)("div",{className:"navigation_item bounce",onClick:function(){return A(!1)},children:y&&1==(null===(n=y.getChapter(m))||void 0===n?void 0:n.position)&&1==y.getLessonPosition(m,f)?"":y&&1!=(null===(i=y.getChapter(m))||void 0===i?void 0:i.position)&&1==y.getLessonPosition(m,f)?Object(d.jsx)("h6",{children:"Capitolo precedente"}):y&&1!=y.getLessonPosition(m,f)?Object(d.jsx)("h6",{children:"Precedente"}):""}),Object(d.jsx)("div",{className:"navigation_item bounce",onClick:function(){return A(!0)},children:y&&(null===(s=y.getChapter(m))||void 0===s?void 0:s.position)==Math.max.apply(Math,Object(U.a)(Object.values(y.getContent()).map((function(e){return e.position}))))&&y.getLessonPosition(m,f)==Math.max.apply(Math,Object(U.a)(Object.values(y.getLessonsByChapter(m)).map((function(e){return e.position}))))?Object(d.jsx)("h6",{children:"Fine"}):y&&y.getLessonPosition(m,f)==Math.max.apply(Math,Object(U.a)(Object.values(y.getLessonsByChapter(m)).map((function(e){return e.position}))))?Object(d.jsx)("h6",{children:"Prossimo capitolo"}):Object(d.jsx)("h6",{children:"Successivo"})})]})]})}),Object(d.jsx)("br",{})]})})})},yi={home:{path:"/dashboard/courses/",url:":courseId",component:function(e){return Object(d.jsx)(hi,Object(l.a)({},e))}},chapter:{path:void 0,url:":courseId/:chapterId",component:function(e){return Object(d.jsx)(ji,Object(l.a)({},e))}},lesson:{path:void 0,url:":courseId/:chapterId/:lessonId",component:function(e){return Object(d.jsx)(xi,Object(l.a)({},e))}}};var wi=function(e){var t=e.windowInfo,n=e.user;return Object(d.jsx)(Ra,{children:Object.values(yi).map((function(e){return Object(d.jsx)(o.a,{path:e.url,element:e.component({windowInfo:t,user:n})})}))})},ki=n(471),Ni=n(497),Ii=n(465),Ci=n(498);var _i=function(e){var t=e.windowInfo,n=e.user;console.log(n);var i=Object(o.e)(),s=i.pathname,r=i.state,l=Object(o.g)(),h=l.moduleId,b=l.lessonId,f=Object(o.f)(),g=Object(a.useRef)(b),v=Object(a.useState)(new se),O=Object(c.a)(v,2),x=O[0],y=O[1],w=Object(a.useState)(0),k=Object(c.a)(w,2),N=k[0],I=k[1],C=Object(a.useState)(null),_=Object(c.a)(C,2),S=_[0],T=_[1],z=Object(a.useState)(!0),A=Object(c.a)(z,2),P=A[0],L=A[1],E=Object(a.useState)("Successivo"),q=Object(c.a)(E,2),D=q[0],R=q[1],M=Object(a.useState)("Precedente"),F=Object(c.a)(M,2),B=F[0],W=F[1];return Object(a.useEffect)((function(){var e,t,n,a=x.getAllPages(g.current),i=Object(m.a)(Object.values(a).sort((function(e,t){return e.position>t.position?1:-1})));try{for(i.s();!(n=i.n()).done;){var r=n.value,o=r.position-1;if(o<=N&&"quiz"==r.type){var l=r.content.question;if(l instanceof Q&&l&&0==l.getSelectedChoices().length)return void I(o)}}}catch(y){i.e(y)}finally{i.f()}if(N<0?I(0):0==N&&1==(null===(e=x.getModuleById(g.current))||void 0===e?void 0:e.position)?W(""):W(0==N?"Capitolo precedente":"Precedente"),N>Object.keys(a).length?I(Object.keys(a).length-1):N==Object.keys(a).length-1&&(null===(t=x.getModuleById(g.current))||void 0===t?void 0:t.position)==Object.keys(x.getModules()).length?R("Fine"):N==Object.keys(a).length-1?R("Prossimo capitolo"):R("Successivo"),P||N!=Object.keys(a).length){if(!P&&-1==N){var u=x.getModules(),d=x.getModuleById(g.current).position,h=Object.values(u).filter((function(e){return e.position==d-1})),j=Object(c.a)(h,1)[0];void 0!=j&&(s=s.substring(0,s.lastIndexOf("/"))+"/"+j.id,g.current=j.id,f(s,{state:{module:x.exportInfo()}}))}}else{var b=x.getModules(),p=x.getModuleById(g.current).position,v=Object.values(b).filter((function(e){return e.position==p+1})),O=Object(c.a)(v,1)[0];x.setChapterFinished(g.current),void 0!=O?(s=s.substring(0,s.lastIndexOf("/"))+"/"+O.id,g.current=O.id,f(s,{state:{module:x.exportInfo()}})):(s=s.substring(0,s.lastIndexOf("/")),f(s,{state:{module:x.exportInfo()}}))}}),[N]),Object(a.useEffect)(Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P){e.next=9;break}if(g.current=s.substring(s.lastIndexOf("/")+1),I(0),L(!0),!0,0!=Object.keys(x.getAllPages(g.current))){e.next=8;break}return e.next=8,x.loadNote(g.current,true);case 8:L(!1);case 9:case"end":return e.stop()}}),e)}))),[s]),Object(a.useEffect)(Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x.setState(y),void 0==(null===r||void 0===r?void 0:r.module)){e.next=5;break}x.load(r.module,!1),e.next=8;break;case 5:return!1,e.next=8,x.loadById(h,false);case 8:return!0,e.prev=9,e.next=12,x.loadNote(g.current,true);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),f(Li.single_module.path);case 17:L(!1);case 18:case"end":return e.stop()}}),e,null,[[9,14]])}))),[]),Object(d.jsx)(Re.a,{in:!0,children:Object(d.jsxs)("div",{id:"module_pages",children:[Object(d.jsxs)("div",{className:"header text-center centered",children:[Object(d.jsx)("h6",{className:"title",children:x.getTitle()}),Object(d.jsx)("div",{className:"separator"}),Object(d.jsx)("h2",{children:x.getModuleTitle(g.current)}),Object(d.jsx)("div",{className:"separator"}),Object(d.jsx)("br",{})]}),Object(d.jsx)(ki.a,{activeStep:N,alternativeLabel:!(window&&t.mobileMode),orientation:t&&t.mobileMode?"vertical":"horizontal",children:Object.values(x.getAllPages(g.current)).sort((function(e,t){return e.position>t.position?1:-1})).map((function(e){return e.id})).map((function(e,a){return N==a&&S!=e&&T(e),Object(d.jsxs)(Ni.a,{className:"step",onClick:function(){return I(a)},children:[Object(d.jsx)(Re.a,{in:!0,style:{transitionDuration:"1000ms"},children:Object(d.jsx)(Ii.a,{children:"Lezione "+x.getAllPages(g.current)[e].position})}),t&&t.mobileMode?Object(d.jsxs)(Ci.a,{children:["quiz"==x.getPageType(g.current,e)?Object(d.jsx)("div",{className:"mt-3",children:Object(d.jsx)(qt,{user:n,question:x.getPageContent(g.current,e).question})}):Object(d.jsx)("div",{dangerouslySetInnerHTML:{__html:Wt.a.createValueFromString(x.getPageContent(g.current,e),"markdown").toString("html")},className:"markdown_content"}),Object(d.jsx)(u.a,{md:"11",className:"mx-auto",children:Object(d.jsxs)("div",{className:"display_inline space_between",children:[Object(d.jsx)("button",{className:"navigation_button button",onClick:function(e){e.stopPropagation(),I(N-1)},children:B}),Object(d.jsx)("button",{className:"navigation_button button",onClick:function(e){e.stopPropagation(),I(N+1)},children:D})]})})]}):""]},a)}))}),t&&t.mobileMode?Object(d.jsx)("br",{}):Object(d.jsxs)("div",{className:"content_container",children:[Object(d.jsx)(u.a,{md:"8",className:"mx-auto mt-5",children:"quiz"==x.getPageType(g.current,S)?Object(d.jsx)(qt,{user:n,question:x.getPageContent(g.current,S).question}):Object(d.jsx)("div",{dangerouslySetInnerHTML:{__html:Wt.a.createValueFromString(x.getPageContent(g.current,S),"markdown").toString("html")},className:"markdown_content"})}),Object(d.jsx)(u.a,{md:"11",className:"mx-auto",children:Object(d.jsxs)("div",{className:"display_inline space_between",children:[Object(d.jsx)("button",{className:"navigation_button button",onClick:function(){return I(N-1)},children:B}),Object(d.jsx)("button",{className:"navigation_button button",onClick:function(){return I(N+1)},children:D})]})})]})]})})};var Si=function(e){var t=e.windowInfo,n=Object(o.g)().moduleId,i=Object(o.f)(),s=Object(a.useState)(new se),r=Object(c.a)(s,2),l=r[0],u=r[1],h=Object(a.useState)("auto"),b=Object(c.a)(h,2),m=(b[0],b[1]);function f(e,t){e.stopPropagation(),l.getModuleById(t).isSaved?l.unsaveNote(t):l.saveNote(t),l.getModuleById(t).isSaved=!l.getModuleById(t).isSaved,l.updateInfo()}function g(e,t){e.stopPropagation(),l.getModuleById(t).isLiked?l.unlikeNote(t):l.likeNote(t),l.getModuleById(t).isLiked=!l.getModuleById(t).isLiked,l.updateInfo()}return Object(a.useEffect)(Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.setState(u),!1,l.loadById(n,false),l.loadCompletedNotes(n);case 4:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){t.mobileMode?m("auto"):m(window.dashboardContainerHeight)}),[t.dashboardContainerHeight]),Object(d.jsx)("div",{id:"single_module",children:Object(d.jsxs)("div",{className:"content_container",children:[l&&""==l.getWallpaper()?"":Object(d.jsx)("img",{className:"wallpaper",src:l&&l.getWallpaper()}),Object(d.jsx)("div",{className:"gradient_effect"}),Object(d.jsx)("div",{className:"content",children:Object(d.jsx)("div",{className:"info_container",children:l&&""==l.getId()?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Ue.a,{variant:"rectangular",height:"20px"}),Object(d.jsx)("br",{}),Object(d.jsx)(Ue.a,{variant:"rectangular",height:"20px"}),Object(d.jsx)("br",{}),Object(d.jsx)(Ue.a,{variant:"rectangular",height:"100px"}),Object(d.jsx)("br",{}),Object(d.jsx)(Ue.a,{variant:"rectangular",height:"100px"}),Object(d.jsx)("br",{}),Object(d.jsx)(Ue.a,{variant:"rectangular",height:"100px"}),Object(d.jsx)("br",{}),Object(d.jsx)(Ue.a,{variant:"rectangular",height:"100px"})]}):Object(d.jsx)(Re.a,{in:!0,style:{transitionDuration:"1000ms"},children:Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{className:"title",children:l&&l.getTitle()}),Object(d.jsxs)("p",{className:"author",children:[l&&l.getArgument()," - ",l&&l.getAuthor()]}),Object(d.jsx)("div",{className:"separator"}),Object(d.jsx)("div",{className:"buttons",children:Object(d.jsx)("div",{className:"display_inline",children:l&&l.getCompletedNotes().length==Object.keys(l.getModules()).length?"":Object(d.jsxs)("div",{className:"item",onClick:function(){return function(){var e=l.getCompletedNotes(),t=e[e.length-1],n=Object.values(l.getModules()).sort((function(e,t){return e.position>t.position?1:-1})).map((function(e){return e.id})),a=n.indexOf(t)+1;if(a>=0&&a<n.length){var s=n[a];i(s,{state:{module:l.exportInfo()}})}}()},children:[Object(d.jsx)("div",{className:"icon_container bounce",children:Object(d.jsx)(li.a,{className:"icon"})}),Object(d.jsx)("h6",{children:"Riprendi"})]})})}),Object(d.jsx)("div",{className:"separator"}),Object(d.jsx)("h5",{className:"text-center",children:"Lezioni"}),Object(d.jsx)("div",{className:"lessons_container",children:l&&Object.keys(l.getModules()).map((function(e,t){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{onClick:function(){return function(e){i(e,{state:{module:l.exportInfo()}})}(e)},className:l.getCompletedNotes().includes(e)?"block lesson_item ended bounce":"block lesson_item bounce",children:[Object(d.jsx)("h3",{className:"lesson_title",children:l.getModuleTitle(e)}),Object(d.jsxs)("div",{className:"text-center icons",children:[l.getModuleById(e).isSaved?Object(d.jsx)(ri.a,{className:" m-2",onClick:function(t){return f(t,e)}}):Object(d.jsx)(ii.a,{className:" m-2",onClick:function(t){return f(t,e)}}),l.getModuleById(e).isLiked?Object(d.jsx)(ni.a,{className:" m-2",onClick:function(t){return g(t,e)}}):Object(d.jsx)(ei.a,{className:" m-2",onClick:function(t){return g(t,e)}}),l.getCompletedNotes().includes(e)?Object(d.jsx)(vi.a,{className:"play_module bounce m-2"}):Object(d.jsx)(li.a,{className:"play_module bounce m-2"})]})]}),t==Object.keys(l.getModules()).length-1?"":Object(d.jsx)("div",{className:"vertical_line"})]})}))})]})})})})]})})},Ti={home:{path:"",url:":moduleId",component:function(e){return Object(d.jsx)(Si,Object(l.a)({},e))}},lesson:{path:"",url:":moduleId/:lessonId",component:function(e){return Object(d.jsx)(_i,Object(l.a)({},e))}}};n(331);var zi=function(e){var t=e.user,n=e.windowInfo;return Object(d.jsx)("div",{children:Object(d.jsx)(Ra,{children:Object.values(Ti).map((function(e){return Object(d.jsx)(o.a,{path:e.url,element:e.component({windowInfo:n,user:t})})}))})})};n(332);var Ai=function(e){var t=e.user,n=Object(o.g)().webinar_id,i=Object(o.f)(),s=Object(a.useState)(new le),r=Object(c.a)(s,2),l=r[0],u=r[1],h=Object(a.useState)(!0),b=Object(c.a)(h,2),m=b[0],f=b[1];return Object(a.useEffect)(Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.getIsPremium()||i(Li.webinar.path),l.setState(u),void 0==l){e.next=5;break}return e.next=5,l.loadById(n);case 5:f(!1);case 6:case"end":return e.stop()}}),e)}))),[]),Object(d.jsx)("div",{id:"single_webinar",children:m?Object(d.jsx)(Xa.a,{className:"text-center",children:Object(d.jsx)(Pa.a,{in:m,children:Object(d.jsxs)("div",{children:[Object(d.jsx)(Ue.a,{variant:"rectangular",width:"50%",className:"mx-auto"}),Object(d.jsx)("br",{}),Object(d.jsx)(Ue.a,{variant:"rectangular",width:"50%",className:"mx-auto"}),Object(d.jsx)("br",{}),Object(d.jsx)(Ue.a,{variant:"rectangular",width:"50%",className:"mx-auto"}),Object(d.jsx)("br",{}),Object(d.jsx)(Ue.a,{variant:"rectangular",height:"500px",className:"mx-auto"})]})})}):Object(d.jsx)("div",{children:Object(d.jsx)(Pa.a,{in:!m,children:Object(d.jsxs)("div",{className:"text-center",children:[Object(d.jsx)("h1",{children:l.getTitle()}),Object(d.jsx)("p",{className:"thin text-center m-0",children:F()(l.getDate()).format("DD-MM-YYYY HH:mm")}),Object(d.jsxs)("div",{className:"display_inline mx-auto m-2",children:[Object(d.jsx)("a",{href:l.getSocietyLink(),children:Object(d.jsx)(et.a,{className:"my_chip bounce",label:"Societ\xe0: "+l.getSociety()})}),Object(d.jsx)("a",{href:l.getGuestLink(),children:Object(d.jsx)(et.a,{className:"my_chip bounce",label:"Ospite: "+l.getGuest()})})]}),Object(d.jsx)("div",{className:"separator"}),Object(d.jsx)("p",{className:"thin m-0",children:l.getDescription()}),Object(d.jsx)("div",{className:"separator"}),Object(d.jsx)("div",{dangerouslySetInnerHTML:{__html:l.getEventVideoIframe()}}),Object(d.jsx)("div",{dangerouslySetInnerHTML:{__html:l.getEventChatIframe()}})]})})})})},Pi="/dashboard",Li={news:{path:Pi,url:"",title:"Home",component:function(e){return Object(d.jsx)(lt,Object(l.a)({},e))},icon:Object(d.jsx)(me.a,{className:"orange_icon"})},single_news:{path:"/dashboard/",url:"/:id",title:"News",component:function(e){return Object(d.jsx)(ci,Object(l.a)({},e))}},accademy:{path:"/dashboard/academy",url:"/academy",title:"Academy",component:function(e){return Object(d.jsx)(dt,Object(l.a)({},e))},icon:Object(d.jsx)(ge.a,{className:"orange_icon"})},courses:{path:"/dashboard/courses",url:"/courses",title:"Corsi",component:function(e){return Object(d.jsx)(jt,Object(l.a)({},e))},icon:Object(d.jsx)(Oe.a,{className:"orange_icon"})},webinar:{path:"/dashboard/webinar",url:"/webinar/*",title:"Webinar",component:function(e){return Object(d.jsx)(It,Object(l.a)({},e))},icon:Object(d.jsx)(ye.a,{className:"orange_icon"})},account:{path:"/dashboard/account",url:"/account/*",title:"Account",component:function(e){return Object(d.jsx)(Ka,Object(l.a)({},e))},icon:Object(d.jsx)(ke.a,{className:"orange_icon"})},single_course:{path:"/dashboard/courses/",url:"/courses/*",title:"Corso",component:function(e){return Object(d.jsx)(wi,Object(l.a)({},e))}},single_module:{path:"/dashboard/academy/",url:"/academy/*",title:"Corso",component:function(e){return Object(d.jsx)(zi,Object(l.a)({},e))}},single_webinar:{path:"/dashboard/webinar/",url:"/webinar/:webinar_id",title:"Webinar",component:function(e){return Object(d.jsx)(Ai,Object(l.a)({},e))}}},Ei=n(222),qi=n.n(Ei);var Di=function(e){var t=Object(a.useState)(""),n=Object(c.a)(t,2),i=n[0],s=n[1],r=Object(a.useState)(!1),l=Object(c.a)(r,2),u=(l[0],l[1]),h=(e.user,Object(o.f)(),Object(o.e)());return Object(a.useEffect)((function(){Object.values(Li).map((function(e){h.pathname.includes(e.path)&&s(e.title)})),h.pathname.includes(Li.account.path)?u(!0):u(!1)}),[h]),Object(a.useEffect)((function(){document.title=i}),[i]),Object(d.jsx)("div",{id:"dashboard_header",className:"",children:Object(d.jsxs)("h1",{className:"m-0",children:[i,"\xa0"]})})},Ri=n(454),Mi=n.p+"static/media/logo.682a57a1.png";function Fi(e){e.windowInfo;var t=e.user;return Object(d.jsxs)("div",{id:"navbar",children:[Object(d.jsx)("div",{id:"logo",children:Object(d.jsx)("img",{src:Mi,className:"img-fluid"})}),Object(d.jsx)("div",{className:"routes",children:Object.values(Li).map((function(e){if("undefined"!=typeof e.icon)return Object(d.jsx)(Bi,{icon:e.icon,link:e.path,title:e.title},e.path)}))}),Object(d.jsx)(Bi,{icon:Object(d.jsx)(qi.a,{className:"orange_icon"}),id:"logout",onClick:function(){return t.logout()},link:"/",title:"Esci"})]})}function Bi(e){var t=Object(a.useState)(!1),n=Object(c.a)(t,2),i=n[0],s=n[1],r=e.icon,l=e.link,u=e.title,h=e.id,j=e.onClick,b=Object(o.f)(),p=Object(o.e)();return Object(a.useEffect)((function(){p.pathname==l?s(!0):s(!1)}),[p]),Object(d.jsx)(Ri.a,{title:u,placement:"right",arrow:!0,children:Object(d.jsx)("div",{id:void 0==h?"":h,className:"navbar_item"+(i?" active":""),onClick:function(){j&&j(),void 0!=l&&b(l)},children:r})})}function Wi(e){var t=e.windowInfo,n=e.content,i=e.user,s=Object(a.useState)(""),r=Object(c.a)(s,2),o=r[0],l=r[1];return Object(a.useEffect)((function(){if(t.mobileMode){var e=t.windowHeight-102+"px";l(e)}else l("")}),[t]),Object(d.jsxs)("div",{id:"content_container",style:{height:o},children:[Object(d.jsx)(Di,{user:i}),n]})}var Vi=function(e){var t=e.windowInfo,n=e.children,a=e.user;return Object(d.jsxs)("div",{id:"container_layout",children:[Object(d.jsx)(u.a,{id:"page_content_container",md:"11",className:"p-0 order-md-2",children:Object(d.jsx)(Wi,{windowInfo:t,content:n,user:a})}),Object(d.jsx)(u.a,{id:"navbar_container",className:"content_center p-0 order-md-1",md:"1",children:Object(d.jsx)(Fi,{windowInfo:t,user:a})})]})},Hi=(n(333),n.p+"static/media/avatar.90a0e34c.jpeg"),Ui=new be;Ui.load({name:"Lorenzo",surname:"Cusin",birthday:"13/02/2002",email:"lorenzocusin02@gmail.com",username:"lorenzocusin",avatar:Hi,codice_invito:"CA323SL",xp:500});var Gi=n.p+"static/media/logo.9e790882.gif";var Yi=function(e){var t=e.windowInfo,n=Object(a.useState)(new be),i=Object(c.a)(n,2),s=i[0],r=i[1],l=Object(a.useState)(!0),u=Object(c.a)(l,2),h=u[0],b=u[1],m=Object(o.e)().pathname,f=Object(o.f)();return Object(a.useEffect)(Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.body.style.overflow="hidden",s.setState(r),!s.isLogged()){e.next=8;break}return e.next=5,s.setInfo();case 5:b(!1),e.next=9;break;case 8:f(ir.login.path,{state:{redirect:m}});case 9:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){null===s&&f(ir.login.path)}),[s]),h?Object(d.jsx)(Pa.a,{in:h,children:Object(d.jsx)("div",{id:"loading_section",className:"centered",children:Object(d.jsx)("img",{className:"img-fluid",src:Gi,width:"200px"})})}):Object(d.jsx)(Pa.a,{in:!h,children:Object(d.jsx)("div",{children:Object(d.jsx)(Vi,{windowInfo:t,user:s,children:Object(d.jsx)(Ra,{children:Object.values(Li).map((function(e){return Object(d.jsx)(o.a,{path:e.url,element:e.component({windowInfo:t,user:s})})}))})})})})};function Qi(e){var t=e.user,n=(e.routes,e.setIsSigninIn),i=e.setShowRestorePassword,s=(Object(o.f)(),Object(o.e)().state,Object(a.useState)("")),r=Object(c.a)(s,2),l=r[0],u=r[1],h=Object(a.useState)(""),j=Object(c.a)(h,2),b=j[0],p=j[1],m=Object(a.useState)(!1),f=Object(c.a)(m,2),g=f[0],v=f[1],O=Object(a.useState)(!1),x=Object(c.a)(O,2),y=x[0],w=x[1],k=Object(a.useState)(""),N=Object(c.a)(k,2),I=N[0],C=N[1];function _(){v(!0),t.areCredentialsCorrect(l,b,S)}function S(e,t){e&&(w(!0),C(t)),v(!1)}return Object(d.jsxs)("div",{onKeyDown:function(e){return"Enter"==e.key?_():null},children:[Object(d.jsx)("h1",{children:"Login"}),Object(d.jsx)("input",{className:"input",placeholder:"Username",autoFocus:!0,value:l,onChange:function(e){return u(e.target.value)}}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"input",placeholder:"Password",type:"password",value:b,onChange:function(e){return p(e.target.value)}}),Object(d.jsx)("br",{}),g?Object(d.jsx)("div",{className:"loading m-auto"}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{className:"button bounce",onClick:_,children:"Accedi"}),Object(d.jsx)("p",{className:"thin_orange",onClick:function(){return i(!0)},children:"Password dimenticata?"}),Object(d.jsx)("br",{})]}),Object(d.jsx)("p",{className:"thin_orange",onClick:function(){return n(!0)},children:"Registrati"}),y?Object(d.jsx)(Zt,{isError:!0,message:I,removeFunction:function(){w(!1)}}):""]})}function Ji(e){var t=e.user,n=Object(a.useState)(""),i=Object(c.a)(n,2),s=i[0],r=i[1],o=Object(a.useState)(!1),l=Object(c.a)(o,2),u=l[0],h=l[1],j=Object(a.useState)(!1),b=Object(c.a)(j,2),p=b[0],m=b[1],f=Object(a.useState)(!1),g=Object(c.a)(f,2),v=g[0],O=g[1];function x(){t.isValidEmail(s)?(h(!0),t.sendMail(s).then((function(e){console.log(e)})).catch((function(e){console.warn(e)})),setInterval((function(){return O(!0)}),5e3)):m(!0)}return Object(d.jsxs)("div",{id:"restore_password",children:[Object(d.jsx)("h1",{children:"Recupero Password"}),Object(d.jsx)("br",{}),u?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("p",{className:"thin",children:["Email inviata a ",s,"!",Object(d.jsx)("br",{}),"Controlla la tua casella di posta elettronica."]}),Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)("div",{className:"loading"})}),v?Object(d.jsx)("button",{className:"button",onClick:x,children:"Invia di nuovo"}):""]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{className:"m-0 thin",children:"Non ti preoccupare!"}),Object(d.jsx)("p",{className:"thin",children:"Ti manderemo una mail con tutte le informazioni"}),Object(d.jsx)("input",{className:"input",placeholder:"Email",type:"Email",value:s,onChange:function(e){return r(e.target.value)},onKeyDown:function(e){return"Enter"==e.key?x():null}}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{className:"button",onClick:x,children:"Conferma"})]}),Object(d.jsx)("br",{}),p?Object(d.jsx)(Zt,{isError:!0,message:"Email non inserita",removeFunction:function(){m(!1)}}):""]})}var Ki=function(e){var t=e.user,n=e.routes,i=e.setIsSigninIn,s=(Object(o.f)(),Object(a.useState)(!1)),r=Object(c.a)(s,2),l=r[0],u=r[1];return Object(d.jsx)("div",{children:l?Object(d.jsx)(Ji,{user:t}):Object(d.jsx)(Qi,{setIsSigninIn:i,user:t,routes:n,setShowRestorePassword:u})})},Zi={id:"1",title:"Cosa vorresti studiare?",choices:{1:"Pino",2:"Maria",3:"Pierangelo"}},Xi={id:"2",title:"Cosa vorresti assaggiare?",choices:{1:"Pinoaaaa",2:"Artura",3:"fiordilatte"}},$i={id:"3",title:"Cosa vorresti mangiare?",choices:{1:"Pino",2:"Anto",3:"Ioooo"}},es=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;Object(f.a)(this,e),this.questions=t,this.state=n}return Object(g.a)(e,[{key:"setState",value:function(e){this.state=e}},{key:"updateInfo",value:function(){void 0!==this.state&&this.state(new e(this.questions,this.state))}},{key:"load",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=new Q;t.load(Zi);var n=new Q;n.load(Xi);var a=new Q;a.load($i),this.questions=[t,n,a],this.updateInfo(),void 0!==e&&e()}},{key:"getQuestions",value:function(){return this.questions}}]),e}(),ts=es,ns=n(195),as=n.n(ns);function is(e){var t=e.user,n=e.setStatus,i=Object(a.useState)("text"),s=Object(c.a)(i,2),r=s[0],o=s[1];return Object(a.useEffect)((function(){""!=t.getName()&&""!=t.getSurname()&&""!=t.getBirthday()?t.isValidBirthday()?n({error:!1}):n({error:!0,description:"Data di nascita non valida"}):n({error:!0,description:"Riempi tutti i campi"})}),[t.getName(),t.getSurname(),t.getBirthday()]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{className:"description",children:"Iniziamo con qualche informazione su di te"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"input",placeholder:"Nome",autoFocus:!0,value:t.getName(),onChange:function(e){return t.setName(e.target.value)}}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"input",placeholder:"Cognome",value:t.getSurname(),onChange:function(e){return t.setSurname(e.target.value)}}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"input",type:r,onFocus:function(){return o("date")},onBlur:function(){return o("text")},placeholder:"Data di nascita",value:t.getBirthday(),onChange:function(e){return t.setBirthday(e.target.value)}}),Object(d.jsx)("br",{})]})}function ss(e){var t=e.user,n=e.setStatus,i=Object(a.useState)(!1),s=Object(c.a)(i,2),r=s[0],o=s[1],l=Object(a.useState)(!1),u=Object(c.a)(l,2),h=u[0],j=u[1],b=Object(a.useState)(""),p=Object(c.a)(b,2),m=p[0],f=p[1];return Object(a.useEffect)((function(){""!=t.getEmail()&&""!=t.getUsername()&&""!=t.getPassword()&&""!=m?t.isValidEmail()?t.isValidUsername()?t.getPassword()==m?n({error:!1}):n({error:!0,description:"Le password non coincidono"}):n({error:!0,description:"Username gia esistente"}):n({error:!0,description:"Formato email non valido"}):n({error:!0,description:"Riempi tutti i campi"})}),[t.getEmail(),t.getUsername(),t.getPassword(),m]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{className:"description",children:"Iniziamo con qualche informazione su di te"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"input",placeholder:"Email",autoFocus:!0,value:t.getEmail(),onChange:function(e){return t.setEmail(e.target.value.replaceAll(" ",""))}}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"input",placeholder:"Username",value:t.getUsername(),onChange:function(e){return t.setUsername(e.target.value)}}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"input",placeholder:"Password",type:r?"text":"password",value:t.getPassword(),onChange:function(e){return t.setPassword(e.target.value)}}),Object(d.jsx)("i",{children:r?Object(d.jsx)(Ke.a,{className:"orange_icon",onClick:function(){return o(!1)}}):Object(d.jsx)(as.a,{className:"orange_icon",onClick:function(){return o(!0)}})}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"input",placeholder:"Conferma password",type:h?"text":"password",value:m,onChange:function(e){return f(e.target.value)}}),Object(d.jsx)("i",{children:h?Object(d.jsx)(Ke.a,{className:"orange_icon",onClick:function(){return j(!1)}}):Object(d.jsx)(as.a,{className:"orange_icon",onClick:function(){return j(!0)}})}),Object(d.jsx)("p",{className:"description",style:{color:"var(--details_color)",fontSize:"12px"},children:"* la password deve essere lunga almeno 8 caratteri e deve contenere: maiuscole, minuscole, numeri, e caratteri speciali(_, @, $, .)"})]})}function rs(){return Object(d.jsxs)("div",{className:"activation_section",children:[Object(d.jsx)("h1",{children:"Registrazione completata!"}),Object(d.jsx)("p",{className:"description",children:"Ti abbiamo inviato una mail per attivare il tuo account!"})]})}var cs=function(e){var t=e.user,n=(e.routes,e.setIsSigninIn),i=(Object(o.f)(),Object(a.useState)(new ts)),s=Object(c.a)(i,2),r=s[0],u=s[1],h=Object(a.useState)(new Q),b=Object(c.a)(h,2),f=b[0],g=b[1],v=Object(a.useState)(new Q),O=Object(c.a)(v,2),x=O[0],y=(O[1],Object(a.useState)(0)),w=Object(c.a)(y,2),k=w[0],N=w[1],I=Object(a.useState)(!1),C=Object(c.a)(I,2),_=C[0],S=C[1],T=Object(a.useState)(!1),z=Object(c.a)(T,2),A=z[0],P=z[1],L=Object(a.useState)({error:null,description:null}),E=Object(c.a)(L,2),q=E[0],D=E[1],R=Object(a.useState)([function(e){return Object(d.jsx)(is,Object(l.a)({},e))},function(e){return Object(d.jsx)(ss,Object(l.a)({},e))},function(e){return Object(d.jsx)(rs,Object(l.a)({},e))}]),M=Object(c.a)(R,2),F=M[0],B=M[1];function W(e){return V.apply(this,arguments)}function V(){return(V=Object(j.a)(p.a.mark((function e(a){var i,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0<=k+a<=F.length)){e.next=35;break}if(1!=a){e.next=34;break}if(q.error){e.next=31;break}if(i=!1,1!=k){e.next=19;break}return S(!0),e.next=8,t.isUsernameValid();case 8:if(s=e.sent){e.next=14;break}D({error:!0,description:"Nome utente gia esistente"}),P(!0),e.next=18;break;case 14:return e.next=16,t.isPasswordValid();case 16:(s=e.sent)||(D({error:!0,description:"Password non valida"}),P(!0));case 18:s&&(i=!1);case 19:if(k+a!=F.length-1){e.next=26;break}return S(!0),e.next=23,t.signIn().then((function(){return i={error:!1,description:"Utente registrato"}})).catch((function(e){var t;return i=void 0!=(null===(t=e.responseJSON.message)||void 0===t?void 0:t.isPasswordValid)?{error:!0,description:"Password non valida"}:{error:!0,description:"Nome o email gi\xe0 esistenti"}}));case 23:D(i),P(!0),i=i.error;case 26:k+a==F.length&&n(!1),i||N(k+a),S(!1),e.next=32;break;case 31:P(!0);case 32:e.next=35;break;case 34:N(k+a);case 35:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){f.setState(g),f.load({id:null,title:"Seleziona una lingua",choices:{IT:"Italiano",EN:"Inglese"},acceptedChoices:1}),r.setState(u),r.load((function(){var e,t=Object(m.a)(r.getQuestions());try{for(t.s();!(e=t.n()).done;){e.value;0}}catch(n){t.e(n)}finally{t.f()}B(F)})),x.load({id:null,title:"COme hai conosciuto Nova?",choices:{1:"Instagram",2:"Eventi",3:"Passaparola",4:"Inserzioni",5:"Altro"},acceptedChoices:1}),B(F)}),[]),Object(d.jsxs)("div",{onKeyDown:function(e){return"Enter"==e.key?W(1):null},children:[Object(d.jsx)("h1",{children:"Benvenuto"}),void 0!==F[k]?F[k]({user:t,setStatus:D,languageQuestion:f,meetingQuestion:x}):"",Object(d.jsx)("br",{}),k>0?Object(d.jsx)("button",{className:"button bounce",onClick:function(){return W(-1)},children:"Indietro"}):"",_?Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)("div",{className:"loading"})}):Object(d.jsx)("button",{className:"button bounce",onClick:function(){return W(1)},children:k>=F.length-1?"Fine":"Avanti"}),Object(d.jsx)("p",{className:"thin_orange",onClick:function(){n(!1),t.makeUserFieldEmpty()},children:"Oppure accedi"}),A?Object(d.jsx)(Zt,{isError:q.error,message:q.description,removeFunction:function(){return P(!1)}}):""]})};n(334);var os=function(e){var t=Object(a.useState)(new be),n=Object(c.a)(t,2),i=n[0],s=n[1],r=Object(a.useState)(void 0),l=Object(c.a)(r,2),u=l[0],h=l[1],j=Object(a.useState)(!1),b=Object(c.a)(j,2),p=b[0],m=b[1],f=Object(o.e)().state,g=Object(o.f)();return Object(a.useEffect)((function(){i.setState(s)}),[]),Object(a.useEffect)((function(){i.isLogged()?i.getUserInfo((function(){console.log(f),f&&void 0!=f.redirect?g(f.redirect,{state:{user:i.exportInfo()}}):g(ir.dashboard.path,{state:{user:i.exportInfo()}})})):h(!1)}),[i]),Object(d.jsx)("div",{id:"registration",children:void 0==u?"Loading...":Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"content",children:p?Object(d.jsx)(cs,{user:i,routes:ir,setIsSigninIn:m}):Object(d.jsx)(Ki,{user:i,routes:ir,setIsSigninIn:m})})})})};n(335);var ls=function(e){var t=Object(a.useState)(!1),n=Object(c.a)(t,2),i=n[0],s=n[1],r=Object(a.useState)(""),o=Object(c.a)(r,2),l=o[0],u=o[1];function h(e){""!=e&&(s(!0),window.location.href=e,setTimeout((function(){s(!1)}),1e3))}return Object(d.jsxs)("div",{id:"test_page",className:"centered",children:[Object(d.jsx)("input",{placeholder:"Inserisci il link",value:l,onChange:function(e){return u(e.target.value)}}),Object(d.jsx)("button",{onClick:function(){return h(l)},children:"Invia"}),Object(d.jsx)("br",{}),Object(d.jsx)("h6",{children:"Shortcut"}),Object(d.jsx)("button",{onClick:function(){return h("finanz://")},children:"finanz://"}),Object(d.jsx)("button",{onClick:function(){return h("finanz://finanz")},children:"finanz://finanz"}),i?Object(d.jsx)("h1",{children:"Fatto"}):""]})},us=n(456),ds=n(457),hs=n(106),js=n.p+"static/media/main_image.2431926d.png",bs=n.p+"static/media/news_phone.5c350662.png",ps=n.p+"static/media/course_phone.298714d8.png",ms=n.p+"static/media/academy_phone.faf15d0e.png",fs=n(226),gs=n.n(fs),vs=n(190),Os=n.n(vs),xs=n(191),ys=n.n(xs),ws=n(223),ks=n.n(ws),Ns=n(227),Is=n.n(Ns),Cs=n(224),_s=n.n(Cs),Ss=n(225),Ts=n.n(Ss);n.p;function zs(){var e=Object(a.useState)(0),t=Object(c.a)(e,2),n=t[0],i=t[1];function s(e){n+e>=0&&n+e<3&&i(n+e)}return Object(d.jsxs)("div",{className:"offer ball",children:[Object(d.jsx)("h6",{className:"sub_title animate",children:"COSA TROVERAI DENTRO FINANZ"}),Object(d.jsx)("h1",{className:"title animate",children:"Un'esperienza di crescita piena di opportunit\xe0"}),Object(d.jsx)("p",{className:"description animate",children:"Entra nell'area learning gratuita! Avrai accesso ad un'ampia raccolta di contenuti formativi, originali e approfonditi, in pi\xf9 ricevi continui aggiornamenti sulle ultime novit\xe0 finanziarie. "}),Object(d.jsx)("br",{}),Object(d.jsx)(u.a,{md:"11",className:"sections block mx-auto centered animate",children:Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"5",children:Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"10",className:"centered",children:0==n?Object(d.jsx)("img",{className:"img-fluid",style:{maxHeight:"600px"},src:ms}):1==n?Object(d.jsx)("img",{className:"img-fluid",style:{maxHeight:"600px"},src:ps}):2==n?Object(d.jsx)("img",{className:"img-fluid",style:{maxHeight:"600px"},src:bs}):""}),Object(d.jsxs)(u.a,{md:"2",className:"section_items_container",children:[Object(d.jsx)(Os.a,{onClick:function(){return s(-1)},className:"orange_icon first_arrow"}),Object(d.jsx)("div",{onClick:function(){return i(0)},className:"section_item "+(0==n?"selected":"")}),Object(d.jsx)("div",{onClick:function(){return i(1)},className:"section_item "+(1==n?"selected":"")}),Object(d.jsx)("div",{onClick:function(){return i(2)},className:"section_item "+(2==n?"selected":"")}),Object(d.jsx)(ys.a,{onClick:function(){return s(1)},className:"orange_icon last_arrow"})]})]})}),Object(d.jsx)(u.a,{md:"7",className:"centered offer_content",children:0==n?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"ACADEMY"}),Object(d.jsx)("h6",{children:"Un luogo dove apprendere, esplorare e confrontarsi!"}),Object(d.jsx)("br",{}),Object(d.jsx)("p",{className:"description",children:" Una percorso formativo personalizzato per imparare attraverso lezioni brevi e scorrevoli tutto quello che c'\xe8 da sapere sull'economia, la finanza, gli investimenti e molto altro"}),Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{xl:"4",className:"margin-bottom",children:Object(d.jsx)("div",{class:"block",children:Object(d.jsx)("p",{class:"description",children:"Una percorso formativo personalizzato per imparare attraverso lezioni brevi e scorrevoli tutto quello che c'\xe8 da sapere sull'economia, la finanza, gli investimenti e molto altro"})})}),Object(d.jsx)(u.a,{xl:"4",className:"margin-bottom",children:Object(d.jsx)("div",{class:"block",children:Object(d.jsx)("p",{class:"description",children:"Accesso illimitato e gratuito da qualsiasi dispositivo, senza limiti di tempo, per studiare secondo i tuoi ritmi e necessit\xe0"})})}),Object(d.jsx)(u.a,{xl:"4",className:"margin-bottom",children:Object(d.jsx)("div",{class:"block",children:Object(d.jsx)("p",{class:"description",children:" Tanti quiz, approfondimenti ed esempi realistici che assicurano una comprensione chiara ed immediata, alla portata di tutti"})})})]})]}):1==n?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"FINANZ PLUS"}),Object(d.jsx)("p",{className:"description",children:"Faremo in modo che tu possa raggiungere prima i tuoi risultati professionali e personali grazie ad esclusivi programmi interattivi e ultra mirati! Una full-immersion coinvolgente e interattiva per risparmiare tempo e ottimizzare quello che hai."}),Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{xl:"4",children:Object(d.jsx)("div",{class:"block",children:Object(d.jsx)("p",{class:"description",children:"Una full-immersion coinvolgente ed interattiva, dedicata agli studenti pi\xf9 ambizioni che non possono aspettare ad inseguire i propri obiettivi"})})}),Object(d.jsx)(u.a,{xl:"4",children:Object(d.jsx)("div",{class:"block",children:Object(d.jsx)("p",{class:"description",children:"Pi\xf9 di 25 video-corsi realizzati dai grandi esperti del settore finanziario, pi\xf9 tanti eventi live e webinar settimanali che ti guideranno in una community vincente"})})}),Object(d.jsx)(u.a,{xl:"4",children:Object(d.jsx)("div",{class:"block",children:Object(d.jsx)("p",{class:"description",children:"Dopo aver completato il corso riceverai il tuo personale CertiFinanz, che potrai condividere sui social ed allegare al CV per attestare le tue nuove competenze"})})})]})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"BREAKING NEWS"}),Object(d.jsx)("p",{className:"description",children:"Resta aggiornato in ogni momento con notizie pi\xf9 utili e importanti. Un team di esperti seleziona i fatti in tempo reale per tenerti informato su ci\xf2 che accade nel mondo: ovunque tu sia, sarai sempre a conoscenza dei trend di mercato pi\xf9 attuali."}),Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{xl:"4",children:Object(d.jsx)("div",{class:"block",children:Object(d.jsx)("p",{class:"description",children:"Resta aggiornato costantemente con le notizie pi\xf9 importanti ed interessanti sul mondo dell\u2019economia, della finanza e del trading"})})}),Object(d.jsx)(u.a,{xl:"4",children:Object(d.jsx)("div",{class:"block",children:Object(d.jsx)("p",{class:"description",children:"Un team di esperti valuta e seleziona i fatti in tempo reale, per tenerti informato e fornirti un report di notizie completo"})})}),Object(d.jsx)(u.a,{xl:"4",children:Object(d.jsx)("div",{class:"block",children:Object(d.jsx)("p",{class:"description",children:"Ovunque tu sia sarai sempre a conoscenza dei trend di mercato e delle novit\xe0 internazionali, senza che tu debba cercare tra tanti siti, app e giornali"})})})]})]})})]})})]})}var As=function(e){var t=e.windowInfo.mobileMode;return Object(d.jsxs)("div",{children:[Object(d.jsxs)(Ua.a,{children:[Object(d.jsxs)(Ie.a,{className:"main_section",children:[Object(d.jsxs)(u.a,{md:"6",className:"centered",style:{mixBlendMode:"plus-lighter"},children:[Object(d.jsx)(Re.a,{in:!0,style:{transitionDelay:"0.3s"},timeout:1e3,children:Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{className:"main_title",children:"Impara"}),Object(d.jsx)("h1",{className:"main_title",children:"la Finanza"}),Object(d.jsx)("h1",{className:"main_title",children:"divertendoti"})]})}),Object(d.jsx)(Re.a,{style:{transitionDelay:"0.3s"},in:!0,timeout:1e3,children:Object(d.jsx)("div",{children:Object(d.jsx)(u.a,{md:"9",children:Object(d.jsx)("p",{className:"description",children:"Il primo metodo gratuito che ti insegna tutto sul mondo finanziario in soli 5 minuti al giorno!"})})})}),Object(d.jsx)(Re.a,{style:{transitionDelay:"0.3s"},in:!0,timeout:1e3,children:Object(d.jsxs)("div",{className:"display_inline",children:[Object(d.jsx)("a",{href:"https://onelink.to/finanz-app",children:Object(d.jsx)("button",{className:"bounce button",children:"Inizia gratis"})}),Object(d.jsx)(hs.a,{to:Xs.home.path+"#discover",children:Object(d.jsx)("button",{className:"bounce button",children:"Scopri di pi\xf9"})})]})})]}),Object(d.jsx)(u.a,{md:"6",className:"centered",children:Object(d.jsx)(Re.a,{style:{transitionDelay:"0.3s"},in:!0,timeout:1e3,children:Object(d.jsx)("img",{src:js,className:"img-fluid"})})})]}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("a",{id:"discover"}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"love ball",children:[Object(d.jsxs)("div",{className:"animate",children:[Object(d.jsx)("h6",{className:"sub_title",children:"PERCHE' AMERAI FINANZ"}),Object(d.jsx)("h1",{className:"title",children:"Il sistema formativo adatto a tutti"})]}),Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"1"}),Object(d.jsx)(u.a,{md:"5",children:Object(d.jsxs)("div",{className:"love_card animate",children:[Object(d.jsx)("span",{className:"number mx-auto",children:"01"}),Object(d.jsxs)("div",{className:"content block",children:[Object(d.jsx)("div",{className:"icon_container",children:Object(d.jsx)(_s.a,{className:"icon"})}),Object(d.jsx)("h6",{className:"",children:"EFFICACE"}),Object(d.jsx)("p",{className:"description",children:"Lezioni brevi ed intuitive per ottenere risultati e migliorare velocemente."})]})]})}),Object(d.jsx)(u.a,{md:"5",children:Object(d.jsxs)("div",{className:"love_card mt-5 animate",children:[Object(d.jsx)("span",{className:"number mx-auto",children:"02"}),Object(d.jsxs)("div",{className:"content block",children:[Object(d.jsx)("div",{className:"icon_container",children:Object(d.jsx)(Ts.a,{className:"icon"})}),Object(d.jsx)("h6",{className:"",children:"STIMOLANTE"}),Object(d.jsx)("p",{className:"description",children:"Approccio dinamico e coinvolgente che mantiene al massimo la tua motivazione."})]})]})}),Object(d.jsx)(u.a,{md:"1"})]}),Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"1"}),Object(d.jsx)(u.a,{md:"5",children:Object(d.jsxs)("div",{className:"love_card animate",children:[Object(d.jsx)("span",{className:"number mx-auto",children:"03"}),Object(d.jsxs)("div",{className:"content block",children:[Object(d.jsx)("div",{className:"icon_container",children:Object(d.jsx)(gs.a,{className:"icon"})}),Object(d.jsx)("h6",{className:"",children:"DIVERTENTE"}),Object(d.jsx)("p",{className:"description",children:" Sviluppi abilit\xe0 e competenze pratiche, senza mai annoiarti."})]})]})}),Object(d.jsx)(u.a,{md:"5",children:Object(d.jsxs)("div",{className:"love_card animate",children:[Object(d.jsx)("span",{className:"number mx-auto",children:"04"}),Object(d.jsxs)("div",{className:"content block",children:[Object(d.jsx)("div",{className:"icon_container",children:Object(d.jsx)(Is.a,{className:"icon"})}),Object(d.jsx)("h6",{className:"",children:"INTELLIGENZA ARTIFICIALE"}),Object(d.jsx)("p",{className:"description",children:"Percorsi personalizzati che si adattano al tuo livello ed abitudini di studio."})]})]})}),Object(d.jsx)(u.a,{md:"1"})]})]}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(zs,{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"courses ball",children:[Object(d.jsxs)("div",{className:"animate",style:{mixBlendMode:"plus-lighter"},children:[t?Object(d.jsxs)("h6",{className:"sub_title",children:["ACCELLERA I ",Object(d.jsx)("br",{}),"TUOI PROGRESSI",Object(d.jsx)("br",{}),"CON FINANZ PLUS"]}):Object(d.jsx)("h6",{className:"sub_title",children:"ACCELLERA I TUOI PROGRESSI CON FINANZ PLUS"}),Object(d.jsx)("h1",{className:"title",children:"Contenuti originali accessibili a tutti"})]}),Object(d.jsx)("br",{}),Object(d.jsx)(Ie.a,{className:"animate",children:Object(d.jsxs)("div",{className:"auto_columns centered",children:[Object(d.jsx)("div",{className:"block bounce certificate odd",children:Object(d.jsx)("h5",{className:"m-0",children:"Finanza comportamentale"})}),Object(d.jsx)("div",{className:"block bounce certificate even",children:Object(d.jsx)("h5",{children:"Trading online"})}),Object(d.jsx)("div",{className:"block bounce certificate odd",children:Object(d.jsx)("h5",{children:"Titoli azionari"})}),Object(d.jsx)("div",{className:"block bounce certificate odd",children:Object(d.jsx)("h5",{children:"Mercato Forex"})}),Object(d.jsx)("div",{className:"block bounce certificate even",children:Object(d.jsx)("h5",{children:"Python per la finanza"})}),Object(d.jsx)("div",{className:"block bounce certificate odd",children:Object(d.jsx)("h5",{className:"m-0",children:"Excel per la finanza"})}),Object(d.jsx)("div",{className:"block bounce certificate even",children:Object(d.jsx)("h5",{children:"Cryptovalute"})}),Object(d.jsx)("div",{className:"block bounce certificate odd",children:Object(d.jsx)("h5",{children:"Macro Economia"})}),Object(d.jsx)("div",{className:"block bounce certificate odd",children:Object(d.jsx)("h5",{children:"Come avviare una Start-Up"})}),Object(d.jsx)("div",{className:"block bounce certificate even",children:Object(d.jsx)("h5",{children:"Contratti derivati"})})]})}),Object(d.jsx)("h1",{className:"description text-center animate",children:Object(d.jsx)("b",{children:"..."})}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"centered animate",children:Object(d.jsx)("button",{className:"button",children:"Entra in Finanz Plus"})})]}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{})]}),Object(d.jsx)("a",{id:"subscription"}),Object(d.jsx)("div",{className:"subscription",children:Object(d.jsxs)(Ua.a,{children:[Object(d.jsxs)("div",{className:"animate",children:[Object(d.jsx)("h6",{className:"sub_title",children:"Mostra i tuoi risultati e rafforza il tuo CV"}),Object(d.jsx)("h1",{className:"title",children:"Attiva l\u2019abbonamento e consegui il CertiFinanz"})]}),Object(d.jsx)("br",{}),Object(d.jsxs)(Ie.a,{className:"animate",children:[Object(d.jsx)(u.a,{md:"4",children:Object(d.jsxs)("div",{className:"block bounce prices",children:[Object(d.jsx)("h1",{className:"text-center",children:"Gratuito"}),Object(d.jsxs)("p",{className:"description",children:[Object(d.jsx)("h6",{className:"mini_title",children:"Academy"}),"Accesso illimitato all'area"]}),Object(d.jsxs)("p",{className:"description",children:[Object(d.jsx)("h6",{className:"mini_title",children:"News"}),"Trend del momento e novit\xe0 finanziarie"]}),Object(d.jsxs)("p",{className:"description disabled",children:[Object(d.jsx)("h6",{className:"mini_title",children:"Video corsi"}),"Accedi senza limiti a pi\xf9 di 25 corsi didattici online"]}),Object(d.jsxs)("p",{className:"description disabled",children:[Object(d.jsx)("h6",{className:"mini_title",children:"Lezioni esclusive"}),"Segui pi\xf9 di 500 lezioni dove e quando vuoi"]}),Object(d.jsxs)("p",{className:"description disabled",children:[Object(d.jsx)("h6",{className:"mini_title",children:"Formazione pratica"}),"Acquisisci competenze operative da applicare sul campo"]}),Object(d.jsxs)("p",{className:"description disabled",children:[Object(d.jsx)("h6",{className:"mini_title",children:"Webinar settimanali"}),"Partecipa a incontri ed Eventi Live tenuti da professionisti"]}),Object(d.jsxs)("p",{className:"description disabled",children:[Object(d.jsx)("h6",{className:"mini_title",children:"Community"}),"Fai domande ai docenti e ti confronti con gli esperti del settore"]}),Object(d.jsxs)("p",{className:"description disabled",children:[Object(d.jsx)("h6",{className:"mini_title",children:"Test e Quiz"}),"Esercitati e verifica i tuoi progressi per conoscere il tuo grado di preparazione"]}),Object(d.jsxs)("p",{className:"description disabled",children:[Object(d.jsx)("h6",{className:"mini_title",children:"CertiFinanZ"}),"Convalida i tuoi traguardi e conquista il mondo del lavoro con il nostro attestato"]}),Object(d.jsxs)("p",{className:"description disabled",children:[Object(d.jsx)("h6",{className:"mini_title",children:"2 Mesi Gratuiti"}),"Ottieni 60 giorni di apprendimento illimitato in regalo"]}),Object(d.jsx)("h1",{className:"text-center title",children:"\xa0"}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)("button",{className:"bounce button m-0",children:"Inizia Subito"})})]})}),Object(d.jsx)(u.a,{md:"4",children:Object(d.jsxs)("div",{className:"block prices bounce",children:[Object(d.jsx)("h1",{className:"text-center",children:"Mensile"}),Object(d.jsxs)("p",{className:"description",children:[Object(d.jsx)("h6",{className:"mini_title",children:"Academy"}),"Accesso illimitato all'area"]}),Object(d.jsxs)("p",{className:"description",children:[Object(d.jsx)("h6",{className:"mini_title",children:"News"}),"Trend del momento e novit\xe0 finanziarie"]}),Object(d.jsxs)("p",{className:"description",children:[Object(d.jsx)("h6",{className:"mini_title",children:"Video corsi"}),"Accedi senza limiti a pi\xf9 di 25 corsi didattici online"]}),Object(d.jsxs)("p",{className:"description",children:[Object(d.jsx)("h6",{className:"mini_title",children:"Lezioni esclusive"}),"Segui pi\xf9 di 500 lezioni dove e quando vuoi"]}),Object(d.jsxs)("p",{className:"description",children:[Object(d.jsx)("h6",{className:"mini_title",children:"Formazione pratica"}),"Acquisisci competenze operative da applicare sul campo"]}),Object(d.jsxs)("p",{className:"description",children:[Object(d.jsx)("h6",{className:"mini_title",children:"Webinar settimanali"}),"Partecipa  a incontri ed Eventi Live tenuti da professionisti"]}),Object(d.jsxs)("p",{className:"description",children:[Object(d.jsx)("h6",{className:"mini_title",children:"Community"}),"Fai domande ai docenti e ti confronti con gli esperti del settore"]}),Object(d.jsxs)("p",{className:"description",children:[Object(d.jsx)("h6",{className:"mini_title",children:"Test e Quiz"}),"Esercitati e verifica i tuoi progressi per conoscere il tuo grado di preparazione"]}),Object(d.jsxs)("p",{className:"description",children:[Object(d.jsx)("h6",{className:"mini_title",children:"CertiFinanZ"}),"Convalida i tuoi traguardi e conquista il mondo del lavoro con il nostro attestato"]}),Object(d.jsxs)("p",{className:"description disabled",children:[Object(d.jsx)("h6",{className:"mini_title",children:"2 Mesi Gratuiti"}),"Ottieni 60 giorni di apprendimento illimitato in regalo"]}),Object(d.jsx)("br",{}),Object(d.jsx)("h1",{className:"text-center title",children:"9,99\u20ac"}),Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)("button",{className:"bounce button m-0",children:"Inizia Subito"})})]})}),Object(d.jsx)(u.a,{md:"4",children:Object(d.jsxs)("div",{className:"block prices bounce",children:[Object(d.jsx)("h1",{className:"text-center",children:"Annuale"}),Object(d.jsxs)("p",{className:"description",children:[Object(d.jsx)("h6",{className:"mini_title",children:"Academy"}),"Accesso illimitato all'area"]}),Object(d.jsxs)("p",{className:"description",children:[Object(d.jsx)("h6",{className:"mini_title",children:"News"}),"Trend del momento e novit\xe0 finanziarie"]}),Object(d.jsxs)("p",{className:"description",children:[Object(d.jsx)("h6",{className:"mini_title",children:"Video corsi"}),"Accedi senza limiti a pi\xf9 di 25 corsi didattici online"]}),Object(d.jsxs)("p",{className:"description",children:[Object(d.jsx)("h6",{className:"mini_title",children:"Lezioni esclusive"}),"Segui pi\xf9 di 500 lezioni dove e quando vuoi"]}),Object(d.jsxs)("p",{className:"description",children:[Object(d.jsx)("h6",{className:"mini_title",children:"Formazione pratica"}),"Acquisisci competenze operative da applicare sul campo"]}),Object(d.jsxs)("p",{className:"description",children:[Object(d.jsx)("h6",{className:"mini_title",children:"Webinar settimanali"}),"Partecipa  a incontri ed Eventi Live tenuti da professionisti"]}),Object(d.jsxs)("p",{className:"description",children:[Object(d.jsx)("h6",{className:"mini_title",children:"Community"}),"Fai domande ai docenti e ti confronti con gli esperti del settore"]}),Object(d.jsxs)("p",{className:"description",children:[Object(d.jsx)("h6",{className:"mini_title",children:"Test e Quiz"}),"Esercitati e verifica i tuoi progressi per conoscere il tuo grado di preparazione"]}),Object(d.jsxs)("p",{className:"description",children:[Object(d.jsx)("h6",{className:"mini_title",children:"CertiFinanZ"}),"Convalida i tuoi traguardi e conquista il mondo del lavoro con il nostro attestato"]}),Object(d.jsxs)("p",{className:"description",children:[Object(d.jsx)("h6",{className:"mini_title",children:"2 Mesi Gratuiti"}),"Ottieni 60 giorni di apprendimento illimitato in regalo"]}),Object(d.jsx)("h1",{className:"text-center",id:"month_price_wrong",children:"119,98\u20ac"}),Object(d.jsx)("h1",{className:"text-center title",id:"month_price",children:"99\u20ac"}),Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)("button",{className:"bounce button m-0",children:"Inizia Subito"})})]})})]})]})}),Object(d.jsx)("a",{id:"faq"}),Object(d.jsx)(Ua.a,{children:Object(d.jsxs)("div",{className:"faq",children:[Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("h1",{className:"main_title text-center animate",children:"FAQ"}),Object(d.jsx)("br",{}),Object(d.jsxs)(Ie.a,{className:"animate",children:[Object(d.jsx)(u.a,{md:"1"}),Object(d.jsxs)(u.a,{md:"5",children:[Object(d.jsxs)(mn.a,{className:"block my_accordion",children:[Object(d.jsx)(fn.a,{expandIcon:Object(d.jsx)(wn.a,{className:"orange_icon"}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(d.jsx)("h5",{children:"Che cos\u2019\xe8 Finanz?"})}),Object(d.jsx)(gn.a,{children:Object(d.jsx)("p",{className:"description",children:"Finanz \xe8 la prima piattaforma gratuita accessibile a chiunque voglia migliorare le proprie conoscenze finanziarie e sviluppare nuove abilit\xe0 pratiche da applicare nel mondo degli investimenti."})})]}),Object(d.jsxs)(mn.a,{className:"block my_accordion",children:[Object(d.jsx)(fn.a,{expandIcon:Object(d.jsx)(wn.a,{className:"orange_icon"}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(d.jsx)("h5",{children:"Perch\xe9 scaricare l\u2019App Finanz?"})}),Object(d.jsx)(gn.a,{children:Object(d.jsx)("p",{className:"description",children:"Avrai accesso gratuito a tantissimi percorsi formativi che ti garantiscono un apprendimento completo, aggiornato e adattato alle tue esigenze, per migliorare passo a passo le competenze finanziarie che vuoi tu."})})]}),Object(d.jsxs)(mn.a,{className:"block my_accordion",children:[Object(d.jsx)(fn.a,{expandIcon:Object(d.jsx)(wn.a,{className:"orange_icon"}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(d.jsx)("h5",{children:"Come scarico l\u2019App di Finanz?"})}),Object(d.jsx)(gn.a,{children:Object(d.jsx)("p",{className:"description",children:"L\u2019App \xe8 disponibile gratuitamente per sistemi iOs e Android, basta aprire Apple Store o Play Store per scaricarla."})})]}),Object(d.jsxs)(mn.a,{className:"block my_accordion",children:[Object(d.jsx)(fn.a,{expandIcon:Object(d.jsx)(wn.a,{className:"orange_icon"}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(d.jsx)("h5",{children:"Devo pagare per scaricare l\u2019App?"})}),Object(d.jsx)(gn.a,{children:Object(d.jsx)("p",{className:"description",children:"No, il download \xe8 completamente gratuito e ti d\xe0 libero accesso a tutti i percorsi di studio disponibili."})})]}),Object(d.jsxs)(mn.a,{className:"block my_accordion",children:[Object(d.jsx)(fn.a,{expandIcon:Object(d.jsx)(wn.a,{className:"orange_icon"}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(d.jsx)("h5",{children:"Servono requisiti per studiare dentro Finanz?"})}),Object(d.jsx)(gn.a,{children:Object(d.jsx)("p",{className:"description",children:"Nessun requisito \xe8 necessario per iniziare i nostri percorsi, l\u2019apprendimento \xe8 aperto a chiunque e soprattutto non \xe8 mai troppo tardi per cominciare a imparare!"})})]})]}),Object(d.jsxs)(u.a,{md:"5",children:[Object(d.jsxs)(mn.a,{className:"block my_accordion",children:[Object(d.jsx)(fn.a,{expandIcon:Object(d.jsx)(wn.a,{className:"orange_icon"}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(d.jsx)("h5",{children:"Perch\xe9 abbonarsi alla sezione Finanz Plus?"})}),Object(d.jsx)(gn.a,{children:Object(d.jsx)("p",{className:"description",children:"Solo gli abbonati hanno accesso ai video corsi disponibili e a quelli nuovi in uscita! Inoltre potrai partecipare ai Webinar settimanali e agli eventi tenuti dai nostri esperti, rivedere le registrazioni e conseguire il CertiFinanZ."})})]}),Object(d.jsxs)(mn.a,{className:"block my_accordion",children:[Object(d.jsx)(fn.a,{expandIcon:Object(d.jsx)(wn.a,{className:"orange_icon"}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(d.jsx)("h5",{children:"Dove posso seguire le lezioni?"})}),Object(d.jsx)(gn.a,{children:Object(d.jsx)("p",{className:"description",children:"Potrai seguire i contenuti video dal tuo smartphone, da pc e tablet, cambiando dispositivo ogni volta che vuoi. Dovrai semplicemente scaricare l\u2019App ed eseguire l\u2019accesso con le tue credenziali."})})]}),Object(d.jsxs)(mn.a,{className:"block my_accordion",children:[Object(d.jsx)(fn.a,{expandIcon:Object(d.jsx)(wn.a,{className:"orange_icon"}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(d.jsx)("h5",{children:"Posso continuare ad avere accesso ai video-corsi anche dopo averli completati?"})}),Object(d.jsx)(gn.a,{children:Object(d.jsx)("p",{className:"description",children:"S\xec. Potrai continuare ad accedere al corso anche dopo averlo completato, a condizione che il tuo account sia attivo ed in regola."})})]}),Object(d.jsxs)(mn.a,{className:"block my_accordion",children:[Object(d.jsx)(fn.a,{expandIcon:Object(d.jsx)(wn.a,{className:"orange_icon"}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(d.jsx)("h5",{children:"Che cos\u2019\xe8 il CertiFinanz?"})}),Object(d.jsx)(gn.a,{children:Object(d.jsx)("p",{className:"description",children:"Completando il tuo percorso formativo in Finanz Plus otterrai il CertiFinanz per attestare le tue nuove competenze e mostrate a tutti i traguardi che hai raggiunto."})})]}),Object(d.jsxs)(mn.a,{className:"block my_accordion",children:[Object(d.jsx)(fn.a,{expandIcon:Object(d.jsx)(wn.a,{className:"orange_icon"}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(d.jsx)("h5",{children:"Come si cancella l\u2019abbonamento a Finanz Plus?"})}),Object(d.jsx)(gn.a,{children:Object(d.jsx)("p",{className:"description",children:"Se ci ripensi puoi annullare il tuo abbonamento in pochi e semplici click da questo link"})})]})]}),Object(d.jsx)(u.a,{md:"1"})]}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"waiting_for",children:[Object(d.jsx)("h1",{className:"main_title text-center animate",children:"Cosa stai aspettando?"}),Object(d.jsx)("br",{}),Object(d.jsx)(u.a,{md:"6",className:"mx-auto animate",children:Object(d.jsxs)("h1",{className:"text-center description",children:["Impara tutto sul mondo della finanza e ",Object(d.jsx)("b",{children:"conquista il tuo futuro"})]})}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"centered animate",children:Object(d.jsx)("button",{className:"bounce button",children:"Registrati"})})]})]})}),Object(d.jsx)(ks.a,{location:"bottom",buttonText:"Capito!",expires:150,buttonStyle:{background:"var(--details_color)",color:"#FFF",borderRadius:"10px"},children:"Questo sito web utilizza i cookie per migliorare l'esperienza utente"})]})},Ps=n(499),Ls=n(476),Es=n(500),qs=n(502),Ds=n(453),Rs=n(501),Ms=n(229),Fs=n.n(Ms),Bs=n(230),Ws=n.n(Bs),Vs=n(231),Hs=n.n(Vs);var Us=function(e){var t=e.windowInfo.mobileMode,n=Object(a.useState)(0),i=Object(c.a)(n,2),s=i[0],r=i[1];return Object(a.useEffect)((function(){var e,t=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&(e.target.style.opacity=1)}))})),n=Object(U.a)(document.querySelectorAll(".animate")),a=Object(m.a)(n);try{for(a.s();!(e=a.n()).done;){var i=e.value;t.observe(i)}}catch(s){a.e(s)}finally{a.f()}}),[]),Object(d.jsx)("div",{className:"info_section animate",children:Object(d.jsxs)(Ua.a,{id:"about_us",children:[Object(d.jsx)("br",{}),Object(d.jsx)("h1",{className:"main_title text-center animate",children:"Chi siamo"}),Object(d.jsxs)(Na.a,{centered:!0,variant:t?"scrollable":"standard",value:s,onChange:function(e,t){r(t)},className:"animate",children:[Object(d.jsx)(Ia.a,{label:"Mission",value:0}),Object(d.jsx)(Ia.a,{label:"Il nostro approccio",value:1}),Object(d.jsx)(Ia.a,{label:"Contattaci",value:2})]}),Object(d.jsx)("hr",{className:"m-0"}),Object(d.jsx)("br",{}),Object(d.jsx)(u.a,{md:"10",className:"mx-auto mission animate",children:0==s?Object(d.jsxs)("div",{children:[Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"3",className:"vertical_middle",children:Object(d.jsx)("h1",{className:"title_orange m-3",children:"L'inizio"})}),Object(d.jsx)(u.a,{md:"7",children:Object(d.jsxs)("p",{className:"description m-3",children:["Delusi dalla fatica con cui viene affronta l\u2019educazione finanziaria in Italia e consapevoli di quanto sia difficile trovare materiale didattico utile e di qualit\xe0 per imparare a gestione dei propri risparmi, i fondatori di Finanz si sono riuniti per trovare una soluzione. ",Object(d.jsx)("br",{})," L\u2019enorme buco nero di analfabetizzazione economica andava colmato una volta per tutte!"]})})]}),Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"3",className:"vertical_middle",children:Object(d.jsx)("h1",{className:"title_orange m-3",children:"Il problema"})}),Object(d.jsx)(u.a,{md:"7",children:Object(d.jsx)("p",{className:"description m-3",children:"Quasi tutti i giovani sviluppano l\u2019idea che investire sia una \u201cfaccenda\u201d molto complicata e rischiosa, da cui tenersi alla larga, oppure sono convinti che questi concetti non li riguardano perch\xe9 sono rivolti esclusivamente a milionari, ricchi imprenditori e broker."})})]}),Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"3",className:"vertical_middle",children:Object(d.jsx)("h1",{className:"title_orange m-3",children:"La nostra idea"})}),Object(d.jsx)(u.a,{md:"7",children:Object(d.jsxs)("p",{className:"description m-3",children:["La verit\xe0 \xe8 che sapere come fare a gestire i propri soldi \xe8 un\u2019abilit\xe0 che dovrebbe essere insegnata fin dal primo anno delle scuole superiori. E\u2019 proprio questa l\u2019et\xe0 giusta per imparare le prime nozioni finanziarie, evitando di diventare pedine del marketing, dell\u2019inflazione o dei sistemi monetari. ",Object(d.jsx)("br",{})," La finanza \xe8 parte integrante della nostra vita ed \xe8 quindi bene iniziare a conoscerne i principi il prima possibile!"]})})]}),Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"3",className:"vertical_middle",children:Object(d.jsx)("h1",{className:"title_orange m-3",children:"La nostra anima"})}),Object(d.jsx)(u.a,{md:"7",children:Object(d.jsxs)("p",{className:"description m-3",children:["Cos\xec ci siamo rimboccati le maniche e abbiamo lanciato questo progetto per riuscire a coinvolgere quante pi\xf9 persone possibili, creando un\u2019opportunit\xe0 di apprendimento inclusiva, stimolante e di alto livello! ",Object(d.jsx)("br",{})," Finanz vuole spiegare davvero a tutti, in modo chiaro e corretto, come utilizzare al meglio il proprio denaro, preparando attraverso corsi efficaci come un libro ma ricreativi come un gioco, per facilitare l\u2019apprendimento di questa materia tanto sconosciuta quanto necessaria."]})})]})]}):1==s?Object(d.jsx)(u.a,{md:"10",className:"approach mx-auto",children:Object(d.jsxs)(Ps.a,{position:"right",children:[Object(d.jsxs)(Ls.a,{children:[Object(d.jsxs)(Es.a,{children:[Object(d.jsx)(Rs.a,{}),Object(d.jsx)(qs.a,{})]}),Object(d.jsxs)(Ds.a,{children:[Object(d.jsx)("h5",{className:"section_title",children:"Una sfida didattica di grande valore"}),Object(d.jsxs)("p",{className:"description",children:["Offriamo un apprendimento intuitivo e funzionale, dedicato ai ragazzi che vogliono compiere scelte rilevanti per il loro benessere economico. ",Object(d.jsx)("br",{}),"I nostri contenuti sono stati redatti e progettati da un team di professionisti ed esperti che hanno creato percorsi formativi di alto livello che si adattano, grazie all\u2019intelligenza artificiale, alle esigenze di ogni studente."]})]})]}),Object(d.jsxs)(Ls.a,{children:[Object(d.jsxs)(Es.a,{children:[Object(d.jsx)(Rs.a,{}),Object(d.jsx)(qs.a,{})]}),Object(d.jsxs)(Ds.a,{children:[Object(d.jsx)("h5",{className:"section_title",children:"Educare bene significa anche coinvolgere"}),Object(d.jsx)("p",{className:"description",children:"Siamo consapevoli che la chiave giusta per istruire i giovani sia attraverso l\u2019intrattenimento, per mantenere viva la loro motivazione e spingerli verso i progressi e le vittorie che meritano. Per questo abbiamo pianificato lezioni di breve durata, alternate a quiz e curiosit\xe0, cos\xec da mantenere esplosiva l\u2019attenzione dei ragazzi."})]})]}),Object(d.jsxs)(Ls.a,{children:[Object(d.jsxs)(Es.a,{children:[Object(d.jsx)(Rs.a,{}),Object(d.jsx)(qs.a,{})]}),Object(d.jsxs)(Ds.a,{children:[Object(d.jsx)("h5",{className:"section_title",children:"Aiutare i ragazzi a costruirsi un futuro finanziario migliore"}),Object(d.jsxs)("p",{className:"description",children:["Utilizziamo un approccio innovativo e originale, che si pone l\u2019obiettivo di costruire, potenziare ed espandere le conoscenze economiche dei pi\xf9 giovani in maniera da impattare positivamente sul loro presente e soprattutto sul loro futuro. ",Object(d.jsx)("br",{}),"Finanz \xe8 un nuovo capitolo, in cui il mondo della finanza e quello degli studenti si unisce per rimettere moto le loro opportunit\xe0 e speranze."]})]})]})]})}):2==s?Object(d.jsxs)("div",{className:"centered text-center",children:[Object(d.jsx)("h5",{children:"Per informazioni"}),Object(d.jsx)("p",{className:"description",children:Object(d.jsx)("a",{href:"mailto:info@finan-z.com",children:"info@finan-z.com"})}),Object(d.jsx)("h5",{children:"Per investitori"}),Object(d.jsx)("p",{className:"description",children:Object(d.jsx)("a",{href:"mailto: lorenzoperotta@gmail.com",children:"lorenzoperotta@gmail.com"})}),Object(d.jsx)("hr",{}),Object(d.jsxs)("div",{className:"display_inline mx-auto",children:[Object(d.jsx)("a",{href:"https://www.youtube.com/channel/UCSC55Kl1-pWl2ncJrxwUZng",children:Object(d.jsx)(Fs.a,{className:"orange_icon m-1",style:{color:"var(--details_color)"}})}),Object(d.jsx)("a",{href:"https://instagram.com/finanz_app?igshid=YmMyMTA2M2Y=",children:Object(d.jsx)(Ws.a,{className:"orange_icon m-1"})}),Object(d.jsx)("a",{href:"https://www.linkedin.com/company/finanz-app/",children:Object(d.jsx)(Hs.a,{className:"orange_icon m-1"})})]})]}):""})]})})},Gs=n(462),Ys=n(233),Qs=n.n(Ys);var Js=function(e){var t=e.windowInfo,n=Object(o.f)(),i=Object(a.useState)(new H),s=Object(c.a)(i,2),r=s[0],l=s[1],h=Object(a.useState)(void 0),j=Object(c.a)(h,2),b=j[0],p=j[1];return Object(a.useEffect)((function(){r.setState(l),r.loadCategories().then((function(){return p(Object.keys(r.getCategories())[0])})),r.loadNewsPerCategory("economia")}),[]),Object(a.useEffect)((function(){r.loadNewsPerCategory(b)}),[b]),Object(d.jsxs)("div",{className:"blog",children:[Object(d.jsx)("br",{}),Object(d.jsxs)(Ua.a,{children:[Object(d.jsx)("div",{className:"block",children:Object(d.jsx)(Gs.a,{children:r.getNewsPerCategory("economia").map((function(e){return Object(d.jsx)(Gs.a.Item,{children:Object(d.jsxs)("div",{className:"carousel_item",children:[Object(d.jsx)("div",{className:"gradient"}),Object(d.jsx)("img",{className:"image",src:e.getWallpaper()}),Object(d.jsxs)(u.a,{md:"8",className:"content mx-auto",children:[Object(d.jsx)("h3",{className:"title",children:e.getTitle()}),Object(d.jsx)("h6",{className:"author",children:e.getAuthor()}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)(Qs.a,{className:"orange_icon open_news bounce",onClick:function(){return n(Xs.news.path+e.getId())}})}),Object(d.jsx)("br",{})]})]})})}))})}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"per_category",children:[Object(d.jsx)("h2",{children:"Per categoria"}),Object(d.jsx)("div",{className:"horizontal_scroller",children:Object.keys(r.getCategories()).map((function(e){return Object(d.jsx)(et.a,{label:r.getCategories()[e],className:"my_chip "+(e==b?"orange":""),onClick:function(){return p(e)}})}))}),Object(d.jsx)("div",{className:"news_list",children:r.getNewsPerCategory(b).map((function(e){return Object(d.jsx)(Pa.a,{in:!0,children:Object(d.jsx)("div",{children:Object(d.jsx)(Se,{content:e,windowInfo:t,layout:"squared",customRedirectUrl:Xs.news.path})})})}))}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"centered",children:r.moreNews(b)?Object(d.jsx)("h6",{className:"load_more",onClick:function(){r.loadNewsPerCategory(b)},children:"Carica di pi\xf9"}):""})]})]})]})};var Ks=function(e){return e.windowInfo,Object(d.jsx)(Xa.a,{className:"news_page",children:Object(d.jsx)(ci,{})})},Zs="/home/",Xs={home:{path:Zs,url:"/",component:function(e){return Object(d.jsx)(As,Object(l.a)({},e))}},aboutus:{path:"/home/aboutus",url:"/aboutus",component:function(e){return Object(d.jsx)(Us,Object(l.a)({},e))}},blog:{path:"/home/blog",url:"/blog",component:function(e){return Object(d.jsx)(Js,Object(l.a)({},e))}},news:{path:"/home/blog/",url:"/blog/:id",component:function(e){return Object(d.jsx)(Ks,Object(l.a)({},e))}}};n(337);var $s=function(e){var t=e.windowInfo,n=Object(o.e)().pathname;return Object(a.useEffect)((function(){var e,t=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&(e.target.style.opacity=1)}))})),n=Object(U.a)(document.querySelectorAll(".animate")),a=Object(m.a)(n);try{for(a.s();!(e=a.n()).done;){var i=e.value;t.observe(i)}}catch(s){a.e(s)}finally{a.f()}}),[]),Object(d.jsxs)("div",{id:"home",children:[Object(d.jsx)("a",{id:"start"}),Object(d.jsx)(Ua.a,{children:Object(d.jsx)(us.a,{bg:"dark",expand:"lg",className:"navbar ball",children:Object(d.jsxs)(Ua.a,{fluid:!0,children:[Object(d.jsx)(us.a.Brand,{href:"#",children:Object(d.jsx)("div",{className:"logo centered",children:Object(d.jsx)("img",{src:Mi,width:"30px"})})}),Object(d.jsx)(us.a.Toggle,{"aria-controls":"navbarScroll"}),Object(d.jsxs)(us.a.Collapse,{id:"navbarScroll",children:[Object(d.jsxs)(ds.a,{className:"me-auto my-2 my-lg-0",style:{maxHeight:"100px"},navbarScroll:!0,children:[Object(d.jsx)(ds.a.Link,{href:"",className:"nav_item"+(n==Xs.home.path?" selected":""),children:Object(d.jsx)(r.b,{to:Xs.home.path,children:"Home"})}),Object(d.jsx)(ds.a.Link,{href:"",className:"nav_item",children:Object(d.jsx)(hs.a,{to:Xs.home.path+"#subscription",children:"Prezzi"})}),Object(d.jsx)(ds.a.Link,{href:"",className:"nav_item"+(n==Xs.blog.path?" selected":""),children:Object(d.jsx)(r.b,{to:Xs.blog.path,children:"Blog"})}),Object(d.jsx)(ds.a.Link,{href:"",className:"nav_item"+(n==Xs.aboutus.path?" selected":""),children:Object(d.jsx)(r.b,{to:Xs.aboutus.path,children:"Chi siamo"})})]}),Object(d.jsx)("a",{href:"https://onelink.to/finanz-app",children:Object(d.jsx)("button",{className:"bounce button",children:"Accedi"})})]})]})})}),Object(d.jsx)(Ra,{children:Object.values(Xs).map((function(e){return Object(d.jsx)(o.a,{path:e.url,element:e.component({windowInfo:t})})}))}),Object(d.jsx)("div",{className:"info_section animate",children:Object(d.jsxs)(Ua.a,{children:[Object(d.jsxs)(Ie.a,{children:[Object(d.jsx)(u.a,{md:"3",children:Object(d.jsx)("div",{className:"logo centered mx-auto",children:Object(d.jsx)("img",{src:Mi,width:"50px"})})}),Object(d.jsxs)(u.a,{md:"3",children:[Object(d.jsx)("h5",{children:Object(d.jsx)("b",{children:"ABOUT"})}),Object(d.jsx)(hs.a,{to:Xs.home.path+"#start",children:Object(d.jsx)("p",{children:"Home"})}),Object(d.jsx)(hs.a,{to:Xs.aboutus.path+"#start",children:Object(d.jsx)("p",{children:"Chi siamo"})})]}),Object(d.jsxs)(u.a,{md:"3",children:[Object(d.jsx)("h5",{children:Object(d.jsx)("b",{children:"SOCIAL"})}),Object(d.jsx)("a",{href:"https://www.linkedin.com/company/finanz-app/",children:Object(d.jsx)("p",{children:"Linkedin"})}),Object(d.jsx)("a",{href:"https://instagram.com/finanz_app?igshid=YmMyMTA2M2Y=",children:Object(d.jsx)("p",{children:"Instagram"})}),Object(d.jsx)("a",{href:"https://www.youtube.com/channel/UCSC55Kl1-pWl2ncJrxwUZng",children:Object(d.jsx)("p",{children:"Youtube"})})]}),Object(d.jsxs)(u.a,{md:"3",children:[Object(d.jsx)("h5",{children:Object(d.jsx)("b",{children:"SUPPORTO"})}),Object(d.jsx)(hs.a,{to:Xs.home.path+"#faq",children:Object(d.jsx)("p",{children:"Faq e Assistenza"})}),Object(d.jsx)("p",{children:"Login"})]})]}),Object(d.jsx)("br",{}),Object(d.jsx)("p",{className:"description text-center m-0",children:"NOVA CAPITAL SRL SB - Capitale sociale 10.000\u20ac - Partita IVA: 12358930969 - PEC novacapitalmi@legalmail.it"})]})})]})};var er=function(){var e="loading",t="error",n=Object(o.g)().code,i=Object(a.useState)(e),s=Object(c.a)(i,2),r=s[0],l=s[1];return Object(o.f)(),Object(a.useEffect)(Object(j.a)(p.a.mark((function e(){var a,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0==n){e.next=6;break}return a=new be,e.next=4,a.activateUser(n);case 4:i=e.sent,l(i?t:"ok");case 6:case"end":return e.stop()}}),e)}))),[n]),Object(d.jsx)("div",{id:"registration",children:Object(d.jsx)("div",{className:"content animate",children:Object(d.jsx)(Re.a,{in:!0,style:{transitionDuration:"500ms"},children:Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Attivazione account"}),r==e?Object(d.jsx)("p",{className:"description",children:"Attivazione del codice in corso..."}):r==t?Object(d.jsx)("p",{className:"description",children:"Attenzione! Link non valido"}):"ok"==r?Object(d.jsx)("p",{className:"description",children:"Account attivato. Buon divertimento!"}):""]})})})})};var tr=function(){Object(o.e)().pathname;var e=Object(o.g)().code,t=Object(o.f)(),n=new be,i=Object(a.useState)(""),s=Object(c.a)(i,2),r=s[0],l=s[1],h=Object(a.useState)(""),b=Object(c.a)(h,2),m=b[0],f=b[1],g=Object(a.useState)(!1),v=Object(c.a)(g,2),O=v[0],x=v[1],y=Object(a.useState)({}),w=Object(c.a)(y,2),k=w[0],N=w[1],I=Object(a.useState)(!1),C=Object(c.a)(I,2),_=C[0],S=C[1];function T(){return z.apply(this,arguments)}function z(){return(z=Object(j.a)(p.a.mark((function a(){return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r!=m||""==r){a.next=15;break}return x(!0),a.next=4,n.isPasswordValid(r);case 4:if(!a.sent){a.next=11;break}return a.next=7,n.recoverPassword(r,m,e);case 7:a.sent?(N({error:!0,message:"Link non valido"}),x(!1)):(N({error:!1,message:"Password modificata!"}),S(!0),setTimeout((function(){return t(ir.login.path)}),4e3)),a.next=13;break;case 11:N({error:!0,message:"Password non valida"}),x(!1);case 13:a.next=17;break;case 15:N({error:!0,message:"Le password non sono uguali"}),x(!1);case 17:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(d.jsxs)("div",{id:"registration",children:[Object(d.jsxs)("div",{className:"content"+(_?" animate":""),children:[Object(d.jsx)("h1",{children:"Recupera password"}),Object(d.jsxs)("p",{className:"thin",children:["Codice: ",e]}),Object(d.jsxs)(u.a,{md:"8",className:"centered",onKeyDown:function(e){return"Enter"==e.key?T():null},children:[Object(d.jsx)("input",{className:"input",placeholder:"Password",type:"password",autoFocus:!0,value:r,onChange:function(e){return l(e.target.value)}}),Object(d.jsx)("input",{className:"input",placeholder:"Conferma password",type:"password",value:m,onChange:function(e){return f(e.target.value)}}),Object(d.jsx)("p",{className:"description",style:{color:"var(--details_color)",fontSize:"12px"},children:"* la password deve essere lunga almeno 8 caratteri e deve contenere: maiuscole, minuscole, numeri, e caratteri speciali(_, @, $, .)"})]}),O?Object(d.jsx)("div",{className:"loading"}):Object(d.jsx)("button",{className:"button",onClick:function(){return T()},children:"Invia"})]}),0!=Object.keys(k).length?Object(d.jsx)(Zt,{isError:k.error,message:k.message,removeFunction:function(){return N({})}}):""]})};n(342);var nr=function(){return Object(d.jsxs)("div",{id:"policy",children:[Object(d.jsx)("br",{}),Object(d.jsxs)(Ua.a,{className:"block",children:[Object(d.jsx)("br",{}),Object(d.jsx)("h1",{children:"INFORMATIVA RESA AI SENSI DEGLI ART. 13-14 DEL GDPR (GENERAL DATA PROTECTION REGULATION) 2016/679"}),Object(d.jsx)("p",{children:"La presente informativa sulla privacy riguarda la vostra partecipazione e tutte le attivit\xe0 collegate alle community di NOVA CAPITAL SRL Societ\xe0 Benefit \u2013 o in forma abbreviata NOVA CAPITAL SRL SB. Il suo scopo \xe8 spiegare i motivi per cui i dati personali forniti vengono trattati, il modo in cui sono raccolti, gestiti, protetti tali dati, quale uso \xe8 fatto delle informazioni ricavate e quali diritti \xe8 possibile esercitare al riguardo. In particolare, per l\u2019instaurazione e l\u2019esecuzione dei rapporti con Voi in corso, la nostra organizzazione \xe8 in possesso di Vostri dati, acquisiti anche verbalmente, direttamente o tramite terzi, qualificati come personali dal Regolamento Europe 2016/679 dal (GDPR). Secondo la normativa indicata, tale trattamento sar\xe0 improntato ai principi di correttezza, liceit\xe0, trasparenza e di tutela della Vostra riservatezza e dei Vostri diritti. Ai sensi dell'articolo 13 del GDPR 2016/679, pertanto, Vi forniamo le seguenti informazioni:"}),Object(d.jsx)("h3",{children:"Natura dei dati trattati"}),Object(d.jsx)("p",{children:"Trattiamo i vostri dati personali normali per permettervi di partecipare alle iniziative e alle attivit\xe0 della community NOVA CAPITAL SRL Societ\xe0 Benefit \u2013 o in forma abbreviata NOVA CAPITAL SRL SB Non verranno trattati dati particolari. La base giuridica \xe8 costituita dagli artt. 6, comma 1 lett  a (consenso), b (esecuzione contratto), f (Interesse legittimo del titolare)."}),Object(d.jsx)("h5",{children:"Finalit\xe0 del trattamento e durata"}),Object(d.jsx)("p",{children:"La raccolta e l'utilizzo dei dati ci consentono di determinare l'appartenenza di un utente alla community, di contattare gli utenti per questioni relative alle attivit\xe0 online e offline nell'ambito della community stessa, per conoscere gli specifici interessi  e per garantire la loro partecipazione alle varie iniziative. I dati sono trattati per le seguenti finalit\xe0: adempiere ad obblighi precontrattuali, contrattuali e fiscali derivanti da rapporti con voi in essere; adempiere agli obblighi previsti dalla legge, da un regolamento, dalla normativa comunitaria o da un ordine dell\u2019Autorit\xe0; inviare comunicazioni sulle attivit\xe0 della community; esercitare i diritti del Titolare, ad esempio il diritto di difesa in giudizio; raccogliere dati relativi alle modalit\xe0 di utilizzo della nostra app, per fornire servizi di specifico interesse. Non siamo in possesso di Vostri dati qualificabili come particolari o di natura giudiziaria (artt.9 e 10 del GDPR). Ove il soggetto che conferisce i dati sia minorenne, tale trattamento \xe8 lecito soltanto se e nella misura in cui il consenso \u2013 ove necessario - sia prestato dal titolare della responsabilit\xe0 genitoriale per il quale sono acquisiti i dati identificativi. I dati vengono trattati per tutta la durata prevista da obblighi legali e fiscali e per la gestione di attivit\xe0 o eventi a cui parteciperete. Il Titolare tratter\xe0 i dati personali per il tempo necessario per adempiere alle finalit\xe0 di cui sopra e nel rispetto degli obblighi di legge."}),Object(d.jsx)("h3",{children:"Obbligo o facolt\xe0 di conferire i dati"}),Object(d.jsx)("p",{children:" Per quanto concerne i dati che siamo obbligati a conoscere, al fine di adempiere agli obblighi previsti da leggi, il loro mancato conferimento da parte Vostra comporta l\u2019impossibilit\xe0 di instaurare o proseguire il rapporto, nei limiti in cui tali dati sono necessari all\u2019esecuzione dello stesso."}),Object(d.jsx)("h3",{children:"Ambito di conoscenza dei Vostri dati"}),Object(d.jsx)("p",{children:" le seguenti categorie di soggetti possono venire a conoscenza dei Vostri dati, in qualit\xe0 di responsabili o incaricati del trattamento, nominati dalla scrivente associazione titolare del trattamento: soci, consiglieri, uffici di segreteria interni; addetti alla contabilit\xe0 ed alla fatturazione."}),Object(d.jsx)("h3",{children:"Comunicazione e diffusione"}),Object(d.jsx)("p",{children:" i Vostri dati non verranno da noi diffusi a soggetti indeterminati mediante la loro messa a disposizione o consultazione. I Vostri dati potranno da noi essere comunicati, per quanto di loro rispettiva e specifica competenza, ad Enti ed in generale ad ogni soggetto pubblico o privato rispetto al quale vi sia per noi obbligo (o facolt\xe0 riconosciuta da norme di legge o di normativa secondaria o comunitaria) o necessit\xe0 di comunicazione, nonch\xe9 a soggetti nostri consulenti, nei limiti necessari per svolgere il loro incarico presso la nostra organizzazione, previo nostra lettera di incarico che imponga il dovere di riservatezza e sicurezza."}),Object(d.jsx)("h3",{children:"Trasferimento dati in paesi fuori dall\u2019Unione Europea"}),Object(d.jsx)("p",{children:" Solo ove necessario i Dati Personali potranno essere trasferiti all\u2019estero in paesi extra-europei il cui livello di protezione dei dati \xe8 stato ritenuto adeguato dalla commissione Europea ai sensi dell\u2019art. 45 del GDPR oppure previa sottoscrizione delle clausole contrattuali standard (Standard Contractual Clauses) adottate/approvate dalla Commissione Europea ai sensi dell\u2019art.  46, 2 lett. C) e d) oppure previa adozione delle altre garanzie di cui agli art.  46 e 47 del GDPR."}),Object(d.jsx)("h3",{children:"I Vostri diritti"}),Object(d.jsxs)("p",{children:["Nella Vostra qualit\xe0 di interessato, avete i diritti di cui all\u2019art. 15 GDPR e precisamente i diritti di:  i. ottenere la conferma dell'esistenza o meno di dati personali che Ti riguardano, anche se non ancora registrati, e la loro comunicazione in forma intelligibile; ii. ottenere l'indicazione: a) dell'origine dei dati personali; b) delle finalit\xe0 e modalit\xe0 del trattamento; c) della logica applicata in caso di trattamento effettuato con l'ausilio di strumenti elettronici; d) degli estremi identificativi del titolare, dei responsabili e del rappresentante designato ai sensi dell'art. 3, comma 1, GDPR; e) dei soggetti o delle categorie di soggetti ai quali i dati personali possono essere comunicati o che possono venirne a conoscenza in qualit\xe0 di rappresentante designato nel territorio dello Stato, di responsabili o incaricati; iii. ottenere: a) l'aggiornamento, la rettificazione ovvero l'integrazione dei dati; b) la cancellazione, la trasformazione in forma anonima o il blocco dei dati trattati in violazione di legge, compresi quelli di cui non \xe8 necessaria la conservazione in relazione agli scopi per i quali i dati sono stati raccolti o successivamente trattati; c) l'attestazione che le operazioni di cui alle lettere a) e b) sono state portate a conoscenza, anche per quanto riguarda il loro contenuto, di coloro ai quali i dati sono stati comunicati o diffusi, eccettuato il caso in cui tale adempimento si rivela impossibile o comporta un impiego di mezzi manifestamente sproporzionato rispetto al diritto tutelato; iv. opporsi, in tutto o in parte: a) per motivi legittimi al trattamento dei dati personali che Vi riguardano, ancorch\xe9 pertinenti allo scopo della raccolta; b) al trattamento di dati personali che Vi riguardano a fini di invio di materiale pubblicitario o di vendita diretta o per il compimento di ricerche di mercato o di comunicazione commerciale, mediante l\u2019uso di sistemi automatizzati di chiamata senza l\u2019intervento di un operatore mediante email e/o mediante modalit\xe0 di marketing tradizionali mediante telefono e/o posta cartacea. Ove applicabili, avrete altres\xec i diritti di cui agli artt. 16-21 GDPR (Diritto di rettifica, diritto all\u2019oblio, diritto di limitazione di trattamento, diritto alla portabilit\xe0 dei dati, diritto di opposizione), nonch\xe9 il diritto di reclamo all\u2019Autorit\xe0 Garante. In qualsiasi momento potrete  ottenere conferma dell'esistenza o meno di dati personali che Vi riguardano e la comunicazione di tali dati e delle finalit\xe0 su cui si basa il trattamento.  Inoltre, potrete ottenere la cancellazione, la trasformazione in forma anonima o il blocco dei dati trattati in violazione di legge, nonch\xe9 l'aggiornamento, la rettificazione o, qualora sussista un Vostro interesse in merito, l'integrazione dei dati.  Potrete opporvi, per motivi legittimi, al trattamento. Vi chiediamo cortesemente di segnalare tempestivamente all\u2019Ufficio di riferimento della societ\xe0 ogni eventuale variazione dei Vostri dati personali in modo da poter ottemperare alla normativa vigente, che richiede che i dati raccolti siano esatti e, quindi, aggiornati. Titolare e responsabile del trattamento: titolare del trattamento \xe8 NOVA CAPITAL SRL, con sede in Vanzaghello (MI) Via Albarina n. 11/b. Per esercitare i diritti previsti, tra i quali la modifica e la cancellazione dei dati, si prega di inviare comunicazione al seguente indirizzo e-mail:  ",Object(d.jsx)("a",{href:"mailto:info@finan-z.com",children:"info@finan-z.com"})," "]}),Object(d.jsx)("h3",{children:"Nova Capital SRL Societ\xe0"}),Object(d.jsx)("h3",{children:"Benefit"}),Object(d.jsx)("br",{})]}),Object(d.jsx)("br",{})]})};n(343);var ar=function(){return Object(d.jsxs)("div",{id:"policy",children:[Object(d.jsx)("br",{}),Object(d.jsxs)(Ua.a,{className:"block",children:[Object(d.jsx)("br",{}),Object(d.jsx)("h1",{children:"INFORMATION MADE PURSUANT TO ART. 13-14 OF THE GDPR (GENERAL DATA PROTECTION REGULATION) 2016/679"}),Object(d.jsx)("p",{children:"This privacy statement concerns your participation and all activities related to the NOVA CAPITAL SRL Communities Benefit Company - or in abbreviated form NOVA CAPITAL SRL SB. Its purpose is to explain the reasons why the personal data provided are processed, the way in which such data are collected, managed, protected, what use is made of the information obtained and what rights it is possible to exercise in this regard. In particular, for the establishment and execution of relationships with you in progress, our organization is in possession of your data, also acquired verbally, directly or through third parties, qualified as personal by the European Regulation 2016/679 from (GDPR) . According to the indicated legislation, this treatment will be based on principles of correctness, lawfulness, transparency and protection of your privacy and your rights. Pursuant to article 13 of the GDPR 2016/679, therefore, we provide you with the following information:"}),Object(d.jsx)("h3",{children:"Nature of the data processed"}),Object(d.jsx)("p",{children:"We process your normal personal data to allow you to participate in the initiatives and activities of the NOVA CAPITAL SRL community Benefit company - or in abbreviated form NOVA CAPITAL SRL SB No particular data will be processed. The legal basis is constituted by the articles 6, paragraph 1 letter a (consent), b (contract execution), f (legitimate interest of the owner)."}),Object(d.jsx)("h5",{children:"Purpose of the treatment and duration"}),Object(d.jsx)("p",{children:"The collection and use of data allows us to determine if a user belongs to the community, to contact users for questions relating to online and offline activities within the community itself, to know their specific interests and to guarantee their participation in various initiatives. The data is processed for the following purposes: to fulfill pre-contractual, contractual and tax obligations deriving from existing relationships with you; fulfill the obligations established by law, by a regulation, by community legislation or by an order of the Authority; send communications on community activities; exercise the rights of the owner, for example the right to defense in court; collect data relating to how our app is used, to provide services of specific interest. We are not in possession of your data that can be qualified as particular or of a judicial nature (articles 9 and 10 of the GDPR). If the person providing the data is a minor, this processing is lawful only if and to the extent that the consent - where necessary - is given by the holder of parental responsibility for which the identification data are acquired. The data is processed for the entire duration provided for by legal and tax obligations and for the management of activities or events in which you will participate. The Data Controller will process personal data for the time necessary to fulfill the aforementioned purposes and in compliance with legal obligations."}),Object(d.jsx)("h3",{children:"Obligation or right to provide data"}),Object(d.jsx)("p",{children:"With regard to the data that we are obliged to know, in order to fulfill the obligations established by law, failure to provide them by you makes it impossible to establish or continue the relationship, within the limits in which such data are necessary for the execution. of the same."}),Object(d.jsx)("h3",{children:"Scope of knowledge of your data"}),Object(d.jsx)("p",{children:" the following categories of subjects may become aware of your data, as managers or processors, appointed by the undersigned association that is the data controller: shareholders, directors, internal secretarial offices; accounting and billing staff."}),Object(d.jsx)("h3",{children:"Communication and dissemination"}),Object(d.jsx)("p",{children:" Your data will not be disclosed by us to indeterminate subjects by making them available or consulted. Your data may be communicated by us, as far as their respective and specific competence is concerned, to Bodies and in general to any public or private subject with respect to which there is an obligation for us (or faculty recognized by law or secondary legislation or community) or communication needs, as well as to our consultants, within the limits necessary to carry out their assignment at our organization, subject to our letter of appointment which imposes the duty of confidentiality and security."}),Object(d.jsx)("h3",{children:"Data transfer to countries outside the European Union"}),Object(d.jsx)("p",{children:" Only where necessary will the Personal Data be transferred abroad to non-European countries whose data protection level has been deemed adequate by the European Commission pursuant to art. 45 of the GDPR or after signing the standard contractual clauses (Standard Contractual Clauses) adopted / approved by the European Commission pursuant to art. 46, 2 lett. C) and d) or after the adoption of the other guarantees referred to in art. 46 and 47 of the GDPR."}),Object(d.jsx)("h3",{children:"Your rights"}),Object(d.jsxs)("p",{children:["In your capacity as an interested party, you have the rights referred to in art. 15 GDPR and precisely the rights of: i. obtain confirmation of the existence or not of personal data concerning you, even if not yet registered, and their communication in an intelligible form; ii. obtain the indication: a) of the origin of the personal data; b) the purposes and methods of the processing; c) of the logic applied in case of treatment carried out with the aid of electronic instruments; d) the identity of the owner, manager and the representative appointed pursuant to art. 3, paragraph 1, GDPR; e) the subjects or categories of subjects to whom the personal data may be communicated or who can learn about them as appointed representative in the State, managers or agents; iii. obtain: a) the updating, rectification or integration of data; b) the cancellation, transformation into anonymous form or blocking of data processed in violation of the law, including data which need not be kept for the purposes for which the data were collected or subsequently processed; c) the attestation that the operations referred to in letters a) and b) have been brought to the attention, also as regards their content, of those to whom the data have been communicated or disseminated, except in the case in which this fulfillment is proves impossible or involves the use of means that are manifestly disproportionate to the protected right; iv. object, in whole or in part: a) for legitimate reasons to the processing of personal data concerning you, even if pertinent to the purpose of the collection; b) to the processing of personal data concerning you for the purpose of sending advertising or direct sales material or for carrying out market research or commercial communication, through the use of automated call systems without the intervention of an operator by email and / or through traditional marketing methods by telephone and / or paper mail. Where applicable, you will also have the rights referred to in Articles. 16-21 GDPR (Right of rectification, right to be forgotten, right to limitation of treatment, right to data portability, right of opposition), as well as the right of complaint to the Guarantor Authority. At any time you can obtain confirmation of the existence or not of personal data concerning you and the communication of such data and the purposes on which the processing is based. Furthermore, you can obtain the cancellation, transformation into anonymous form or blocking of data processed in violation of the law, as well as the updating, rectification or, if you are interested in this, the integration of the data. You can oppose the processing for legitimate reasons. We kindly ask you to promptly report any changes to your personal data to the relevant office of the company in order to comply with current legislation, which requires that the data collected be accurate and, therefore, updated. Owner and manager of the treatment: the owner of the treatment is NOVA CAPITAL SRL, with headquarters in Vanzaghello (MI) Via Albarina n. 11 / b. To exercise the rights provided, including the modification and deletion of data, please send a communication to the following e-mail address: ",Object(d.jsx)("a",{href:"mailto:info@finan-z.com",children:"info@finan-z.com"})," "]}),Object(d.jsx)("h3",{children:"Nova Capital SRL Societ\xe0"}),Object(d.jsx)("h3",{children:"Benefit"}),Object(d.jsx)("br",{})]}),Object(d.jsx)("br",{})]})},ir={home:{path:"/",url:"/",component:function(e){return Object(d.jsx)(h,Object(l.a)({},e))}},dashboard:{path:"/dashboard",url:"/dashboard/*",component:function(e){return Object(d.jsx)(Yi,Object(l.a)({},e))}},login:{path:"/login",url:"/login/*",component:function(e){return Object(d.jsx)(os,Object(l.a)({},e))}},activation_page:{path:"/activate_user",url:"/activate_user/:code",component:function(e){return Object(d.jsx)(er,Object(l.a)({},e))}},test:{path:"/test",url:"/test/*",component:function(e){return Object(d.jsx)(ls,Object(l.a)({},e))}},homepage:{path:"/home/",url:"/home/*",component:function(e){return Object(d.jsx)($s,Object(l.a)({},e))}},recover_password:{path:"/recover_password/",url:"/recover_password/:code",component:function(e){return Object(d.jsx)(tr,Object(l.a)({},e))}},policy:{path:"/policy/",url:"/policy",component:function(e){return Object(d.jsx)(nr,Object(l.a)({},e))}},enpolicy:{path:"/enpolicy/",url:"/enpolicy",component:function(e){return Object(d.jsx)(ar,Object(l.a)({},e))}}},sr=(n(344),n(345),"https://apifinanz.com/");var rr=function(){var e=Object(o.e)(),t=Object(a.useState)({mobileMode:!1,windowWidth:0,windowHeight:0,dashboardContainerHeight:0}),n=Object(c.a)(t,2),i=n[0],s=n[1],r=Object(a.useRef)();function l(){var e=document.getElementById("content_container"),t=0;null!=e&&(t=e.clientHeight),s({mobileMode:window.innerWidth<=768,windowWidth:window.innerWidth,windowHeight:window.innerHeight,dashboardContainerHeight:t})}return Object(a.useEffect)((function(){l()}),[e]),Object(a.useEffect)((function(){l(),window.addEventListener("resize",(function(){return l()})),r.current=new MutationObserver((function(e){void 0!=document.getElementById("content_container")&&(console.log(document.getElementById("content_container")),l(),r.current.disconnect())})),r.current.observe(document.body,{childList:!0,subtree:!0})}),[]),Object(d.jsx)(Ra,{children:Object.values(ir).map((function(e){return Object(d.jsx)(o.a,{path:e.url,element:e.component({windowInfo:i})})}))})};s.a.render(Object(d.jsx)(r.a,{children:Object(d.jsx)(rr,{})}),document.getElementById("root"))}},[[346,1,2]]]);
//# sourceMappingURL=main.33f85e95.chunk.js.map